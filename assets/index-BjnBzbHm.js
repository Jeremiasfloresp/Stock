(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sp(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const en={},hl=[],Xi=()=>{},Sy=()=>!1,Lh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),op=e=>e.startsWith("onUpdate:"),vr=Object.assign,ap=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},xy=Object.prototype.hasOwnProperty,ze=(e,t)=>xy.call(e,t),de=Array.isArray,fl=e=>Qu(e)==="[object Map]",Ch=e=>Qu(e)==="[object Set]",M1=e=>Qu(e)==="[object Date]",be=e=>typeof e=="function",Pn=e=>typeof e=="string",ns=e=>typeof e=="symbol",an=e=>e!==null&&typeof e=="object",u2=e=>(an(e)||be(e))&&be(e.then)&&be(e.catch),c2=Object.prototype.toString,Qu=e=>c2.call(e),Iy=e=>Qu(e).slice(8,-1),h2=e=>Qu(e)==="[object Object]",lp=e=>Pn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_u=sp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ty=/-(\w)/g,hi=Rh(e=>e.replace(Ty,(t,n)=>n?n.toUpperCase():"")),Py=/\B([A-Z])/g,Ea=Rh(e=>e.replace(Py,"-$1").toLowerCase()),kh=Rh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lf=Rh(e=>e?`on${kh(e)}`:""),xo=(e,t)=>!Object.is(e,t),jc=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},f2=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},eh=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let V1;const Dh=()=>V1||(V1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function up(e){if(de(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Pn(r)?Ry(r):up(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(Pn(e)||an(e))return e}const Ny=/;(?![^(]*\))/g,Ly=/:([^]+)/,Cy=/\/\*[^]*?\*\//g;function Ry(e){const t={};return e.replace(Cy,"").split(Ny).forEach(n=>{if(n){const r=n.split(Ly);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Fl(e){let t="";if(Pn(e))t=e;else if(de(e))for(let n=0;n<e.length;n++){const r=Fl(e[n]);r&&(t+=r+" ")}else if(an(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ky="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dy=sp(ky);function d2(e){return!!e||e===""}function Oy(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Oh(e[r],t[r]);return n}function Oh(e,t){if(e===t)return!0;let n=M1(e),r=M1(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ns(e),r=ns(t),n||r)return e===t;if(n=de(e),r=de(t),n||r)return n&&r?Oy(e,t):!1;if(n=an(e),r=an(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),u=t.hasOwnProperty(o);if(a&&!u||!a&&u||!Oh(e[o],t[o]))return!1}}return String(e)===String(t)}function Fy(e,t){return e.findIndex(n=>Oh(n,t))}const p2=e=>!!(e&&e.__v_isRef===!0),$e=e=>Pn(e)?e:e==null?"":de(e)||an(e)&&(e.toString===c2||!be(e.toString))?p2(e)?$e(e.value):JSON.stringify(e,g2,2):String(e),g2=(e,t)=>p2(t)?g2(e,t.value):fl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[Cf(r,s)+" =>"]=i,n),{})}:Ch(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Cf(n))}:ns(t)?Cf(t):an(t)&&!de(t)&&!h2(t)?String(t):t,Cf=(e,t="")=>{var n;return ns(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gr;class My{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Gr,!t&&Gr&&(this.index=(Gr.scopes||(Gr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Gr;try{return Gr=this,t()}finally{Gr=n}}}on(){Gr=this}off(){Gr=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Vy(){return Gr}let on;const Rf=new WeakSet;class m2{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Gr&&Gr.active&&Gr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rf.has(this)&&(Rf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||y2(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,j1(this),_2(this);const t=on,n=Ii;on=this,Ii=!0;try{return this.fn()}finally{b2(this),on=t,Ii=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)fp(t);this.deps=this.depsTail=void 0,j1(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ud(this)&&this.run()}get dirty(){return ud(this)}}let v2=0,bu,wu;function y2(e,t=!1){if(e.flags|=8,t){e.next=wu,wu=e;return}e.next=bu,bu=e}function cp(){v2++}function hp(){if(--v2>0)return;if(wu){let t=wu;for(wu=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;bu;){let t=bu;for(bu=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function _2(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function b2(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),fp(r),jy(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function ud(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(w2(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function w2(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ku))return;e.globalVersion=ku;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ud(e)){e.flags&=-3;return}const n=on,r=Ii;on=e,Ii=!0;try{_2(e);const i=e.fn(e._value);(t.version===0||xo(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{on=n,Ii=r,b2(e),e.flags&=-3}}function fp(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)fp(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function jy(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ii=!0;const A2=[];function jo(){A2.push(Ii),Ii=!1}function Bo(){const e=A2.pop();Ii=e===void 0?!0:e}function j1(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=on;on=void 0;try{t()}finally{on=n}}}let ku=0;class By{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dp{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!on||!Ii||on===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==on)n=this.activeLink=new By(on,this),on.deps?(n.prevDep=on.depsTail,on.depsTail.nextDep=n,on.depsTail=n):on.deps=on.depsTail=n,E2(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=on.depsTail,n.nextDep=void 0,on.depsTail.nextDep=n,on.depsTail=n,on.deps===n&&(on.deps=r)}return n}trigger(t){this.version++,ku++,this.notify(t)}notify(t){cp();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{hp()}}}function E2(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)E2(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const cd=new WeakMap,va=Symbol(""),hd=Symbol(""),Du=Symbol("");function hr(e,t,n){if(Ii&&on){let r=cd.get(e);r||cd.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new dp),i.map=r,i.key=n),i.track()}}function Ls(e,t,n,r,i,s){const o=cd.get(e);if(!o){ku++;return}const a=u=>{u&&u.trigger()};if(cp(),t==="clear")o.forEach(a);else{const u=de(e),h=u&&lp(n);if(u&&n==="length"){const d=Number(r);o.forEach((g,_)=>{(_==="length"||_===Du||!ns(_)&&_>=d)&&a(g)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),h&&a(o.get(Du)),t){case"add":u?h&&a(o.get("length")):(a(o.get(va)),fl(e)&&a(o.get(hd)));break;case"delete":u||(a(o.get(va)),fl(e)&&a(o.get(hd)));break;case"set":fl(e)&&a(o.get(va));break}}hp()}function Ja(e){const t=Ue(e);return t===e?t:(hr(t,"iterate",Du),ci(e)?t:t.map(fr))}function Fh(e){return hr(e=Ue(e),"iterate",Du),e}const qy={__proto__:null,[Symbol.iterator](){return kf(this,Symbol.iterator,fr)},concat(...e){return Ja(this).concat(...e.map(t=>de(t)?Ja(t):t))},entries(){return kf(this,"entries",e=>(e[1]=fr(e[1]),e))},every(e,t){return xs(this,"every",e,t,void 0,arguments)},filter(e,t){return xs(this,"filter",e,t,n=>n.map(fr),arguments)},find(e,t){return xs(this,"find",e,t,fr,arguments)},findIndex(e,t){return xs(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xs(this,"findLast",e,t,fr,arguments)},findLastIndex(e,t){return xs(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xs(this,"forEach",e,t,void 0,arguments)},includes(...e){return Df(this,"includes",e)},indexOf(...e){return Df(this,"indexOf",e)},join(e){return Ja(this).join(e)},lastIndexOf(...e){return Df(this,"lastIndexOf",e)},map(e,t){return xs(this,"map",e,t,void 0,arguments)},pop(){return au(this,"pop")},push(...e){return au(this,"push",e)},reduce(e,...t){return B1(this,"reduce",e,t)},reduceRight(e,...t){return B1(this,"reduceRight",e,t)},shift(){return au(this,"shift")},some(e,t){return xs(this,"some",e,t,void 0,arguments)},splice(...e){return au(this,"splice",e)},toReversed(){return Ja(this).toReversed()},toSorted(e){return Ja(this).toSorted(e)},toSpliced(...e){return Ja(this).toSpliced(...e)},unshift(...e){return au(this,"unshift",e)},values(){return kf(this,"values",fr)}};function kf(e,t,n){const r=Fh(e),i=r[t]();return r!==e&&!ci(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const Uy=Array.prototype;function xs(e,t,n,r,i,s){const o=Fh(e),a=o!==e&&!ci(e),u=o[t];if(u!==Uy[t]){const g=u.apply(e,s);return a?fr(g):g}let h=n;o!==e&&(a?h=function(g,_){return n.call(this,fr(g),_,e)}:n.length>2&&(h=function(g,_){return n.call(this,g,_,e)}));const d=u.call(o,h,r);return a&&i?i(d):d}function B1(e,t,n,r){const i=Fh(e);let s=n;return i!==e&&(ci(e)?n.length>3&&(s=function(o,a,u){return n.call(this,o,a,u,e)}):s=function(o,a,u){return n.call(this,o,fr(a),u,e)}),i[t](s,...r)}function Df(e,t,n){const r=Ue(e);hr(r,"iterate",Du);const i=r[t](...n);return(i===-1||i===!1)&&mp(n[0])?(n[0]=Ue(n[0]),r[t](...n)):i}function au(e,t,n=[]){jo(),cp();const r=Ue(e)[t].apply(e,n);return hp(),Bo(),r}const zy=sp("__proto__,__v_isRef,__isVue"),S2=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ns));function $y(e){ns(e)||(e=String(e));const t=Ue(this);return hr(t,"has",e),t.hasOwnProperty(e)}class x2{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?t_:N2:s?P2:T2).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=de(t);if(!i){let u;if(o&&(u=qy[n]))return u;if(n==="hasOwnProperty")return $y}const a=Reflect.get(t,n,mr(t)?t:r);return(ns(n)?S2.has(n):zy(n))||(i||hr(t,"get",n),s)?a:mr(a)?o&&lp(n)?a:a.value:an(a)?i?C2(a):Mh(a):a}}class I2 extends x2{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const u=_a(s);if(!ci(r)&&!_a(r)&&(s=Ue(s),r=Ue(r)),!de(t)&&mr(s)&&!mr(r))return u?!1:(s.value=r,!0)}const o=de(t)&&lp(n)?Number(n)<t.length:ze(t,n),a=Reflect.set(t,n,r,mr(t)?t:i);return t===Ue(i)&&(o?xo(r,s)&&Ls(t,"set",n,r):Ls(t,"add",n,r)),a}deleteProperty(t,n){const r=ze(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Ls(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ns(n)||!S2.has(n))&&hr(t,"has",n),r}ownKeys(t){return hr(t,"iterate",de(t)?"length":va),Reflect.ownKeys(t)}}class Hy extends x2{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Wy=new I2,Gy=new Hy,Ky=new I2(!0);const fd=e=>e,Ic=e=>Reflect.getPrototypeOf(e);function Qy(e,t,n){return function(...r){const i=this.__v_raw,s=Ue(i),o=fl(s),a=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,h=i[e](...r),d=n?fd:t?dd:fr;return!t&&hr(s,"iterate",u?hd:va),{next(){const{value:g,done:_}=h.next();return _?{value:g,done:_}:{value:a?[d(g[0]),d(g[1])]:d(g),done:_}},[Symbol.iterator](){return this}}}}function Tc(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Yy(e,t){const n={get(i){const s=this.__v_raw,o=Ue(s),a=Ue(i);e||(xo(i,a)&&hr(o,"get",i),hr(o,"get",a));const{has:u}=Ic(o),h=t?fd:e?dd:fr;if(u.call(o,i))return h(s.get(i));if(u.call(o,a))return h(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!e&&hr(Ue(i),"iterate",va),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=Ue(s),a=Ue(i);return e||(xo(i,a)&&hr(o,"has",i),hr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,u=Ue(a),h=t?fd:e?dd:fr;return!e&&hr(u,"iterate",va),a.forEach((d,g)=>i.call(s,h(d),h(g),o))}};return vr(n,e?{add:Tc("add"),set:Tc("set"),delete:Tc("delete"),clear:Tc("clear")}:{add(i){!t&&!ci(i)&&!_a(i)&&(i=Ue(i));const s=Ue(this);return Ic(s).has.call(s,i)||(s.add(i),Ls(s,"add",i,i)),this},set(i,s){!t&&!ci(s)&&!_a(s)&&(s=Ue(s));const o=Ue(this),{has:a,get:u}=Ic(o);let h=a.call(o,i);h||(i=Ue(i),h=a.call(o,i));const d=u.call(o,i);return o.set(i,s),h?xo(s,d)&&Ls(o,"set",i,s):Ls(o,"add",i,s),this},delete(i){const s=Ue(this),{has:o,get:a}=Ic(s);let u=o.call(s,i);u||(i=Ue(i),u=o.call(s,i)),a&&a.call(s,i);const h=s.delete(i);return u&&Ls(s,"delete",i,void 0),h},clear(){const i=Ue(this),s=i.size!==0,o=i.clear();return s&&Ls(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Qy(i,e,t)}),n}function pp(e,t){const n=Yy(e,t);return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(ze(n,i)&&i in r?n:r,i,s)}const Jy={get:pp(!1,!1)},Xy={get:pp(!1,!0)},Zy={get:pp(!0,!1)};const T2=new WeakMap,P2=new WeakMap,N2=new WeakMap,t_=new WeakMap;function e_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function n_(e){return e.__v_skip||!Object.isExtensible(e)?0:e_(Iy(e))}function Mh(e){return _a(e)?e:gp(e,!1,Wy,Jy,T2)}function L2(e){return gp(e,!1,Ky,Xy,P2)}function C2(e){return gp(e,!0,Gy,Zy,N2)}function gp(e,t,n,r,i){if(!an(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=n_(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function dl(e){return _a(e)?dl(e.__v_raw):!!(e&&e.__v_isReactive)}function _a(e){return!!(e&&e.__v_isReadonly)}function ci(e){return!!(e&&e.__v_isShallow)}function mp(e){return e?!!e.__v_raw:!1}function Ue(e){const t=e&&e.__v_raw;return t?Ue(t):e}function r_(e){return!ze(e,"__v_skip")&&Object.isExtensible(e)&&f2(e,"__v_skip",!0),e}const fr=e=>an(e)?Mh(e):e,dd=e=>an(e)?C2(e):e;function mr(e){return e?e.__v_isRef===!0:!1}function Ve(e){return R2(e,!1)}function i_(e){return R2(e,!0)}function R2(e,t){return mr(e)?e:new s_(e,t)}class s_{constructor(t,n){this.dep=new dp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ue(t),this._value=n?t:fr(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ci(t)||_a(t);t=r?t:Ue(t),xo(t,n)&&(this._rawValue=t,this._value=r?t:fr(t),this.dep.trigger())}}function pl(e){return mr(e)?e.value:e}const o_={get:(e,t,n)=>t==="__v_raw"?e:pl(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return mr(i)&&!mr(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function k2(e){return dl(e)?e:new Proxy(e,o_)}class a_{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new dp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ku-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&on!==this)return y2(this,!0),!0}get value(){const t=this.dep.track();return w2(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function l_(e,t,n=!1){let r,i;return be(e)?r=e:(r=e.get,i=e.set),new a_(r,i,n)}const Pc={},nh=new WeakMap;let ha;function u_(e,t=!1,n=ha){if(n){let r=nh.get(n);r||nh.set(n,r=[]),r.push(e)}}function c_(e,t,n=en){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:u}=n,h=Z=>i?Z:ci(Z)||i===!1||i===0?Cs(Z,1):Cs(Z);let d,g,_,m,N=!1,T=!1;if(mr(e)?(g=()=>e.value,N=ci(e)):dl(e)?(g=()=>h(e),N=!0):de(e)?(T=!0,N=e.some(Z=>dl(Z)||ci(Z)),g=()=>e.map(Z=>{if(mr(Z))return Z.value;if(dl(Z))return h(Z);if(be(Z))return u?u(Z,2):Z()})):be(e)?t?g=u?()=>u(e,2):e:g=()=>{if(_){jo();try{_()}finally{Bo()}}const Z=ha;ha=d;try{return u?u(e,3,[m]):e(m)}finally{ha=Z}}:g=Xi,t&&i){const Z=g,yt=i===!0?1/0:i;g=()=>Cs(Z(),yt)}const M=Vy(),P=()=>{d.stop(),M&&M.active&&ap(M.effects,d)};if(s&&t){const Z=t;t=(...yt)=>{Z(...yt),P()}}let k=T?new Array(e.length).fill(Pc):Pc;const K=Z=>{if(!(!(d.flags&1)||!d.dirty&&!Z))if(t){const yt=d.run();if(i||N||(T?yt.some((Tt,O)=>xo(Tt,k[O])):xo(yt,k))){_&&_();const Tt=ha;ha=d;try{const O=[yt,k===Pc?void 0:T&&k[0]===Pc?[]:k,m];u?u(t,3,O):t(...O),k=yt}finally{ha=Tt}}}else d.run()};return a&&a(K),d=new m2(g),d.scheduler=o?()=>o(K,!1):K,m=Z=>u_(Z,!1,d),_=d.onStop=()=>{const Z=nh.get(d);if(Z){if(u)u(Z,4);else for(const yt of Z)yt();nh.delete(d)}},t?r?K(!0):k=d.run():o?o(K.bind(null,!0),!0):d.run(),P.pause=d.pause.bind(d),P.resume=d.resume.bind(d),P.stop=P,P}function Cs(e,t=1/0,n){if(t<=0||!an(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,mr(e))Cs(e.value,t,n);else if(de(e))for(let r=0;r<e.length;r++)Cs(e[r],t,n);else if(Ch(e)||fl(e))e.forEach(r=>{Cs(r,t,n)});else if(h2(e)){for(const r in e)Cs(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Cs(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yu(e,t,n,r){try{return r?e(...r):e()}catch(i){Vh(i,t,n)}}function rs(e,t,n,r){if(be(e)){const i=Yu(e,t,n,r);return i&&u2(i)&&i.catch(s=>{Vh(s,t,n)}),i}if(de(e)){const i=[];for(let s=0;s<e.length;s++)i.push(rs(e[s],t,n,r));return i}}function Vh(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||en;if(t){let a=t.parent;const u=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,u,h)===!1)return}a=a.parent}if(s){jo(),Yu(s,null,10,[e,u,h]),Bo();return}}h_(e,n,i,r,o)}function h_(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Tr=[];let Gi=-1;const gl=[];let _o=null,tl=0;const D2=Promise.resolve();let rh=null;function vp(e){const t=rh||D2;return e?t.then(this?e.bind(this):e):t}function f_(e){let t=Gi+1,n=Tr.length;for(;t<n;){const r=t+n>>>1,i=Tr[r],s=Ou(i);s<e||s===e&&i.flags&2?t=r+1:n=r}return t}function yp(e){if(!(e.flags&1)){const t=Ou(e),n=Tr[Tr.length-1];!n||!(e.flags&2)&&t>=Ou(n)?Tr.push(e):Tr.splice(f_(t),0,e),e.flags|=1,O2()}}function O2(){rh||(rh=D2.then(M2))}function d_(e){de(e)?gl.push(...e):_o&&e.id===-1?_o.splice(tl+1,0,e):e.flags&1||(gl.push(e),e.flags|=1),O2()}function q1(e,t,n=Gi+1){for(;n<Tr.length;n++){const r=Tr[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Tr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function F2(e){if(gl.length){const t=[...new Set(gl)].sort((n,r)=>Ou(n)-Ou(r));if(gl.length=0,_o){_o.push(...t);return}for(_o=t,tl=0;tl<_o.length;tl++){const n=_o[tl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}_o=null,tl=0}}const Ou=e=>e.id==null?e.flags&2?-1:1/0:e.id;function M2(e){try{for(Gi=0;Gi<Tr.length;Gi++){const t=Tr[Gi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Yu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Gi<Tr.length;Gi++){const t=Tr[Gi];t&&(t.flags&=-2)}Gi=-1,Tr.length=0,F2(),rh=null,(Tr.length||gl.length)&&M2()}}let Yr=null,V2=null;function ih(e){const t=Yr;return Yr=e,V2=e&&e.type.__scopeId||null,t}function Bc(e,t=Yr,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&eg(-1);const s=ih(t);let o;try{o=e(...i)}finally{ih(s),r._d&&eg(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Oe(e,t){if(Yr===null)return e;const n=zh(Yr),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,o,a,u=en]=t[i];s&&(be(s)&&(s={mounted:s,updated:s}),s.deep&&Cs(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:u}))}return e}function ua(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let u=a.dir[r];u&&(jo(),rs(u,n,8,[e.el,a,e,t]),Bo())}}const j2=Symbol("_vte"),p_=e=>e.__isTeleport,Au=e=>e&&(e.disabled||e.disabled===""),U1=e=>e&&(e.defer||e.defer===""),z1=e=>typeof SVGElement<"u"&&e instanceof SVGElement,$1=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,pd=(e,t)=>{const n=e&&e.to;return Pn(n)?t?t(n):null:n},B2={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,s,o,a,u,h){const{mc:d,pc:g,pbc:_,o:{insert:m,querySelector:N,createText:T,createComment:M}}=h,P=Au(t.props);let{shapeFlag:k,children:K,dynamicChildren:Z}=t;if(e==null){const yt=t.el=T(""),Tt=t.anchor=T("");m(yt,n,r),m(Tt,n,r);const O=(I,U)=>{k&16&&(i&&i.isCE&&(i.ce._teleportTarget=I),d(K,I,U,i,s,o,a,u))},b=()=>{const I=t.target=pd(t.props,N),U=q2(I,t,T,m);I&&(o!=="svg"&&z1(I)?o="svg":o!=="mathml"&&$1(I)&&(o="mathml"),P||(O(I,U),qc(t,!1)))};P&&(O(n,Tt),qc(t,!0)),U1(t.props)?Ir(()=>{b(),t.el.__isMounted=!0},s):b()}else{if(U1(t.props)&&!e.el.__isMounted){Ir(()=>{B2.process(e,t,n,r,i,s,o,a,u,h),delete e.el.__isMounted},s);return}t.el=e.el,t.targetStart=e.targetStart;const yt=t.anchor=e.anchor,Tt=t.target=e.target,O=t.targetAnchor=e.targetAnchor,b=Au(e.props),I=b?n:Tt,U=b?yt:O;if(o==="svg"||z1(Tt)?o="svg":(o==="mathml"||$1(Tt))&&(o="mathml"),Z?(_(e.dynamicChildren,Z,I,i,s,o,a),wp(e,t,!0)):u||g(e,t,I,U,i,s,o,a,!1),P)b?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Nc(t,n,yt,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const x=t.target=pd(t.props,N);x&&Nc(t,x,null,h,0)}else b&&Nc(t,Tt,O,h,1);qc(t,P)}},remove(e,t,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:u,targetStart:h,targetAnchor:d,target:g,props:_}=e;if(g&&(i(h),i(d)),s&&i(u),o&16){const m=s||!Au(_);for(let N=0;N<a.length;N++){const T=a[N];r(T,t,n,m,!!T.dynamicChildren)}}},move:Nc,hydrate:g_};function Nc(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:u,children:h,props:d}=e,g=s===2;if(g&&r(o,t,n),(!g||Au(d))&&u&16)for(let _=0;_<h.length;_++)i(h[_],t,n,2);g&&r(a,t,n)}function g_(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:u,insert:h,createText:d}},g){const _=t.target=pd(t.props,u);if(_){const m=Au(t.props),N=_._lpa||_.firstChild;if(t.shapeFlag&16)if(m)t.anchor=g(o(e),t,a(e),n,r,i,s),t.targetStart=N,t.targetAnchor=N&&o(N);else{t.anchor=o(e);let T=N;for(;T;){if(T&&T.nodeType===8){if(T.data==="teleport start anchor")t.targetStart=T;else if(T.data==="teleport anchor"){t.targetAnchor=T,_._lpa=t.targetAnchor&&o(t.targetAnchor);break}}T=o(T)}t.targetAnchor||q2(_,t,d,h),g(N&&o(N),t,_,n,r,i,s)}qc(t,m)}return t.anchor&&o(t.anchor)}const du=B2;function qc(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function q2(e,t,n,r){const i=t.targetStart=n(""),s=t.targetAnchor=n("");return i[j2]=s,e&&(r(i,e),r(s,e)),s}function _p(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_p(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function U2(e,t){return be(e)?vr({name:e.name},t,{setup:e}):e}function z2(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function sh(e,t,n,r,i=!1){if(de(e)){e.forEach((N,T)=>sh(N,t&&(de(t)?t[T]:t),n,r,i));return}if(Eu(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&sh(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?zh(r.component):r.el,o=i?null:s,{i:a,r:u}=e,h=t&&t.r,d=a.refs===en?a.refs={}:a.refs,g=a.setupState,_=Ue(g),m=g===en?()=>!1:N=>ze(_,N);if(h!=null&&h!==u&&(Pn(h)?(d[h]=null,m(h)&&(g[h]=null)):mr(h)&&(h.value=null)),be(u))Yu(u,a,12,[o,d]);else{const N=Pn(u),T=mr(u);if(N||T){const M=()=>{if(e.f){const P=N?m(u)?g[u]:d[u]:u.value;i?de(P)&&ap(P,s):de(P)?P.includes(s)||P.push(s):N?(d[u]=[s],m(u)&&(g[u]=d[u])):(u.value=[s],e.k&&(d[e.k]=u.value))}else N?(d[u]=o,m(u)&&(g[u]=o)):T&&(u.value=o,e.k&&(d[e.k]=o))};o?(M.id=-1,Ir(M,n)):M()}}}Dh().requestIdleCallback;Dh().cancelIdleCallback;const Eu=e=>!!e.type.__asyncLoader,$2=e=>e.type.__isKeepAlive;function m_(e,t){H2(e,"a",t)}function v_(e,t){H2(e,"da",t)}function H2(e,t,n=pr){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(jh(t,r,n),n){let i=n.parent;for(;i&&i.parent;)$2(i.parent.vnode)&&y_(r,t,n,i),i=i.parent}}function y_(e,t,n,r){const i=jh(t,e,r,!0);W2(()=>{ap(r[t],i)},n)}function jh(e,t,n=pr,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{jo();const a=Ju(n),u=rs(t,n,e,o);return a(),Bo(),u});return r?i.unshift(s):i.push(s),s}}const js=e=>(t,n=pr)=>{(!Mu||e==="sp")&&jh(e,(...r)=>t(...r),n)},__=js("bm"),Bh=js("m"),b_=js("bu"),w_=js("u"),A_=js("bum"),W2=js("um"),E_=js("sp"),S_=js("rtg"),x_=js("rtc");function I_(e,t=pr){jh("ec",e,t)}const T_="components";function H1(e,t){return N_(T_,e,!0,t)||e}const P_=Symbol.for("v-ndc");function N_(e,t,n=!0,r=!1){const i=Yr||pr;if(i){const s=i.type;{const a=gb(s,!1);if(a&&(a===t||a===hi(t)||a===kh(hi(t))))return s}const o=W1(i[e]||s[e],t)||W1(i.appContext[e],t);return!o&&r?s:o}}function W1(e,t){return e&&(e[t]||e[hi(t)]||e[kh(hi(t))])}function Rs(e,t,n,r){let i;const s=n,o=de(e);if(o||Pn(e)){const a=o&&dl(e);let u=!1;a&&(u=!ci(e),e=Fh(e)),i=new Array(e.length);for(let h=0,d=e.length;h<d;h++)i[h]=t(u?fr(e[h]):e[h],h,void 0,s)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s)}else if(an(e))if(e[Symbol.iterator])i=Array.from(e,(a,u)=>t(a,u,void 0,s));else{const a=Object.keys(e);i=new Array(a.length);for(let u=0,h=a.length;u<h;u++){const d=a[u];i[u]=t(e[d],d,u,s)}}else i=[];return i}const gd=e=>e?f0(e)?zh(e):gd(e.parent):null,Su=vr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gd(e.parent),$root:e=>gd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>K2(e),$forceUpdate:e=>e.f||(e.f=()=>{yp(e.update)}),$nextTick:e=>e.n||(e.n=vp.bind(e.proxy)),$watch:e=>Y_.bind(e)}),Of=(e,t)=>e!==en&&!e.__isScriptSetup&&ze(e,t),L_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:u}=e;let h;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Of(r,t))return o[t]=1,r[t];if(i!==en&&ze(i,t))return o[t]=2,i[t];if((h=e.propsOptions[0])&&ze(h,t))return o[t]=3,s[t];if(n!==en&&ze(n,t))return o[t]=4,n[t];md&&(o[t]=0)}}const d=Su[t];let g,_;if(d)return t==="$attrs"&&hr(e.attrs,"get",""),d(e);if((g=a.__cssModules)&&(g=g[t]))return g;if(n!==en&&ze(n,t))return o[t]=4,n[t];if(_=u.config.globalProperties,ze(_,t))return _[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return Of(i,t)?(i[t]=n,!0):r!==en&&ze(r,t)?(r[t]=n,!0):ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==en&&ze(e,o)||Of(t,o)||(a=s[0])&&ze(a,o)||ze(r,o)||ze(Su,o)||ze(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function G1(e){return de(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let md=!0;function C_(e){const t=K2(e),n=e.proxy,r=e.ctx;md=!1,t.beforeCreate&&K1(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:u,inject:h,created:d,beforeMount:g,mounted:_,beforeUpdate:m,updated:N,activated:T,deactivated:M,beforeDestroy:P,beforeUnmount:k,destroyed:K,unmounted:Z,render:yt,renderTracked:Tt,renderTriggered:O,errorCaptured:b,serverPrefetch:I,expose:U,inheritAttrs:x,components:S,directives:A,filters:Q}=t;if(h&&R_(h,r,null),o)for(const dt in o){const ut=o[dt];be(ut)&&(r[dt]=ut.bind(n))}if(i){const dt=i.call(n,n);an(dt)&&(e.data=Mh(dt))}if(md=!0,s)for(const dt in s){const ut=s[dt],xt=be(ut)?ut.bind(n,n):be(ut.get)?ut.get.bind(n,n):Xi,Pt=!be(ut)&&be(ut.set)?ut.set.bind(n):Xi,$t=Tn({get:xt,set:Pt});Object.defineProperty(r,dt,{enumerable:!0,configurable:!0,get:()=>$t.value,set:R=>$t.value=R})}if(a)for(const dt in a)G2(a[dt],r,n,dt);if(u){const dt=be(u)?u.call(n):u;Reflect.ownKeys(dt).forEach(ut=>{Uc(ut,dt[ut])})}d&&K1(d,e,"c");function et(dt,ut){de(ut)?ut.forEach(xt=>dt(xt.bind(n))):ut&&dt(ut.bind(n))}if(et(__,g),et(Bh,_),et(b_,m),et(w_,N),et(m_,T),et(v_,M),et(I_,b),et(x_,Tt),et(S_,O),et(A_,k),et(W2,Z),et(E_,I),de(U))if(U.length){const dt=e.exposed||(e.exposed={});U.forEach(ut=>{Object.defineProperty(dt,ut,{get:()=>n[ut],set:xt=>n[ut]=xt})})}else e.exposed||(e.exposed={});yt&&e.render===Xi&&(e.render=yt),x!=null&&(e.inheritAttrs=x),S&&(e.components=S),A&&(e.directives=A),I&&z2(e)}function R_(e,t,n=Xi){de(e)&&(e=vd(e));for(const r in e){const i=e[r];let s;an(i)?"default"in i?s=ks(i.from||r,i.default,!0):s=ks(i.from||r):s=ks(i),mr(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function K1(e,t,n){rs(de(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function G2(e,t,n,r){let i=r.includes(".")?a0(n,r):()=>n[r];if(Pn(e)){const s=t[e];be(s)&&vl(i,s)}else if(be(e))vl(i,e.bind(n));else if(an(e))if(de(e))e.forEach(s=>G2(s,t,n,r));else{const s=be(e.handler)?e.handler.bind(n):t[e.handler];be(s)&&vl(i,s,e)}}function K2(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let u;return a?u=a:!i.length&&!n&&!r?u=t:(u={},i.length&&i.forEach(h=>oh(u,h,o,!0)),oh(u,t,o)),an(t)&&s.set(t,u),u}function oh(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&oh(e,s,n,!0),i&&i.forEach(o=>oh(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=k_[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const k_={data:Q1,props:Y1,emits:Y1,methods:pu,computed:pu,beforeCreate:xr,created:xr,beforeMount:xr,mounted:xr,beforeUpdate:xr,updated:xr,beforeDestroy:xr,beforeUnmount:xr,destroyed:xr,unmounted:xr,activated:xr,deactivated:xr,errorCaptured:xr,serverPrefetch:xr,components:pu,directives:pu,watch:O_,provide:Q1,inject:D_};function Q1(e,t){return t?e?function(){return vr(be(e)?e.call(this,this):e,be(t)?t.call(this,this):t)}:t:e}function D_(e,t){return pu(vd(e),vd(t))}function vd(e){if(de(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xr(e,t){return e?[...new Set([].concat(e,t))]:t}function pu(e,t){return e?vr(Object.create(null),e,t):t}function Y1(e,t){return e?de(e)&&de(t)?[...new Set([...e,...t])]:vr(Object.create(null),G1(e),G1(t??{})):t}function O_(e,t){if(!e)return t;if(!t)return e;const n=vr(Object.create(null),e);for(const r in t)n[r]=xr(e[r],t[r]);return n}function Q2(){return{app:null,config:{isNativeTag:Sy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let F_=0;function M_(e,t){return function(r,i=null){be(r)||(r=vr({},r)),i!=null&&!an(i)&&(i=null);const s=Q2(),o=new WeakSet,a=[];let u=!1;const h=s.app={_uid:F_++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:vb,get config(){return s.config},set config(d){},use(d,...g){return o.has(d)||(d&&be(d.install)?(o.add(d),d.install(h,...g)):be(d)&&(o.add(d),d(h,...g))),h},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),h},component(d,g){return g?(s.components[d]=g,h):s.components[d]},directive(d,g){return g?(s.directives[d]=g,h):s.directives[d]},mount(d,g,_){if(!u){const m=h._ceVNode||Zn(r,i);return m.appContext=s,_===!0?_="svg":_===!1&&(_=void 0),e(m,d,_),u=!0,h._container=d,d.__vue_app__=h,zh(m.component)}},onUnmount(d){a.push(d)},unmount(){u&&(rs(a,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(d,g){return s.provides[d]=g,h},runWithContext(d){const g=ml;ml=h;try{return d()}finally{ml=g}}};return h}}let ml=null;function Uc(e,t){if(pr){let n=pr.provides;const r=pr.parent&&pr.parent.provides;r===n&&(n=pr.provides=Object.create(r)),n[e]=t}}function ks(e,t,n=!1){const r=pr||Yr;if(r||ml){const i=ml?ml._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&be(t)?t.call(r&&r.proxy):t}}const Y2={},J2=()=>Object.create(Y2),X2=e=>Object.getPrototypeOf(e)===Y2;function V_(e,t,n,r=!1){const i={},s=J2();e.propsDefaults=Object.create(null),Z2(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:L2(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function j_(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=Ue(i),[u]=e.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let g=0;g<d.length;g++){let _=d[g];if(qh(e.emitsOptions,_))continue;const m=t[_];if(u)if(ze(s,_))m!==s[_]&&(s[_]=m,h=!0);else{const N=hi(_);i[N]=yd(u,a,N,m,e,!1)}else m!==s[_]&&(s[_]=m,h=!0)}}}else{Z2(e,t,i,s)&&(h=!0);let d;for(const g in a)(!t||!ze(t,g)&&((d=Ea(g))===g||!ze(t,d)))&&(u?n&&(n[g]!==void 0||n[d]!==void 0)&&(i[g]=yd(u,a,g,void 0,e,!0)):delete i[g]);if(s!==a)for(const g in s)(!t||!ze(t,g))&&(delete s[g],h=!0)}h&&Ls(e.attrs,"set","")}function Z2(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let u in t){if(_u(u))continue;const h=t[u];let d;i&&ze(i,d=hi(u))?!s||!s.includes(d)?n[d]=h:(a||(a={}))[d]=h:qh(e.emitsOptions,u)||(!(u in r)||h!==r[u])&&(r[u]=h,o=!0)}if(s){const u=Ue(n),h=a||en;for(let d=0;d<s.length;d++){const g=s[d];n[g]=yd(i,u,g,h[g],e,!ze(h,g))}}return o}function yd(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=ze(o,"default");if(a&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&be(u)){const{propsDefaults:h}=i;if(n in h)r=h[n];else{const d=Ju(i);r=h[n]=u.call(null,t),d()}}else r=u;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Ea(n))&&(r=!0))}return r}const B_=new WeakMap;function t0(e,t,n=!1){const r=n?B_:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let u=!1;if(!be(e)){const d=g=>{u=!0;const[_,m]=t0(g,t,!0);vr(o,_),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!u)return an(e)&&r.set(e,hl),hl;if(de(s))for(let d=0;d<s.length;d++){const g=hi(s[d]);J1(g)&&(o[g]=en)}else if(s)for(const d in s){const g=hi(d);if(J1(g)){const _=s[d],m=o[g]=de(_)||be(_)?{type:_}:vr({},_),N=m.type;let T=!1,M=!0;if(de(N))for(let P=0;P<N.length;++P){const k=N[P],K=be(k)&&k.name;if(K==="Boolean"){T=!0;break}else K==="String"&&(M=!1)}else T=be(N)&&N.name==="Boolean";m[0]=T,m[1]=M,(T||ze(m,"default"))&&a.push(g)}}const h=[o,a];return an(e)&&r.set(e,h),h}function J1(e){return e[0]!=="$"&&!_u(e)}const e0=e=>e[0]==="_"||e==="$stable",bp=e=>de(e)?e.map(Qi):[Qi(e)],q_=(e,t,n)=>{if(t._n)return t;const r=Bc((...i)=>bp(t(...i)),n);return r._c=!1,r},n0=(e,t,n)=>{const r=e._ctx;for(const i in e){if(e0(i))continue;const s=e[i];if(be(s))t[i]=q_(i,s,r);else if(s!=null){const o=bp(s);t[i]=()=>o}}},r0=(e,t)=>{const n=bp(t);e.slots.default=()=>n},i0=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},U_=(e,t,n)=>{const r=e.slots=J2();if(e.vnode.shapeFlag&32){const i=t._;i?(i0(r,t,n),n&&f2(r,"_",i,!0)):n0(t,r)}else t&&r0(e,t)},z_=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=en;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:i0(i,t,n):(s=!t.$stable,n0(t,i)),o=t}else t&&(r0(e,t),o={default:1});if(s)for(const a in i)!e0(a)&&o[a]==null&&delete i[a]},Ir=rb;function $_(e){return H_(e)}function H_(e,t){const n=Dh();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:u,setText:h,setElementText:d,parentNode:g,nextSibling:_,setScopeId:m=Xi,insertStaticContent:N}=e,T=(z,$,it,X=null,j=null,bt=null,Lt=void 0,vt=null,wt=!!$.dynamicChildren)=>{if(z===$)return;z&&!lu(z,$)&&(X=G(z),R(z,j,bt,!0),z=null),$.patchFlag===-2&&(wt=!1,$.dynamicChildren=null);const{type:_t,ref:Dt,shapeFlag:kt}=$;switch(_t){case Uh:M(z,$,it,X);break;case ba:P(z,$,it,X);break;case Mf:z==null&&k($,it,X,Lt);break;case Mn:S(z,$,it,X,j,bt,Lt,vt,wt);break;default:kt&1?yt(z,$,it,X,j,bt,Lt,vt,wt):kt&6?A(z,$,it,X,j,bt,Lt,vt,wt):(kt&64||kt&128)&&_t.process(z,$,it,X,j,bt,Lt,vt,wt,It)}Dt!=null&&j&&sh(Dt,z&&z.ref,bt,$||z,!$)},M=(z,$,it,X)=>{if(z==null)r($.el=a($.children),it,X);else{const j=$.el=z.el;$.children!==z.children&&h(j,$.children)}},P=(z,$,it,X)=>{z==null?r($.el=u($.children||""),it,X):$.el=z.el},k=(z,$,it,X)=>{[z.el,z.anchor]=N(z.children,$,it,X,z.el,z.anchor)},K=({el:z,anchor:$},it,X)=>{let j;for(;z&&z!==$;)j=_(z),r(z,it,X),z=j;r($,it,X)},Z=({el:z,anchor:$})=>{let it;for(;z&&z!==$;)it=_(z),i(z),z=it;i($)},yt=(z,$,it,X,j,bt,Lt,vt,wt)=>{$.type==="svg"?Lt="svg":$.type==="math"&&(Lt="mathml"),z==null?Tt($,it,X,j,bt,Lt,vt,wt):I(z,$,j,bt,Lt,vt,wt)},Tt=(z,$,it,X,j,bt,Lt,vt)=>{let wt,_t;const{props:Dt,shapeFlag:kt,transition:Ut,dirs:Ht}=z;if(wt=z.el=o(z.type,bt,Dt&&Dt.is,Dt),kt&8?d(wt,z.children):kt&16&&b(z.children,wt,null,X,j,Ff(z,bt),Lt,vt),Ht&&ua(z,null,X,"created"),O(wt,z,z.scopeId,Lt,X),Dt){for(const Yt in Dt)Yt!=="value"&&!_u(Yt)&&s(wt,Yt,null,Dt[Yt],bt,X);"value"in Dt&&s(wt,"value",null,Dt.value,bt),(_t=Dt.onVnodeBeforeMount)&&Hi(_t,X,z)}Ht&&ua(z,null,X,"beforeMount");const Wt=W_(j,Ut);Wt&&Ut.beforeEnter(wt),r(wt,$,it),((_t=Dt&&Dt.onVnodeMounted)||Wt||Ht)&&Ir(()=>{_t&&Hi(_t,X,z),Wt&&Ut.enter(wt),Ht&&ua(z,null,X,"mounted")},j)},O=(z,$,it,X,j)=>{if(it&&m(z,it),X)for(let bt=0;bt<X.length;bt++)m(z,X[bt]);if(j){let bt=j.subTree;if($===bt||u0(bt.type)&&(bt.ssContent===$||bt.ssFallback===$)){const Lt=j.vnode;O(z,Lt,Lt.scopeId,Lt.slotScopeIds,j.parent)}}},b=(z,$,it,X,j,bt,Lt,vt,wt=0)=>{for(let _t=wt;_t<z.length;_t++){const Dt=z[_t]=vt?bo(z[_t]):Qi(z[_t]);T(null,Dt,$,it,X,j,bt,Lt,vt)}},I=(z,$,it,X,j,bt,Lt)=>{const vt=$.el=z.el;let{patchFlag:wt,dynamicChildren:_t,dirs:Dt}=$;wt|=z.patchFlag&16;const kt=z.props||en,Ut=$.props||en;let Ht;if(it&&ca(it,!1),(Ht=Ut.onVnodeBeforeUpdate)&&Hi(Ht,it,$,z),Dt&&ua($,z,it,"beforeUpdate"),it&&ca(it,!0),(kt.innerHTML&&Ut.innerHTML==null||kt.textContent&&Ut.textContent==null)&&d(vt,""),_t?U(z.dynamicChildren,_t,vt,it,X,Ff($,j),bt):Lt||ut(z,$,vt,null,it,X,Ff($,j),bt,!1),wt>0){if(wt&16)x(vt,kt,Ut,it,j);else if(wt&2&&kt.class!==Ut.class&&s(vt,"class",null,Ut.class,j),wt&4&&s(vt,"style",kt.style,Ut.style,j),wt&8){const Wt=$.dynamicProps;for(let Yt=0;Yt<Wt.length;Yt++){const re=Wt[Yt],ee=kt[re],se=Ut[re];(se!==ee||re==="value")&&s(vt,re,ee,se,j,it)}}wt&1&&z.children!==$.children&&d(vt,$.children)}else!Lt&&_t==null&&x(vt,kt,Ut,it,j);((Ht=Ut.onVnodeUpdated)||Dt)&&Ir(()=>{Ht&&Hi(Ht,it,$,z),Dt&&ua($,z,it,"updated")},X)},U=(z,$,it,X,j,bt,Lt)=>{for(let vt=0;vt<$.length;vt++){const wt=z[vt],_t=$[vt],Dt=wt.el&&(wt.type===Mn||!lu(wt,_t)||wt.shapeFlag&70)?g(wt.el):it;T(wt,_t,Dt,null,X,j,bt,Lt,!0)}},x=(z,$,it,X,j)=>{if($!==it){if($!==en)for(const bt in $)!_u(bt)&&!(bt in it)&&s(z,bt,$[bt],null,j,X);for(const bt in it){if(_u(bt))continue;const Lt=it[bt],vt=$[bt];Lt!==vt&&bt!=="value"&&s(z,bt,vt,Lt,j,X)}"value"in it&&s(z,"value",$.value,it.value,j)}},S=(z,$,it,X,j,bt,Lt,vt,wt)=>{const _t=$.el=z?z.el:a(""),Dt=$.anchor=z?z.anchor:a("");let{patchFlag:kt,dynamicChildren:Ut,slotScopeIds:Ht}=$;Ht&&(vt=vt?vt.concat(Ht):Ht),z==null?(r(_t,it,X),r(Dt,it,X),b($.children||[],it,Dt,j,bt,Lt,vt,wt)):kt>0&&kt&64&&Ut&&z.dynamicChildren?(U(z.dynamicChildren,Ut,it,j,bt,Lt,vt),($.key!=null||j&&$===j.subTree)&&wp(z,$,!0)):ut(z,$,it,Dt,j,bt,Lt,vt,wt)},A=(z,$,it,X,j,bt,Lt,vt,wt)=>{$.slotScopeIds=vt,z==null?$.shapeFlag&512?j.ctx.activate($,it,X,Lt,wt):Q($,it,X,j,bt,Lt,wt):mt(z,$,wt)},Q=(z,$,it,X,j,bt,Lt)=>{const vt=z.component=cb(z,X,j);if($2(z)&&(vt.ctx.renderer=It),hb(vt,!1,Lt),vt.asyncDep){if(j&&j.registerDep(vt,et,Lt),!z.el){const wt=vt.subTree=Zn(ba);P(null,wt,$,it)}}else et(vt,z,$,it,j,bt,Lt)},mt=(z,$,it)=>{const X=$.component=z.component;if(eb(z,$,it))if(X.asyncDep&&!X.asyncResolved){dt(X,$,it);return}else X.next=$,X.update();else $.el=z.el,X.vnode=$},et=(z,$,it,X,j,bt,Lt)=>{const vt=()=>{if(z.isMounted){let{next:kt,bu:Ut,u:Ht,parent:Wt,vnode:Yt}=z;{const Re=s0(z);if(Re){kt&&(kt.el=Yt.el,dt(z,kt,Lt)),Re.asyncDep.then(()=>{z.isUnmounted||vt()});return}}let re=kt,ee;ca(z,!1),kt?(kt.el=Yt.el,dt(z,kt,Lt)):kt=Yt,Ut&&jc(Ut),(ee=kt.props&&kt.props.onVnodeBeforeUpdate)&&Hi(ee,Wt,kt,Yt),ca(z,!0);const se=Z1(z),Gt=z.subTree;z.subTree=se,T(Gt,se,g(Gt.el),G(Gt),z,j,bt),kt.el=se.el,re===null&&nb(z,se.el),Ht&&Ir(Ht,j),(ee=kt.props&&kt.props.onVnodeUpdated)&&Ir(()=>Hi(ee,Wt,kt,Yt),j)}else{let kt;const{el:Ut,props:Ht}=$,{bm:Wt,m:Yt,parent:re,root:ee,type:se}=z,Gt=Eu($);ca(z,!1),Wt&&jc(Wt),!Gt&&(kt=Ht&&Ht.onVnodeBeforeMount)&&Hi(kt,re,$),ca(z,!0);{ee.ce&&ee.ce._injectChildStyle(se);const Re=z.subTree=Z1(z);T(null,Re,it,X,z,j,bt),$.el=Re.el}if(Yt&&Ir(Yt,j),!Gt&&(kt=Ht&&Ht.onVnodeMounted)){const Re=$;Ir(()=>Hi(kt,re,Re),j)}($.shapeFlag&256||re&&Eu(re.vnode)&&re.vnode.shapeFlag&256)&&z.a&&Ir(z.a,j),z.isMounted=!0,$=it=X=null}};z.scope.on();const wt=z.effect=new m2(vt);z.scope.off();const _t=z.update=wt.run.bind(wt),Dt=z.job=wt.runIfDirty.bind(wt);Dt.i=z,Dt.id=z.uid,wt.scheduler=()=>yp(Dt),ca(z,!0),_t()},dt=(z,$,it)=>{$.component=z;const X=z.vnode.props;z.vnode=$,z.next=null,j_(z,$.props,X,it),z_(z,$.children,it),jo(),q1(z),Bo()},ut=(z,$,it,X,j,bt,Lt,vt,wt=!1)=>{const _t=z&&z.children,Dt=z?z.shapeFlag:0,kt=$.children,{patchFlag:Ut,shapeFlag:Ht}=$;if(Ut>0){if(Ut&128){Pt(_t,kt,it,X,j,bt,Lt,vt,wt);return}else if(Ut&256){xt(_t,kt,it,X,j,bt,Lt,vt,wt);return}}Ht&8?(Dt&16&&tt(_t,j,bt),kt!==_t&&d(it,kt)):Dt&16?Ht&16?Pt(_t,kt,it,X,j,bt,Lt,vt,wt):tt(_t,j,bt,!0):(Dt&8&&d(it,""),Ht&16&&b(kt,it,X,j,bt,Lt,vt,wt))},xt=(z,$,it,X,j,bt,Lt,vt,wt)=>{z=z||hl,$=$||hl;const _t=z.length,Dt=$.length,kt=Math.min(_t,Dt);let Ut;for(Ut=0;Ut<kt;Ut++){const Ht=$[Ut]=wt?bo($[Ut]):Qi($[Ut]);T(z[Ut],Ht,it,null,j,bt,Lt,vt,wt)}_t>Dt?tt(z,j,bt,!0,!1,kt):b($,it,X,j,bt,Lt,vt,wt,kt)},Pt=(z,$,it,X,j,bt,Lt,vt,wt)=>{let _t=0;const Dt=$.length;let kt=z.length-1,Ut=Dt-1;for(;_t<=kt&&_t<=Ut;){const Ht=z[_t],Wt=$[_t]=wt?bo($[_t]):Qi($[_t]);if(lu(Ht,Wt))T(Ht,Wt,it,null,j,bt,Lt,vt,wt);else break;_t++}for(;_t<=kt&&_t<=Ut;){const Ht=z[kt],Wt=$[Ut]=wt?bo($[Ut]):Qi($[Ut]);if(lu(Ht,Wt))T(Ht,Wt,it,null,j,bt,Lt,vt,wt);else break;kt--,Ut--}if(_t>kt){if(_t<=Ut){const Ht=Ut+1,Wt=Ht<Dt?$[Ht].el:X;for(;_t<=Ut;)T(null,$[_t]=wt?bo($[_t]):Qi($[_t]),it,Wt,j,bt,Lt,vt,wt),_t++}}else if(_t>Ut)for(;_t<=kt;)R(z[_t],j,bt,!0),_t++;else{const Ht=_t,Wt=_t,Yt=new Map;for(_t=Wt;_t<=Ut;_t++){const pe=$[_t]=wt?bo($[_t]):Qi($[_t]);pe.key!=null&&Yt.set(pe.key,_t)}let re,ee=0;const se=Ut-Wt+1;let Gt=!1,Re=0;const Ae=new Array(se);for(_t=0;_t<se;_t++)Ae[_t]=0;for(_t=Ht;_t<=kt;_t++){const pe=z[_t];if(ee>=se){R(pe,j,bt,!0);continue}let Se;if(pe.key!=null)Se=Yt.get(pe.key);else for(re=Wt;re<=Ut;re++)if(Ae[re-Wt]===0&&lu(pe,$[re])){Se=re;break}Se===void 0?R(pe,j,bt,!0):(Ae[Se-Wt]=_t+1,Se>=Re?Re=Se:Gt=!0,T(pe,$[Se],it,null,j,bt,Lt,vt,wt),ee++)}const Hn=Gt?G_(Ae):hl;for(re=Hn.length-1,_t=se-1;_t>=0;_t--){const pe=Wt+_t,Se=$[pe],yr=pe+1<Dt?$[pe+1].el:X;Ae[_t]===0?T(null,Se,it,yr,j,bt,Lt,vt,wt):Gt&&(re<0||_t!==Hn[re]?$t(Se,it,yr,2):re--)}}},$t=(z,$,it,X,j=null)=>{const{el:bt,type:Lt,transition:vt,children:wt,shapeFlag:_t}=z;if(_t&6){$t(z.component.subTree,$,it,X);return}if(_t&128){z.suspense.move($,it,X);return}if(_t&64){Lt.move(z,$,it,It);return}if(Lt===Mn){r(bt,$,it);for(let kt=0;kt<wt.length;kt++)$t(wt[kt],$,it,X);r(z.anchor,$,it);return}if(Lt===Mf){K(z,$,it);return}if(X!==2&&_t&1&&vt)if(X===0)vt.beforeEnter(bt),r(bt,$,it),Ir(()=>vt.enter(bt),j);else{const{leave:kt,delayLeave:Ut,afterLeave:Ht}=vt,Wt=()=>r(bt,$,it),Yt=()=>{kt(bt,()=>{Wt(),Ht&&Ht()})};Ut?Ut(bt,Wt,Yt):Yt()}else r(bt,$,it)},R=(z,$,it,X=!1,j=!1)=>{const{type:bt,props:Lt,ref:vt,children:wt,dynamicChildren:_t,shapeFlag:Dt,patchFlag:kt,dirs:Ut,cacheIndex:Ht}=z;if(kt===-2&&(j=!1),vt!=null&&sh(vt,null,it,z,!0),Ht!=null&&($.renderCache[Ht]=void 0),Dt&256){$.ctx.deactivate(z);return}const Wt=Dt&1&&Ut,Yt=!Eu(z);let re;if(Yt&&(re=Lt&&Lt.onVnodeBeforeUnmount)&&Hi(re,$,z),Dt&6)st(z.component,it,X);else{if(Dt&128){z.suspense.unmount(it,X);return}Wt&&ua(z,null,$,"beforeUnmount"),Dt&64?z.type.remove(z,$,it,It,X):_t&&!_t.hasOnce&&(bt!==Mn||kt>0&&kt&64)?tt(_t,$,it,!1,!0):(bt===Mn&&kt&384||!j&&Dt&16)&&tt(wt,$,it),X&&H(z)}(Yt&&(re=Lt&&Lt.onVnodeUnmounted)||Wt)&&Ir(()=>{re&&Hi(re,$,z),Wt&&ua(z,null,$,"unmounted")},it)},H=z=>{const{type:$,el:it,anchor:X,transition:j}=z;if($===Mn){J(it,X);return}if($===Mf){Z(z);return}const bt=()=>{i(it),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(z.shapeFlag&1&&j&&!j.persisted){const{leave:Lt,delayLeave:vt}=j,wt=()=>Lt(it,bt);vt?vt(z.el,bt,wt):wt()}else bt()},J=(z,$)=>{let it;for(;z!==$;)it=_(z),i(z),z=it;i($)},st=(z,$,it)=>{const{bum:X,scope:j,job:bt,subTree:Lt,um:vt,m:wt,a:_t}=z;X1(wt),X1(_t),X&&jc(X),j.stop(),bt&&(bt.flags|=8,R(Lt,z,$,it)),vt&&Ir(vt,$),Ir(()=>{z.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},tt=(z,$,it,X=!1,j=!1,bt=0)=>{for(let Lt=bt;Lt<z.length;Lt++)R(z[Lt],$,it,X,j)},G=z=>{if(z.shapeFlag&6)return G(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const $=_(z.anchor||z.el),it=$&&$[j2];return it?_(it):$};let rt=!1;const nt=(z,$,it)=>{z==null?$._vnode&&R($._vnode,null,null,!0):T($._vnode||null,z,$,null,null,null,it),$._vnode=z,rt||(rt=!0,q1(),F2(),rt=!1)},It={p:T,um:R,m:$t,r:H,mt:Q,mc:b,pc:ut,pbc:U,n:G,o:e};return{render:nt,hydrate:void 0,createApp:M_(nt)}}function Ff({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ca({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function W_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function wp(e,t,n=!1){const r=e.children,i=t.children;if(de(r)&&de(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=bo(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&wp(o,a)),a.type===Uh&&(a.el=o.el)}}function G_(e){const t=e.slice(),n=[0];let r,i,s,o,a;const u=e.length;for(r=0;r<u;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<h?s=a+1:o=a;h<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function s0(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:s0(t)}function X1(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const K_=Symbol.for("v-scx"),Q_=()=>ks(K_);function vl(e,t,n){return o0(e,t,n)}function o0(e,t,n=en){const{immediate:r,deep:i,flush:s,once:o}=n,a=vr({},n),u=t&&r||!t&&s!=="post";let h;if(Mu){if(s==="sync"){const m=Q_();h=m.__watcherHandles||(m.__watcherHandles=[])}else if(!u){const m=()=>{};return m.stop=Xi,m.resume=Xi,m.pause=Xi,m}}const d=pr;a.call=(m,N,T)=>rs(m,d,N,T);let g=!1;s==="post"?a.scheduler=m=>{Ir(m,d&&d.suspense)}:s!=="sync"&&(g=!0,a.scheduler=(m,N)=>{N?m():yp(m)}),a.augmentJob=m=>{t&&(m.flags|=4),g&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const _=c_(e,t,a);return Mu&&(h?h.push(_):u&&_()),_}function Y_(e,t,n){const r=this.proxy,i=Pn(e)?e.includes(".")?a0(r,e):()=>r[e]:e.bind(r,r);let s;be(t)?s=t:(s=t.handler,n=t);const o=Ju(this),a=o0(i,s.bind(r),n);return o(),a}function a0(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const J_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${hi(t)}Modifiers`]||e[`${Ea(t)}Modifiers`];function X_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||en;let i=n;const s=t.startsWith("update:"),o=s&&J_(r,t.slice(7));o&&(o.trim&&(i=n.map(d=>Pn(d)?d.trim():d)),o.number&&(i=n.map(eh)));let a,u=r[a=Lf(t)]||r[a=Lf(hi(t))];!u&&s&&(u=r[a=Lf(Ea(t))]),u&&rs(u,e,6,i);const h=r[a+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,rs(h,e,6,i)}}function l0(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!be(e)){const u=h=>{const d=l0(h,t,!0);d&&(a=!0,vr(o,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!a?(an(e)&&r.set(e,null),null):(de(s)?s.forEach(u=>o[u]=null):vr(o,s),an(e)&&r.set(e,o),o)}function qh(e,t){return!e||!Lh(t)?!1:(t=t.slice(2).replace(/Once$/,""),ze(e,t[0].toLowerCase()+t.slice(1))||ze(e,Ea(t))||ze(e,t))}function Z1(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:u,render:h,renderCache:d,props:g,data:_,setupState:m,ctx:N,inheritAttrs:T}=e,M=ih(e);let P,k;try{if(n.shapeFlag&4){const Z=i||r,yt=Z;P=Qi(h.call(yt,Z,d,g,m,_,N)),k=a}else{const Z=t;P=Qi(Z.length>1?Z(g,{attrs:a,slots:o,emit:u}):Z(g,null)),k=t.props?a:Z_(a)}}catch(Z){xu.length=0,Vh(Z,e,1),P=Zn(ba)}let K=P;if(k&&T!==!1){const Z=Object.keys(k),{shapeFlag:yt}=K;Z.length&&yt&7&&(s&&Z.some(op)&&(k=tb(k,s)),K=Il(K,k,!1,!0))}return n.dirs&&(K=Il(K,null,!1,!0),K.dirs=K.dirs?K.dirs.concat(n.dirs):n.dirs),n.transition&&_p(K,n.transition),P=K,ih(M),P}const Z_=e=>{let t;for(const n in e)(n==="class"||n==="style"||Lh(n))&&((t||(t={}))[n]=e[n]);return t},tb=(e,t)=>{const n={};for(const r in e)(!op(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function eb(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:u}=t,h=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?tg(r,o,h):!!o;if(u&8){const d=t.dynamicProps;for(let g=0;g<d.length;g++){const _=d[g];if(o[_]!==r[_]&&!qh(h,_))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?tg(r,o,h):!0:!!o;return!1}function tg(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!qh(n,s))return!0}return!1}function nb({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const u0=e=>e.__isSuspense;function rb(e,t){t&&t.pendingBranch?de(e)?t.effects.push(...e):t.effects.push(e):d_(e)}const Mn=Symbol.for("v-fgt"),Uh=Symbol.for("v-txt"),ba=Symbol.for("v-cmt"),Mf=Symbol.for("v-stc"),xu=[];let Jr=null;function Le(e=!1){xu.push(Jr=e?null:[])}function ib(){xu.pop(),Jr=xu[xu.length-1]||null}let Fu=1;function eg(e,t=!1){Fu+=e,e<0&&Jr&&t&&(Jr.hasOnce=!0)}function c0(e){return e.dynamicChildren=Fu>0?Jr||hl:null,ib(),Fu>0&&Jr&&Jr.push(e),e}function Je(e,t,n,r,i,s){return c0(ct(e,t,n,r,i,s,!0))}function ll(e,t,n,r,i){return c0(Zn(e,t,n,r,i,!0))}function ah(e){return e?e.__v_isVNode===!0:!1}function lu(e,t){return e.type===t.type&&e.key===t.key}const h0=({key:e})=>e??null,zc=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Pn(e)||mr(e)||be(e)?{i:Yr,r:e,k:t,f:!!n}:e:null);function ct(e,t=null,n=null,r=0,i=null,s=e===Mn?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&h0(t),ref:t&&zc(t),scopeId:V2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Yr};return a?(Ap(u,n),s&128&&e.normalize(u)):n&&(u.shapeFlag|=Pn(n)?8:16),Fu>0&&!o&&Jr&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Jr.push(u),u}const Zn=sb;function sb(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===P_)&&(e=ba),ah(e)){const a=Il(e,t,!0);return n&&Ap(a,n),Fu>0&&!s&&Jr&&(a.shapeFlag&6?Jr[Jr.indexOf(e)]=a:Jr.push(a)),a.patchFlag=-2,a}if(mb(e)&&(e=e.__vccOpts),t){t=ob(t);let{class:a,style:u}=t;a&&!Pn(a)&&(t.class=Fl(a)),an(u)&&(mp(u)&&!de(u)&&(u=vr({},u)),t.style=up(u))}const o=Pn(e)?1:u0(e)?128:p_(e)?64:an(e)?4:be(e)?2:0;return ct(e,t,n,r,i,o,s,!0)}function ob(e){return e?mp(e)||X2(e)?vr({},e):e:null}function Il(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:u}=e,h=t?ab(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&h0(h),ref:t&&t.ref?n&&s?de(s)?s.concat(zc(t)):[s,zc(t)]:zc(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Mn?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Il(e.ssContent),ssFallback:e.ssFallback&&Il(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&_p(d,u.clone(d)),d}function Yi(e=" ",t=0){return Zn(Uh,null,e,t)}function ul(e="",t=!1){return t?(Le(),ll(ba,null,e)):Zn(ba,null,e)}function Qi(e){return e==null||typeof e=="boolean"?Zn(ba):de(e)?Zn(Mn,null,e.slice()):ah(e)?bo(e):Zn(Uh,null,String(e))}function bo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Il(e)}function Ap(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(de(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Ap(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!X2(t)?t._ctx=Yr:i===3&&Yr&&(Yr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else be(t)?(t={default:t,_ctx:Yr},n=32):(t=String(t),r&64?(n=16,t=[Yi(t)]):n=8);e.children=t,e.shapeFlag|=n}function ab(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Fl([t.class,r.class]));else if(i==="style")t.style=up([t.style,r.style]);else if(Lh(i)){const s=t[i],o=r[i];o&&s!==o&&!(de(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function Hi(e,t,n,r=null){rs(e,t,7,[n,r])}const lb=Q2();let ub=0;function cb(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||lb,s={uid:ub++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new My(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:t0(r,i),emitsOptions:l0(r,i),emit:null,emitted:null,propsDefaults:en,inheritAttrs:r.inheritAttrs,ctx:en,data:en,props:en,attrs:en,slots:en,refs:en,setupState:en,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=X_.bind(null,s),e.ce&&e.ce(s),s}let pr=null,lh,_d;{const e=Dh(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};lh=t("__VUE_INSTANCE_SETTERS__",n=>pr=n),_d=t("__VUE_SSR_SETTERS__",n=>Mu=n)}const Ju=e=>{const t=pr;return lh(e),e.scope.on(),()=>{e.scope.off(),lh(t)}},ng=()=>{pr&&pr.scope.off(),lh(null)};function f0(e){return e.vnode.shapeFlag&4}let Mu=!1;function hb(e,t=!1,n=!1){t&&_d(t);const{props:r,children:i}=e.vnode,s=f0(e);V_(e,r,s,t),U_(e,i,n);const o=s?fb(e,t):void 0;return t&&_d(!1),o}function fb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,L_);const{setup:r}=n;if(r){jo();const i=e.setupContext=r.length>1?pb(e):null,s=Ju(e),o=Yu(r,e,0,[e.props,i]),a=u2(o);if(Bo(),s(),(a||e.sp)&&!Eu(e)&&z2(e),a){if(o.then(ng,ng),t)return o.then(u=>{rg(e,u)}).catch(u=>{Vh(u,e,0)});e.asyncDep=o}else rg(e,o)}else d0(e)}function rg(e,t,n){be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:an(t)&&(e.setupState=k2(t)),d0(e)}function d0(e,t,n){const r=e.type;e.render||(e.render=r.render||Xi);{const i=Ju(e);jo();try{C_(e)}finally{Bo(),i()}}}const db={get(e,t){return hr(e,"get",""),e[t]}};function pb(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,db),slots:e.slots,emit:e.emit,expose:t}}function zh(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(k2(r_(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Su)return Su[n](e)},has(t,n){return n in t||n in Su}})):e.proxy}function gb(e,t=!0){return be(e)?e.displayName||e.name:e.name||t&&e.__name}function mb(e){return be(e)&&"__vccOpts"in e}const Tn=(e,t)=>l_(e,t,Mu);function p0(e,t,n){const r=arguments.length;return r===2?an(t)&&!de(t)?ah(t)?Zn(e,null,[t]):Zn(e,t):Zn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ah(n)&&(n=[n]),Zn(e,t,n))}const vb="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bd;const ig=typeof window<"u"&&window.trustedTypes;if(ig)try{bd=ig.createPolicy("vue",{createHTML:e=>e})}catch{}const g0=bd?e=>bd.createHTML(e):e=>e,yb="http://www.w3.org/2000/svg",_b="http://www.w3.org/1998/Math/MathML",Ps=typeof document<"u"?document:null,sg=Ps&&Ps.createElement("template"),bb={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Ps.createElementNS(yb,e):t==="mathml"?Ps.createElementNS(_b,e):n?Ps.createElement(e,{is:n}):Ps.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ps.createTextNode(e),createComment:e=>Ps.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ps.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{sg.innerHTML=g0(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=sg.content;if(r==="svg"||r==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},wb=Symbol("_vtc");function Ab(e,t,n){const r=e[wb];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const og=Symbol("_vod"),Eb=Symbol("_vsh"),Sb=Symbol(""),xb=/(^|;)\s*display\s*:/;function Ib(e,t,n){const r=e.style,i=Pn(n);let s=!1;if(n&&!i){if(t)if(Pn(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&$c(r,a,"")}else for(const o in t)n[o]==null&&$c(r,o,"");for(const o in n)o==="display"&&(s=!0),$c(r,o,n[o])}else if(i){if(t!==n){const o=r[Sb];o&&(n+=";"+o),r.cssText=n,s=xb.test(n)}}else t&&e.removeAttribute("style");og in e&&(e[og]=s?r.display:"",e[Eb]&&(r.display="none"))}const ag=/\s*!important$/;function $c(e,t,n){if(de(n))n.forEach(r=>$c(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Tb(e,t);ag.test(n)?e.setProperty(Ea(r),n.replace(ag,""),"important"):e[r]=n}}const lg=["Webkit","Moz","ms"],Vf={};function Tb(e,t){const n=Vf[t];if(n)return n;let r=hi(t);if(r!=="filter"&&r in e)return Vf[t]=r;r=kh(r);for(let i=0;i<lg.length;i++){const s=lg[i]+r;if(s in e)return Vf[t]=s}return t}const ug="http://www.w3.org/1999/xlink";function cg(e,t,n,r,i,s=Dy(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(ug,t.slice(6,t.length)):e.setAttributeNS(ug,t,n):n==null||s&&!d2(n)?e.removeAttribute(t):e.setAttribute(t,s?"":ns(n)?String(n):n)}function hg(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?g0(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=d2(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function pa(e,t,n,r){e.addEventListener(t,n,r)}function Pb(e,t,n,r){e.removeEventListener(t,n,r)}const fg=Symbol("_vei");function Nb(e,t,n,r,i=null){const s=e[fg]||(e[fg]={}),o=s[t];if(r&&o)o.value=r;else{const[a,u]=Lb(t);if(r){const h=s[t]=kb(r,i);pa(e,a,h,u)}else o&&(Pb(e,a,o,u),s[t]=void 0)}}const dg=/(?:Once|Passive|Capture)$/;function Lb(e){let t;if(dg.test(e)){t={};let r;for(;r=e.match(dg);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ea(e.slice(2)),t]}let jf=0;const Cb=Promise.resolve(),Rb=()=>jf||(Cb.then(()=>jf=0),jf=Date.now());function kb(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;rs(Db(r,n.value),t,5,[r])};return n.value=e,n.attached=Rb(),n}function Db(e,t){if(de(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const pg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ob=(e,t,n,r,i,s)=>{const o=i==="svg";t==="class"?Ab(e,r,o):t==="style"?Ib(e,n,r):Lh(t)?op(t)||Nb(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Fb(e,t,r,o))?(hg(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&cg(e,t,r,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Pn(r))?hg(e,hi(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),cg(e,t,r,o))};function Fb(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&pg(t)&&be(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return pg(t)&&Pn(n)?!1:t in e}const uh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return de(t)?n=>jc(t,n):t};function Mb(e){e.target.composing=!0}function gg(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const yl=Symbol("_assign"),Me={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[yl]=uh(i);const s=r||i.props&&i.props.type==="number";pa(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=eh(a)),e[yl](a)}),n&&pa(e,"change",()=>{e.value=e.value.trim()}),t||(pa(e,"compositionstart",Mb),pa(e,"compositionend",gg),pa(e,"change",gg))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(e[yl]=uh(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?eh(e.value):e.value,u=t??"";a!==u&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===u)||(e.value=u))}},Vb={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=Ch(t);pa(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?eh(ch(o)):ch(o));e[yl](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,vp(()=>{e._assigning=!1})}),e[yl]=uh(r)},mounted(e,{value:t}){mg(e,t)},beforeUpdate(e,t,n){e[yl]=uh(n)},updated(e,{value:t}){e._assigning||mg(e,t)}};function mg(e,t){const n=e.multiple,r=de(t);if(!(n&&!r&&!Ch(t))){for(let i=0,s=e.options.length;i<s;i++){const o=e.options[i],a=ch(o);if(n)if(r){const u=typeof a;u==="string"||u==="number"?o.selected=t.some(h=>String(h)===String(a)):o.selected=Fy(t,a)>-1}else o.selected=t.has(a);else if(Oh(ch(o),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ch(e){return"_value"in e?e._value:e.value}const jb=["ctrl","shift","alt","meta"],Bb={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>jb.some(n=>e[`${n}Key`]&&!t.includes(n))},wd=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<t.length;o++){const a=Bb[t[o]];if(a&&a(i,t))return}return e(i,...s)})},qb=vr({patchProp:Ob},bb);let vg;function Ub(){return vg||(vg=$_(qb))}const zb=(...e)=>{const t=Ub().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Hb(r);if(!i)return;const s=t._component;!be(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,$b(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function $b(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Hb(e){return Pn(e)?document.querySelector(e):e}const Wb=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Gb={};function Kb(e,t){const n=H1("router-link"),r=H1("router-view");return Le(),Je("div",null,[ct("nav",null,[Zn(n,{to:"/"},{default:Bc(()=>t[0]||(t[0]=[Yi("Gestor Stock")])),_:1}),t[3]||(t[3]=Yi(" | ")),Zn(n,{to:"/clientes"},{default:Bc(()=>t[1]||(t[1]=[Yi("Clientes")])),_:1}),t[4]||(t[4]=Yi("| ")),Zn(n,{to:"/nota-pedido"},{default:Bc(()=>t[2]||(t[2]=[Yi("Nota Pedido")])),_:1})]),Zn(r)])}const Qb=Wb(Gb,[["render",Kb]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const el=typeof document<"u";function m0(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Yb(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&m0(e.default)}const qe=Object.assign;function Bf(e,t){const n={};for(const r in t){const i=t[r];n[r]=Pi(i)?i.map(e):e(i)}return n}const Iu=()=>{},Pi=Array.isArray,v0=/#/g,Jb=/&/g,Xb=/\//g,Zb=/=/g,tw=/\?/g,y0=/\+/g,ew=/%5B/g,nw=/%5D/g,_0=/%5E/g,rw=/%60/g,b0=/%7B/g,iw=/%7C/g,w0=/%7D/g,sw=/%20/g;function Ep(e){return encodeURI(""+e).replace(iw,"|").replace(ew,"[").replace(nw,"]")}function ow(e){return Ep(e).replace(b0,"{").replace(w0,"}").replace(_0,"^")}function Ad(e){return Ep(e).replace(y0,"%2B").replace(sw,"+").replace(v0,"%23").replace(Jb,"%26").replace(rw,"`").replace(b0,"{").replace(w0,"}").replace(_0,"^")}function aw(e){return Ad(e).replace(Zb,"%3D")}function lw(e){return Ep(e).replace(v0,"%23").replace(tw,"%3F")}function uw(e){return e==null?"":lw(e).replace(Xb,"%2F")}function Vu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const cw=/\/$/,hw=e=>e.replace(cw,"");function qf(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let u=t.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(r=t.slice(0,u),s=t.slice(u+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=gw(r??t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Vu(o)}}function fw(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function yg(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function dw(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Tl(t.matched[r],n.matched[i])&&A0(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Tl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function A0(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!pw(e[n],t[n]))return!1;return!0}function pw(e,t){return Pi(e)?_g(e,t):Pi(t)?_g(t,e):e===t}function _g(e,t){return Pi(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function gw(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const mo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ju;(function(e){e.pop="pop",e.push="push"})(ju||(ju={}));var Tu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Tu||(Tu={}));function mw(e){if(!e)if(el){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),hw(e)}const vw=/^[^#]+#/;function yw(e,t){return e.replace(vw,"#")+t}function _w(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const $h=()=>({left:window.scrollX,top:window.scrollY});function bw(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=_w(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function bg(e,t){return(history.state?history.state.position-t:-1)+e}const Ed=new Map;function ww(e,t){Ed.set(e,t)}function Aw(e){const t=Ed.get(e);return Ed.delete(e),t}let Ew=()=>location.protocol+"//"+location.host;function E0(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,u=i.slice(a);return u[0]!=="/"&&(u="/"+u),yg(u,"")}return yg(n,e)+r+i}function Sw(e,t,n,r){let i=[],s=[],o=null;const a=({state:_})=>{const m=E0(e,location),N=n.value,T=t.value;let M=0;if(_){if(n.value=m,t.value=_,o&&o===N){o=null;return}M=T?_.position-T.position:0}else r(m);i.forEach(P=>{P(n.value,N,{delta:M,type:ju.pop,direction:M?M>0?Tu.forward:Tu.back:Tu.unknown})})};function u(){o=n.value}function h(_){i.push(_);const m=()=>{const N=i.indexOf(_);N>-1&&i.splice(N,1)};return s.push(m),m}function d(){const{history:_}=window;_.state&&_.replaceState(qe({},_.state,{scroll:$h()}),"")}function g(){for(const _ of s)_();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:h,destroy:g}}function wg(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?$h():null}}function xw(e){const{history:t,location:n}=window,r={value:E0(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(u,h,d){const g=e.indexOf("#"),_=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+u:Ew()+e+u;try{t[d?"replaceState":"pushState"](h,"",_),i.value=h}catch(m){console.error(m),n[d?"replace":"assign"](_)}}function o(u,h){const d=qe({},t.state,wg(i.value.back,u,i.value.forward,!0),h,{position:i.value.position});s(u,d,!0),r.value=u}function a(u,h){const d=qe({},i.value,t.state,{forward:u,scroll:$h()});s(d.current,d,!0);const g=qe({},wg(r.value,u,null),{position:d.position+1},h);s(u,g,!1),r.value=u}return{location:r,state:i,push:a,replace:o}}function Iw(e){e=mw(e);const t=xw(e),n=Sw(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=qe({location:"",base:e,go:r,createHref:yw.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Tw(e){return typeof e=="string"||e&&typeof e=="object"}function S0(e){return typeof e=="string"||typeof e=="symbol"}const x0=Symbol("");var Ag;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ag||(Ag={}));function Pl(e,t){return qe(new Error,{type:e,[x0]:!0},t)}function Is(e,t){return e instanceof Error&&x0 in e&&(t==null||!!(e.type&t))}const Eg="[^/]+?",Pw={sensitive:!1,strict:!1,start:!0,end:!0},Nw=/[.+*?^${}()[\]/\\]/g;function Lw(e,t){const n=qe({},Pw,t),r=[];let i=n.start?"^":"";const s=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let g=0;g<h.length;g++){const _=h[g];let m=40+(n.sensitive?.25:0);if(_.type===0)g||(i+="/"),i+=_.value.replace(Nw,"\\$&"),m+=40;else if(_.type===1){const{value:N,repeatable:T,optional:M,regexp:P}=_;s.push({name:N,repeatable:T,optional:M});const k=P||Eg;if(k!==Eg){m+=10;try{new RegExp(`(${k})`)}catch(Z){throw new Error(`Invalid custom RegExp for param "${N}" (${k}): `+Z.message)}}let K=T?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;g||(K=M&&h.length<2?`(?:/${K})`:"/"+K),M&&(K+="?"),i+=K,m+=20,M&&(m+=-8),T&&(m+=-20),k===".*"&&(m+=-50)}d.push(m)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(h){const d=h.match(o),g={};if(!d)return null;for(let _=1;_<d.length;_++){const m=d[_]||"",N=s[_-1];g[N.name]=m&&N.repeatable?m.split("/"):m}return g}function u(h){let d="",g=!1;for(const _ of e){(!g||!d.endsWith("/"))&&(d+="/"),g=!1;for(const m of _)if(m.type===0)d+=m.value;else if(m.type===1){const{value:N,repeatable:T,optional:M}=m,P=N in h?h[N]:"";if(Pi(P)&&!T)throw new Error(`Provided param "${N}" is an array but it is not repeatable (* or + modifiers)`);const k=Pi(P)?P.join("/"):P;if(!k)if(M)_.length<2&&(d.endsWith("/")?d=d.slice(0,-1):g=!0);else throw new Error(`Missing required param "${N}"`);d+=k}}return d||"/"}return{re:o,score:r,keys:s,parse:a,stringify:u}}function Cw(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function I0(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=Cw(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Sg(r))return 1;if(Sg(i))return-1}return i.length-r.length}function Sg(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Rw={type:0,value:""},kw=/[a-zA-Z0-9_]/;function Dw(e){if(!e)return[[]];if(e==="/")return[[Rw]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${h}": ${m}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,u,h="",d="";function g(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),h="")}function _(){h+=u}for(;a<e.length;){if(u=e[a++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(h&&g(),o()):u===":"?(g(),n=1):_();break;case 4:_(),n=r;break;case 1:u==="("?n=2:kw.test(u)?_():(g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),g(),o(),i}function Ow(e,t,n){const r=Lw(Dw(e.path),n),i=qe(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Fw(e,t){const n=[],r=new Map;t=Pg({strict:!1,end:!0,sensitive:!1},t);function i(g){return r.get(g)}function s(g,_,m){const N=!m,T=Ig(g);T.aliasOf=m&&m.record;const M=Pg(t,g),P=[T];if("alias"in g){const Z=typeof g.alias=="string"?[g.alias]:g.alias;for(const yt of Z)P.push(Ig(qe({},T,{components:m?m.record.components:T.components,path:yt,aliasOf:m?m.record:T})))}let k,K;for(const Z of P){const{path:yt}=Z;if(_&&yt[0]!=="/"){const Tt=_.record.path,O=Tt[Tt.length-1]==="/"?"":"/";Z.path=_.record.path+(yt&&O+yt)}if(k=Ow(Z,_,M),m?m.alias.push(k):(K=K||k,K!==k&&K.alias.push(k),N&&g.name&&!Tg(k)&&o(g.name)),T0(k)&&u(k),T.children){const Tt=T.children;for(let O=0;O<Tt.length;O++)s(Tt[O],k,m&&m.children[O])}m=m||k}return K?()=>{o(K)}:Iu}function o(g){if(S0(g)){const _=r.get(g);_&&(r.delete(g),n.splice(n.indexOf(_),1),_.children.forEach(o),_.alias.forEach(o))}else{const _=n.indexOf(g);_>-1&&(n.splice(_,1),g.record.name&&r.delete(g.record.name),g.children.forEach(o),g.alias.forEach(o))}}function a(){return n}function u(g){const _=jw(g,n);n.splice(_,0,g),g.record.name&&!Tg(g)&&r.set(g.record.name,g)}function h(g,_){let m,N={},T,M;if("name"in g&&g.name){if(m=r.get(g.name),!m)throw Pl(1,{location:g});M=m.record.name,N=qe(xg(_.params,m.keys.filter(K=>!K.optional).concat(m.parent?m.parent.keys.filter(K=>K.optional):[]).map(K=>K.name)),g.params&&xg(g.params,m.keys.map(K=>K.name))),T=m.stringify(N)}else if(g.path!=null)T=g.path,m=n.find(K=>K.re.test(T)),m&&(N=m.parse(T),M=m.record.name);else{if(m=_.name?r.get(_.name):n.find(K=>K.re.test(_.path)),!m)throw Pl(1,{location:g,currentLocation:_});M=m.record.name,N=qe({},_.params,g.params),T=m.stringify(N)}const P=[];let k=m;for(;k;)P.unshift(k.record),k=k.parent;return{name:M,path:T,params:N,matched:P,meta:Vw(P)}}e.forEach(g=>s(g));function d(){n.length=0,r.clear()}return{addRoute:s,resolve:h,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:i}}function xg(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Ig(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Mw(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Mw(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Tg(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Vw(e){return e.reduce((t,n)=>qe(t,n.meta),{})}function Pg(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function jw(e,t){let n=0,r=t.length;for(;n!==r;){const s=n+r>>1;I0(e,t[s])<0?r=s:n=s+1}const i=Bw(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function Bw(e){let t=e;for(;t=t.parent;)if(T0(t)&&I0(e,t)===0)return t}function T0({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function qw(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(y0," "),o=s.indexOf("="),a=Vu(o<0?s:s.slice(0,o)),u=o<0?null:Vu(s.slice(o+1));if(a in t){let h=t[a];Pi(h)||(h=t[a]=[h]),h.push(u)}else t[a]=u}return t}function Ng(e){let t="";for(let n in e){const r=e[n];if(n=aw(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Pi(r)?r.map(s=>s&&Ad(s)):[r&&Ad(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Uw(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Pi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const zw=Symbol(""),Lg=Symbol(""),Sp=Symbol(""),P0=Symbol(""),Sd=Symbol("");function uu(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function wo(e,t,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,u)=>{const h=_=>{_===!1?u(Pl(4,{from:n,to:t})):_ instanceof Error?u(_):Tw(_)?u(Pl(2,{from:t,to:_})):(o&&r.enterCallbacks[i]===o&&typeof _=="function"&&o.push(_),a())},d=s(()=>e.call(r&&r.instances[i],t,n,h));let g=Promise.resolve(d);e.length<3&&(g=g.then(h)),g.catch(_=>u(_))})}function Uf(e,t,n,r,i=s=>s()){const s=[];for(const o of e)for(const a in o.components){let u=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(m0(u)){const d=(u.__vccOpts||u)[t];d&&s.push(wo(d,n,r,o,a,i))}else{let h=u();s.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const g=Yb(d)?d.default:d;o.mods[a]=d,o.components[a]=g;const m=(g.__vccOpts||g)[t];return m&&wo(m,n,r,o,a,i)()}))}}return s}function Cg(e){const t=ks(Sp),n=ks(P0),r=Tn(()=>{const u=pl(e.to);return t.resolve(u)}),i=Tn(()=>{const{matched:u}=r.value,{length:h}=u,d=u[h-1],g=n.matched;if(!d||!g.length)return-1;const _=g.findIndex(Tl.bind(null,d));if(_>-1)return _;const m=Rg(u[h-2]);return h>1&&Rg(d)===m&&g[g.length-1].path!==m?g.findIndex(Tl.bind(null,u[h-2])):_}),s=Tn(()=>i.value>-1&&Kw(n.params,r.value.params)),o=Tn(()=>i.value>-1&&i.value===n.matched.length-1&&A0(n.params,r.value.params));function a(u={}){if(Gw(u)){const h=t[pl(e.replace)?"replace":"push"](pl(e.to)).catch(Iu);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Tn(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function $w(e){return e.length===1?e[0]:e}const Hw=U2({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cg,setup(e,{slots:t}){const n=Mh(Cg(e)),{options:r}=ks(Sp),i=Tn(()=>({[kg(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[kg(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&$w(t.default(n));return e.custom?s:p0("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Ww=Hw;function Gw(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Kw(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Pi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Rg(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const kg=(e,t,n)=>e??t??n,Qw=U2({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ks(Sd),i=Tn(()=>e.route||r.value),s=ks(Lg,0),o=Tn(()=>{let h=pl(s);const{matched:d}=i.value;let g;for(;(g=d[h])&&!g.components;)h++;return h}),a=Tn(()=>i.value.matched[o.value]);Uc(Lg,Tn(()=>o.value+1)),Uc(zw,a),Uc(Sd,i);const u=Ve();return vl(()=>[u.value,a.value,e.name],([h,d,g],[_,m,N])=>{d&&(d.instances[g]=h,m&&m!==d&&h&&h===_&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),h&&d&&(!m||!Tl(d,m)||!_)&&(d.enterCallbacks[g]||[]).forEach(T=>T(h))},{flush:"post"}),()=>{const h=i.value,d=e.name,g=a.value,_=g&&g.components[d];if(!_)return Dg(n.default,{Component:_,route:h});const m=g.props[d],N=m?m===!0?h.params:typeof m=="function"?m(h):m:null,M=p0(_,qe({},N,t,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(g.instances[d]=null)},ref:u}));return Dg(n.default,{Component:M,route:h})||M}}});function Dg(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Yw=Qw;function Jw(e){const t=Fw(e.routes,e),n=e.parseQuery||qw,r=e.stringifyQuery||Ng,i=e.history,s=uu(),o=uu(),a=uu(),u=i_(mo);let h=mo;el&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Bf.bind(null,G=>""+G),g=Bf.bind(null,uw),_=Bf.bind(null,Vu);function m(G,rt){let nt,It;return S0(G)?(nt=t.getRecordMatcher(G),It=rt):It=G,t.addRoute(It,nt)}function N(G){const rt=t.getRecordMatcher(G);rt&&t.removeRoute(rt)}function T(){return t.getRoutes().map(G=>G.record)}function M(G){return!!t.getRecordMatcher(G)}function P(G,rt){if(rt=qe({},rt||u.value),typeof G=="string"){const it=qf(n,G,rt.path),X=t.resolve({path:it.path},rt),j=i.createHref(it.fullPath);return qe(it,X,{params:_(X.params),hash:Vu(it.hash),redirectedFrom:void 0,href:j})}let nt;if(G.path!=null)nt=qe({},G,{path:qf(n,G.path,rt.path).path});else{const it=qe({},G.params);for(const X in it)it[X]==null&&delete it[X];nt=qe({},G,{params:g(it)}),rt.params=g(rt.params)}const It=t.resolve(nt,rt),Nt=G.hash||"";It.params=d(_(It.params));const z=fw(r,qe({},G,{hash:ow(Nt),path:It.path})),$=i.createHref(z);return qe({fullPath:z,hash:Nt,query:r===Ng?Uw(G.query):G.query||{}},It,{redirectedFrom:void 0,href:$})}function k(G){return typeof G=="string"?qf(n,G,u.value.path):qe({},G)}function K(G,rt){if(h!==G)return Pl(8,{from:rt,to:G})}function Z(G){return O(G)}function yt(G){return Z(qe(k(G),{replace:!0}))}function Tt(G){const rt=G.matched[G.matched.length-1];if(rt&&rt.redirect){const{redirect:nt}=rt;let It=typeof nt=="function"?nt(G):nt;return typeof It=="string"&&(It=It.includes("?")||It.includes("#")?It=k(It):{path:It},It.params={}),qe({query:G.query,hash:G.hash,params:It.path!=null?{}:G.params},It)}}function O(G,rt){const nt=h=P(G),It=u.value,Nt=G.state,z=G.force,$=G.replace===!0,it=Tt(nt);if(it)return O(qe(k(it),{state:typeof it=="object"?qe({},Nt,it.state):Nt,force:z,replace:$}),rt||nt);const X=nt;X.redirectedFrom=rt;let j;return!z&&dw(r,It,nt)&&(j=Pl(16,{to:X,from:It}),$t(It,It,!0,!1)),(j?Promise.resolve(j):U(X,It)).catch(bt=>Is(bt)?Is(bt,2)?bt:Pt(bt):ut(bt,X,It)).then(bt=>{if(bt){if(Is(bt,2))return O(qe({replace:$},k(bt.to),{state:typeof bt.to=="object"?qe({},Nt,bt.to.state):Nt,force:z}),rt||X)}else bt=S(X,It,!0,$,Nt);return x(X,It,bt),bt})}function b(G,rt){const nt=K(G,rt);return nt?Promise.reject(nt):Promise.resolve()}function I(G){const rt=J.values().next().value;return rt&&typeof rt.runWithContext=="function"?rt.runWithContext(G):G()}function U(G,rt){let nt;const[It,Nt,z]=Xw(G,rt);nt=Uf(It.reverse(),"beforeRouteLeave",G,rt);for(const it of It)it.leaveGuards.forEach(X=>{nt.push(wo(X,G,rt))});const $=b.bind(null,G,rt);return nt.push($),tt(nt).then(()=>{nt=[];for(const it of s.list())nt.push(wo(it,G,rt));return nt.push($),tt(nt)}).then(()=>{nt=Uf(Nt,"beforeRouteUpdate",G,rt);for(const it of Nt)it.updateGuards.forEach(X=>{nt.push(wo(X,G,rt))});return nt.push($),tt(nt)}).then(()=>{nt=[];for(const it of z)if(it.beforeEnter)if(Pi(it.beforeEnter))for(const X of it.beforeEnter)nt.push(wo(X,G,rt));else nt.push(wo(it.beforeEnter,G,rt));return nt.push($),tt(nt)}).then(()=>(G.matched.forEach(it=>it.enterCallbacks={}),nt=Uf(z,"beforeRouteEnter",G,rt,I),nt.push($),tt(nt))).then(()=>{nt=[];for(const it of o.list())nt.push(wo(it,G,rt));return nt.push($),tt(nt)}).catch(it=>Is(it,8)?it:Promise.reject(it))}function x(G,rt,nt){a.list().forEach(It=>I(()=>It(G,rt,nt)))}function S(G,rt,nt,It,Nt){const z=K(G,rt);if(z)return z;const $=rt===mo,it=el?history.state:{};nt&&(It||$?i.replace(G.fullPath,qe({scroll:$&&it&&it.scroll},Nt)):i.push(G.fullPath,Nt)),u.value=G,$t(G,rt,nt,$),Pt()}let A;function Q(){A||(A=i.listen((G,rt,nt)=>{if(!st.listening)return;const It=P(G),Nt=Tt(It);if(Nt){O(qe(Nt,{replace:!0,force:!0}),It).catch(Iu);return}h=It;const z=u.value;el&&ww(bg(z.fullPath,nt.delta),$h()),U(It,z).catch($=>Is($,12)?$:Is($,2)?(O(qe(k($.to),{force:!0}),It).then(it=>{Is(it,20)&&!nt.delta&&nt.type===ju.pop&&i.go(-1,!1)}).catch(Iu),Promise.reject()):(nt.delta&&i.go(-nt.delta,!1),ut($,It,z))).then($=>{$=$||S(It,z,!1),$&&(nt.delta&&!Is($,8)?i.go(-nt.delta,!1):nt.type===ju.pop&&Is($,20)&&i.go(-1,!1)),x(It,z,$)}).catch(Iu)}))}let mt=uu(),et=uu(),dt;function ut(G,rt,nt){Pt(G);const It=et.list();return It.length?It.forEach(Nt=>Nt(G,rt,nt)):console.error(G),Promise.reject(G)}function xt(){return dt&&u.value!==mo?Promise.resolve():new Promise((G,rt)=>{mt.add([G,rt])})}function Pt(G){return dt||(dt=!G,Q(),mt.list().forEach(([rt,nt])=>G?nt(G):rt()),mt.reset()),G}function $t(G,rt,nt,It){const{scrollBehavior:Nt}=e;if(!el||!Nt)return Promise.resolve();const z=!nt&&Aw(bg(G.fullPath,0))||(It||!nt)&&history.state&&history.state.scroll||null;return vp().then(()=>Nt(G,rt,z)).then($=>$&&bw($)).catch($=>ut($,G,rt))}const R=G=>i.go(G);let H;const J=new Set,st={currentRoute:u,listening:!0,addRoute:m,removeRoute:N,clearRoutes:t.clearRoutes,hasRoute:M,getRoutes:T,resolve:P,options:e,push:Z,replace:yt,go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:et.add,isReady:xt,install(G){const rt=this;G.component("RouterLink",Ww),G.component("RouterView",Yw),G.config.globalProperties.$router=rt,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>pl(u)}),el&&!H&&u.value===mo&&(H=!0,Z(i.location).catch(Nt=>{}));const nt={};for(const Nt in mo)Object.defineProperty(nt,Nt,{get:()=>u.value[Nt],enumerable:!0});G.provide(Sp,rt),G.provide(P0,L2(nt)),G.provide(Sd,u);const It=G.unmount;J.add(G),G.unmount=function(){J.delete(G),J.size<1&&(h=mo,A&&A(),A=null,u.value=mo,H=!1,dt=!1),It()}}};function tt(G){return G.reduce((rt,nt)=>rt.then(()=>I(nt)),Promise.resolve())}return st}function Xw(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(h=>Tl(h,a))?r.push(a):n.push(a));const u=e.matched[o];u&&(t.matched.find(h=>Tl(h,u))||i.push(u))}return[n,r,i]}const Zw=()=>{};var Og={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},t4=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},L0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,h=u?e[i+2]:0,d=s>>2,g=(s&3)<<4|a>>4;let _=(a&15)<<2|h>>6,m=h&63;u||(m=64,o||(_=64)),r.push(n[d],n[g],n[_],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(N0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):t4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const h=i<e.length?n[e.charAt(i)]:64;++i;const g=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||h==null||g==null)throw new e4;const _=s<<2|a>>4;if(r.push(_),h!==64){const m=a<<4&240|h>>2;if(r.push(m),g!==64){const N=h<<6&192|g;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class e4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n4=function(e){const t=N0(e);return L0.encodeByteArray(t,!0)},hh=function(e){return n4(e).replace(/\./g,"")},r4=function(e){try{return L0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=()=>i4().__FIREBASE_DEFAULTS__,o4=()=>{if(typeof process>"u"||typeof Og>"u")return;const e=Og.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},a4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&r4(e[1]);return t&&JSON.parse(t)},xp=()=>{try{return Zw()||s4()||o4()||a4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},l4=e=>{var t,n;return(n=(t=xp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},u4=e=>{const t=l4(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},C0=()=>{var e;return(e=xp())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[hh(JSON.stringify(n)),hh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d4(){var e;const t=(e=xp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p4(){return!d4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g4(){try{return typeof indexedDB=="object"}catch{return!1}}function m4(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="FirebaseError";class Ml extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=v4,Object.setPrototypeOf(this,Ml.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R0.prototype.create)}}class R0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?y4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ml(i,a,r)}}function y4(e,t){return e.replace(_4,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const _4=/\{\$([^}]+)}/g;function fh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Fg(s)&&Fg(o)){if(!fh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(e){return e&&e._delegate?e._delegate:e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(e){return e.endsWith(".cloudworkstations.dev")}async function b4(e){return(await fetch(e,{credentials:"include"})).ok}class Bu{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new c4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(E4(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A4(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A4(e){return e===fa?void 0:e}function E4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new w4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ce||(Ce={}));const x4={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},I4=Ce.INFO,T4={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},P4=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=T4[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class D0{constructor(t){this.name=t,this._logLevel=I4,this._logHandler=P4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?x4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}const N4=(e,t)=>t.some(n=>e instanceof n);let Mg,Vg;function L4(){return Mg||(Mg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C4(){return Vg||(Vg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,xd=new WeakMap,F0=new WeakMap,zf=new WeakMap,Ip=new WeakMap;function R4(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Io(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&O0.set(n,e)}).catch(()=>{}),Ip.set(t,e),t}function k4(e){if(xd.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});xd.set(e,t)}let Id={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||F0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Io(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function D4(e){Id=e(Id)}function O4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call($f(this),t,...n);return F0.set(r,t.sort?t.sort():[t]),Io(r)}:C4().includes(e)?function(...t){return e.apply($f(this),t),Io(O0.get(this))}:function(...t){return Io(e.apply($f(this),t))}}function F4(e){return typeof e=="function"?O4(e):(e instanceof IDBTransaction&&k4(e),N4(e,L4())?new Proxy(e,Id):e)}function Io(e){if(e instanceof IDBRequest)return R4(e);if(zf.has(e))return zf.get(e);const t=F4(e);return t!==e&&(zf.set(e,t),Ip.set(t,e)),t}const $f=e=>Ip.get(e);function M4(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Io(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Io(o.result),u.oldVersion,u.newVersion,Io(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const V4=["get","getKey","getAll","getAllKeys","count"],j4=["put","add","delete","clear"],Hf=new Map;function jg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Hf.get(t))return Hf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=j4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V4.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&u.done]))[0]};return Hf.set(t,s),s}D4(e=>({...e,get:(t,n,r)=>jg(t,n)||e.get(t,n,r),has:(t,n)=>!!jg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function q4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Td="@firebase/app",Bg="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new D0("@firebase/app"),U4="@firebase/app-compat",z4="@firebase/analytics-compat",$4="@firebase/analytics",H4="@firebase/app-check-compat",W4="@firebase/app-check",G4="@firebase/auth",K4="@firebase/auth-compat",Q4="@firebase/database",Y4="@firebase/data-connect",J4="@firebase/database-compat",X4="@firebase/functions",Z4="@firebase/functions-compat",t3="@firebase/installations",e3="@firebase/installations-compat",n3="@firebase/messaging",r3="@firebase/messaging-compat",i3="@firebase/performance",s3="@firebase/performance-compat",o3="@firebase/remote-config",a3="@firebase/remote-config-compat",l3="@firebase/storage",u3="@firebase/storage-compat",c3="@firebase/firestore",h3="@firebase/vertexai",f3="@firebase/firestore-compat",d3="firebase",p3="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="[DEFAULT]",g3={[Td]:"fire-core",[U4]:"fire-core-compat",[$4]:"fire-analytics",[z4]:"fire-analytics-compat",[W4]:"fire-app-check",[H4]:"fire-app-check-compat",[G4]:"fire-auth",[K4]:"fire-auth-compat",[Q4]:"fire-rtdb",[Y4]:"fire-data-connect",[J4]:"fire-rtdb-compat",[X4]:"fire-fn",[Z4]:"fire-fn-compat",[t3]:"fire-iid",[e3]:"fire-iid-compat",[n3]:"fire-fcm",[r3]:"fire-fcm-compat",[i3]:"fire-perf",[s3]:"fire-perf-compat",[o3]:"fire-rc",[a3]:"fire-rc-compat",[l3]:"fire-gcs",[u3]:"fire-gcs-compat",[c3]:"fire-fst",[f3]:"fire-fst-compat",[h3]:"fire-vertex","fire-js":"fire-js",[d3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,m3=new Map,Nd=new Map;function qg(e,t){try{e.container.addComponent(t)}catch(n){Os.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ph(e){const t=e.name;if(Nd.has(t))return Os.debug(`There were multiple attempts to register component ${t}.`),!1;Nd.set(t,e);for(const n of dh.values())qg(n,e);for(const n of m3.values())qg(n,e);return!0}function v3(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function y3(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new R0("app","Firebase",_3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=p3;function M0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Pd,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw To.create("bad-app-name",{appName:String(i)});if(n||(n=C0()),!n)throw To.create("no-options");const s=dh.get(i);if(s){if(fh(n,s.options)&&fh(r,s.config))return s;throw To.create("duplicate-app",{appName:i})}const o=new S4(i);for(const u of Nd.values())o.addComponent(u);const a=new b3(n,r,o);return dh.set(i,a),a}function A3(e=Pd){const t=dh.get(e);if(!t&&e===Pd&&C0())return M0();if(!t)throw To.create("no-app",{appName:e});return t}function _l(e,t,n){var r;let i=(r=g3[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Os.warn(a.join(" "));return}ph(new Bu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="firebase-heartbeat-database",S3=1,qu="firebase-heartbeat-store";let Wf=null;function V0(){return Wf||(Wf=M4(E3,S3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(qu)}catch(n){console.warn(n)}}}}).catch(e=>{throw To.create("idb-open",{originalErrorMessage:e.message})})),Wf}async function x3(e){try{const n=(await V0()).transaction(qu),r=await n.objectStore(qu).get(j0(e));return await n.done,r}catch(t){if(t instanceof Ml)Os.warn(t.message);else{const n=To.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Os.warn(n.message)}}}async function Ug(e,t){try{const r=(await V0()).transaction(qu,"readwrite");await r.objectStore(qu).put(t,j0(e)),await r.done}catch(n){if(n instanceof Ml)Os.warn(n.message);else{const r=To.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function j0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=1024,T3=30;class P3{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zg();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>T3){const o=C3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zg(),{heartbeatsToSend:r,unsentEntries:i}=N3(this._heartbeatsCache.heartbeats),s=hh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Os.warn(n),""}}}function zg(){return new Date().toISOString().substring(0,10)}function N3(e,t=I3){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$g(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$g(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g4()?m4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ug(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ug(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function $g(e){return hh(JSON.stringify({version:2,heartbeats:e})).length}function C3(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(e){ph(new Bu("platform-logger",t=>new B4(t),"PRIVATE")),ph(new Bu("heartbeat",t=>new P3(t),"PRIVATE")),_l(Td,Bg,e),_l(Td,Bg,"esm2017"),_l("fire-js","")}R3("");var k3="firebase",D3="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_l(k3,D3,"app");var Hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Po,B0;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,b){function I(){}I.prototype=b.prototype,O.D=b.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(U,x,S){for(var A=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)A[Q-2]=arguments[Q];return b.prototype[x].apply(U,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,b,I){I||(I=0);var U=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)U[x]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(x=0;16>x;++x)U[x]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=O.g[0],I=O.g[1],x=O.g[2];var S=O.g[3],A=b+(S^I&(x^S))+U[0]+3614090360&4294967295;b=I+(A<<7&4294967295|A>>>25),A=S+(x^b&(I^x))+U[1]+3905402710&4294967295,S=b+(A<<12&4294967295|A>>>20),A=x+(I^S&(b^I))+U[2]+606105819&4294967295,x=S+(A<<17&4294967295|A>>>15),A=I+(b^x&(S^b))+U[3]+3250441966&4294967295,I=x+(A<<22&4294967295|A>>>10),A=b+(S^I&(x^S))+U[4]+4118548399&4294967295,b=I+(A<<7&4294967295|A>>>25),A=S+(x^b&(I^x))+U[5]+1200080426&4294967295,S=b+(A<<12&4294967295|A>>>20),A=x+(I^S&(b^I))+U[6]+2821735955&4294967295,x=S+(A<<17&4294967295|A>>>15),A=I+(b^x&(S^b))+U[7]+4249261313&4294967295,I=x+(A<<22&4294967295|A>>>10),A=b+(S^I&(x^S))+U[8]+1770035416&4294967295,b=I+(A<<7&4294967295|A>>>25),A=S+(x^b&(I^x))+U[9]+2336552879&4294967295,S=b+(A<<12&4294967295|A>>>20),A=x+(I^S&(b^I))+U[10]+4294925233&4294967295,x=S+(A<<17&4294967295|A>>>15),A=I+(b^x&(S^b))+U[11]+2304563134&4294967295,I=x+(A<<22&4294967295|A>>>10),A=b+(S^I&(x^S))+U[12]+1804603682&4294967295,b=I+(A<<7&4294967295|A>>>25),A=S+(x^b&(I^x))+U[13]+4254626195&4294967295,S=b+(A<<12&4294967295|A>>>20),A=x+(I^S&(b^I))+U[14]+2792965006&4294967295,x=S+(A<<17&4294967295|A>>>15),A=I+(b^x&(S^b))+U[15]+1236535329&4294967295,I=x+(A<<22&4294967295|A>>>10),A=b+(x^S&(I^x))+U[1]+4129170786&4294967295,b=I+(A<<5&4294967295|A>>>27),A=S+(I^x&(b^I))+U[6]+3225465664&4294967295,S=b+(A<<9&4294967295|A>>>23),A=x+(b^I&(S^b))+U[11]+643717713&4294967295,x=S+(A<<14&4294967295|A>>>18),A=I+(S^b&(x^S))+U[0]+3921069994&4294967295,I=x+(A<<20&4294967295|A>>>12),A=b+(x^S&(I^x))+U[5]+3593408605&4294967295,b=I+(A<<5&4294967295|A>>>27),A=S+(I^x&(b^I))+U[10]+38016083&4294967295,S=b+(A<<9&4294967295|A>>>23),A=x+(b^I&(S^b))+U[15]+3634488961&4294967295,x=S+(A<<14&4294967295|A>>>18),A=I+(S^b&(x^S))+U[4]+3889429448&4294967295,I=x+(A<<20&4294967295|A>>>12),A=b+(x^S&(I^x))+U[9]+568446438&4294967295,b=I+(A<<5&4294967295|A>>>27),A=S+(I^x&(b^I))+U[14]+3275163606&4294967295,S=b+(A<<9&4294967295|A>>>23),A=x+(b^I&(S^b))+U[3]+4107603335&4294967295,x=S+(A<<14&4294967295|A>>>18),A=I+(S^b&(x^S))+U[8]+1163531501&4294967295,I=x+(A<<20&4294967295|A>>>12),A=b+(x^S&(I^x))+U[13]+2850285829&4294967295,b=I+(A<<5&4294967295|A>>>27),A=S+(I^x&(b^I))+U[2]+4243563512&4294967295,S=b+(A<<9&4294967295|A>>>23),A=x+(b^I&(S^b))+U[7]+1735328473&4294967295,x=S+(A<<14&4294967295|A>>>18),A=I+(S^b&(x^S))+U[12]+2368359562&4294967295,I=x+(A<<20&4294967295|A>>>12),A=b+(I^x^S)+U[5]+4294588738&4294967295,b=I+(A<<4&4294967295|A>>>28),A=S+(b^I^x)+U[8]+2272392833&4294967295,S=b+(A<<11&4294967295|A>>>21),A=x+(S^b^I)+U[11]+1839030562&4294967295,x=S+(A<<16&4294967295|A>>>16),A=I+(x^S^b)+U[14]+4259657740&4294967295,I=x+(A<<23&4294967295|A>>>9),A=b+(I^x^S)+U[1]+2763975236&4294967295,b=I+(A<<4&4294967295|A>>>28),A=S+(b^I^x)+U[4]+1272893353&4294967295,S=b+(A<<11&4294967295|A>>>21),A=x+(S^b^I)+U[7]+4139469664&4294967295,x=S+(A<<16&4294967295|A>>>16),A=I+(x^S^b)+U[10]+3200236656&4294967295,I=x+(A<<23&4294967295|A>>>9),A=b+(I^x^S)+U[13]+681279174&4294967295,b=I+(A<<4&4294967295|A>>>28),A=S+(b^I^x)+U[0]+3936430074&4294967295,S=b+(A<<11&4294967295|A>>>21),A=x+(S^b^I)+U[3]+3572445317&4294967295,x=S+(A<<16&4294967295|A>>>16),A=I+(x^S^b)+U[6]+76029189&4294967295,I=x+(A<<23&4294967295|A>>>9),A=b+(I^x^S)+U[9]+3654602809&4294967295,b=I+(A<<4&4294967295|A>>>28),A=S+(b^I^x)+U[12]+3873151461&4294967295,S=b+(A<<11&4294967295|A>>>21),A=x+(S^b^I)+U[15]+530742520&4294967295,x=S+(A<<16&4294967295|A>>>16),A=I+(x^S^b)+U[2]+3299628645&4294967295,I=x+(A<<23&4294967295|A>>>9),A=b+(x^(I|~S))+U[0]+4096336452&4294967295,b=I+(A<<6&4294967295|A>>>26),A=S+(I^(b|~x))+U[7]+1126891415&4294967295,S=b+(A<<10&4294967295|A>>>22),A=x+(b^(S|~I))+U[14]+2878612391&4294967295,x=S+(A<<15&4294967295|A>>>17),A=I+(S^(x|~b))+U[5]+4237533241&4294967295,I=x+(A<<21&4294967295|A>>>11),A=b+(x^(I|~S))+U[12]+1700485571&4294967295,b=I+(A<<6&4294967295|A>>>26),A=S+(I^(b|~x))+U[3]+2399980690&4294967295,S=b+(A<<10&4294967295|A>>>22),A=x+(b^(S|~I))+U[10]+4293915773&4294967295,x=S+(A<<15&4294967295|A>>>17),A=I+(S^(x|~b))+U[1]+2240044497&4294967295,I=x+(A<<21&4294967295|A>>>11),A=b+(x^(I|~S))+U[8]+1873313359&4294967295,b=I+(A<<6&4294967295|A>>>26),A=S+(I^(b|~x))+U[15]+4264355552&4294967295,S=b+(A<<10&4294967295|A>>>22),A=x+(b^(S|~I))+U[6]+2734768916&4294967295,x=S+(A<<15&4294967295|A>>>17),A=I+(S^(x|~b))+U[13]+1309151649&4294967295,I=x+(A<<21&4294967295|A>>>11),A=b+(x^(I|~S))+U[4]+4149444226&4294967295,b=I+(A<<6&4294967295|A>>>26),A=S+(I^(b|~x))+U[11]+3174756917&4294967295,S=b+(A<<10&4294967295|A>>>22),A=x+(b^(S|~I))+U[2]+718787259&4294967295,x=S+(A<<15&4294967295|A>>>17),A=I+(S^(x|~b))+U[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(x+(A<<21&4294967295|A>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+S&4294967295}r.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var I=b-this.blockSize,U=this.B,x=this.h,S=0;S<b;){if(x==0)for(;S<=I;)i(this,O,S),S+=this.blockSize;if(typeof O=="string"){for(;S<b;)if(U[x++]=O.charCodeAt(S++),x==this.blockSize){i(this,U),x=0;break}}else for(;S<b;)if(U[x++]=O[S++],x==this.blockSize){i(this,U),x=0;break}}this.h=x,this.o+=b},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var I=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=I&255,I/=256;for(this.u(O),O=Array(16),b=I=0;4>b;++b)for(var U=0;32>U;U+=8)O[I++]=this.g[b]>>>U&255;return O};function s(O,b){var I=a;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=b(O)}function o(O,b){this.h=b;for(var I=[],U=!0,x=O.length-1;0<=x;x--){var S=O[x]|0;U&&S==b||(I[x]=S,U=!1)}this.g=I}var a={};function u(O){return-128<=O&&128>O?s(O,function(b){return new o([b|0],0>b?-1:0)}):new o([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return M(h(-O));for(var b=[],I=1,U=0;O>=I;U++)b[U]=O/I|0,I*=4294967296;return new o(b,0)}function d(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return M(d(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=h(Math.pow(b,8)),U=g,x=0;x<O.length;x+=8){var S=Math.min(8,O.length-x),A=parseInt(O.substring(x,x+S),b);8>S?(S=h(Math.pow(b,S)),U=U.j(S).add(h(A))):(U=U.j(I),U=U.add(h(A)))}return U}var g=u(0),_=u(1),m=u(16777216);e=o.prototype,e.m=function(){if(T(this))return-M(this).m();for(var O=0,b=1,I=0;I<this.g.length;I++){var U=this.i(I);O+=(0<=U?U:4294967296+U)*b,b*=4294967296}return O},e.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(N(this))return"0";if(T(this))return"-"+M(this).toString(O);for(var b=h(Math.pow(O,6)),I=this,U="";;){var x=Z(I,b).g;I=P(I,x.j(b));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=x,N(I))return S+U;for(;6>S.length;)S="0"+S;U=S+U}},e.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function N(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function T(O){return O.h==-1}e.l=function(O){return O=P(this,O),T(O)?-1:N(O)?0:1};function M(O){for(var b=O.g.length,I=[],U=0;U<b;U++)I[U]=~O.g[U];return new o(I,~O.h).add(_)}e.abs=function(){return T(this)?M(this):this},e.add=function(O){for(var b=Math.max(this.g.length,O.g.length),I=[],U=0,x=0;x<=b;x++){var S=U+(this.i(x)&65535)+(O.i(x)&65535),A=(S>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);U=A>>>16,S&=65535,A&=65535,I[x]=A<<16|S}return new o(I,I[I.length-1]&-2147483648?-1:0)};function P(O,b){return O.add(M(b))}e.j=function(O){if(N(this)||N(O))return g;if(T(this))return T(O)?M(this).j(M(O)):M(M(this).j(O));if(T(O))return M(this.j(M(O)));if(0>this.l(m)&&0>O.l(m))return h(this.m()*O.m());for(var b=this.g.length+O.g.length,I=[],U=0;U<2*b;U++)I[U]=0;for(U=0;U<this.g.length;U++)for(var x=0;x<O.g.length;x++){var S=this.i(U)>>>16,A=this.i(U)&65535,Q=O.i(x)>>>16,mt=O.i(x)&65535;I[2*U+2*x]+=A*mt,k(I,2*U+2*x),I[2*U+2*x+1]+=S*mt,k(I,2*U+2*x+1),I[2*U+2*x+1]+=A*Q,k(I,2*U+2*x+1),I[2*U+2*x+2]+=S*Q,k(I,2*U+2*x+2)}for(U=0;U<b;U++)I[U]=I[2*U+1]<<16|I[2*U];for(U=b;U<2*b;U++)I[U]=0;return new o(I,0)};function k(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function K(O,b){this.g=O,this.h=b}function Z(O,b){if(N(b))throw Error("division by zero");if(N(O))return new K(g,g);if(T(O))return b=Z(M(O),b),new K(M(b.g),M(b.h));if(T(b))return b=Z(O,M(b)),new K(M(b.g),b.h);if(30<O.g.length){if(T(O)||T(b))throw Error("slowDivide_ only works with positive integers.");for(var I=_,U=b;0>=U.l(O);)I=yt(I),U=yt(U);var x=Tt(I,1),S=Tt(U,1);for(U=Tt(U,2),I=Tt(I,2);!N(U);){var A=S.add(U);0>=A.l(O)&&(x=x.add(I),S=A),U=Tt(U,1),I=Tt(I,1)}return b=P(O,x.j(b)),new K(x,b)}for(x=g;0<=O.l(b);){for(I=Math.max(1,Math.floor(O.m()/b.m())),U=Math.ceil(Math.log(I)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),S=h(I),A=S.j(b);T(A)||0<A.l(O);)I-=U,S=h(I),A=S.j(b);N(S)&&(S=_),x=x.add(S),O=P(O,A)}return new K(x,O)}e.A=function(O){return Z(this,O).h},e.and=function(O){for(var b=Math.max(this.g.length,O.g.length),I=[],U=0;U<b;U++)I[U]=this.i(U)&O.i(U);return new o(I,this.h&O.h)},e.or=function(O){for(var b=Math.max(this.g.length,O.g.length),I=[],U=0;U<b;U++)I[U]=this.i(U)|O.i(U);return new o(I,this.h|O.h)},e.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),I=[],U=0;U<b;U++)I[U]=this.i(U)^O.i(U);return new o(I,this.h^O.h)};function yt(O){for(var b=O.g.length+1,I=[],U=0;U<b;U++)I[U]=O.i(U)<<1|O.i(U-1)>>>31;return new o(I,O.h)}function Tt(O,b){var I=b>>5;b%=32;for(var U=O.g.length-I,x=[],S=0;S<U;S++)x[S]=0<b?O.i(S+I)>>>b|O.i(S+I+1)<<32-b:O.i(S+I);return new o(x,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B0=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,Po=o}).apply(typeof Hg<"u"?Hg:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q0,gu,U0,Hc,Ld,z0,$0,H0;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)t:{var E=r;c=c.split(".");for(var V=0;V<c.length-1;V++){var ft=c[V];if(!(ft in E))break t;E=E[ft]}c=c[c.length-1],V=E[c],y=y(V),y!=V&&y!=null&&t(E,c,{configurable:!0,writable:!0,value:y})}}function s(c,y){c instanceof String&&(c+="");var E=0,V=!1,ft={next:function(){if(!V&&E<c.length){var St=E++;return{value:y(St,c[St]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ft[Symbol.iterator]=function(){return ft},ft}i("Array.prototype.values",function(c){return c||function(){return s(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function h(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function d(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){if(!c)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ft=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ft,V),c.apply(y,ft)}}return function(){return c.apply(y,arguments)}}function _(c,y,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,_.apply(null,arguments)}function m(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var V=E.slice();return V.push.apply(V,arguments),c.apply(this,V)}}function N(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(V,ft,St){for(var qt=Array(arguments.length-2),me=2;me<arguments.length;me++)qt[me-2]=arguments[me];return y.prototype[ft].apply(V,qt)}}function T(c){const y=c.length;if(0<y){const E=Array(y);for(let V=0;V<y;V++)E[V]=c[V];return E}return[]}function M(c,y){for(let E=1;E<arguments.length;E++){const V=arguments[E];if(u(V)){const ft=c.length||0,St=V.length||0;c.length=ft+St;for(let qt=0;qt<St;qt++)c[ft+qt]=V[qt]}else c.push(V)}}class P{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var yt=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function Tt(c,y,E){for(const V in c)y.call(E,c[V],V,c)}function O(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function b(c){const y={};for(const E in c)y[E]=c[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(c,y){let E,V;for(let ft=1;ft<arguments.length;ft++){V=arguments[ft];for(E in V)c[E]=V[E];for(let St=0;St<I.length;St++)E=I[St],Object.prototype.hasOwnProperty.call(V,E)&&(c[E]=V[E])}}function x(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function S(c){a.setTimeout(()=>{throw c},0)}function A(){var c=xt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Q{constructor(){this.h=this.g=null}add(y,E){const V=mt.get();V.set(y,E),this.h?this.h.next=V:this.g=V,this.h=V}}var mt=new P(()=>new et,c=>c.reset());class et{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,ut=!1,xt=new Q,Pt=()=>{const c=a.Promise.resolve(void 0);dt=()=>{c.then($t)}};var $t=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(E){S(E)}var y=mt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ut=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};a.addEventListener("test",E,y),a.removeEventListener("test",E,y)}catch{}return c}();function st(c,y){if(H.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,V=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(yt){t:{try{Z(y.nodeName);var ft=!0;break t}catch{}ft=!1}ft||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&st.aa.h.call(this)}}N(st,H);var tt={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),rt=0;function nt(c,y,E,V,ft){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!V,this.ha=ft,this.key=++rt,this.da=this.fa=!1}function It(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nt(c){this.src=c,this.g={},this.h=0}Nt.prototype.add=function(c,y,E,V,ft){var St=c.toString();c=this.g[St],c||(c=this.g[St]=[],this.h++);var qt=$(c,y,V,ft);return-1<qt?(y=c[qt],E||(y.fa=!1)):(y=new nt(y,this.src,St,!!V,ft),y.fa=E,c.push(y)),y};function z(c,y){var E=y.type;if(E in c.g){var V=c.g[E],ft=Array.prototype.indexOf.call(V,y,void 0),St;(St=0<=ft)&&Array.prototype.splice.call(V,ft,1),St&&(It(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function $(c,y,E,V){for(var ft=0;ft<c.length;++ft){var St=c[ft];if(!St.da&&St.listener==y&&St.capture==!!E&&St.ha==V)return ft}return-1}var it="closure_lm_"+(1e6*Math.random()|0),X={};function j(c,y,E,V,ft){if(Array.isArray(y)){for(var St=0;St<y.length;St++)j(c,y[St],E,V,ft);return null}return E=Ht(E),c&&c[G]?c.K(y,E,h(V)?!!V.capture:!1,ft):bt(c,y,E,!1,V,ft)}function bt(c,y,E,V,ft,St){if(!y)throw Error("Invalid event type");var qt=h(ft)?!!ft.capture:!!ft,me=kt(c);if(me||(c[it]=me=new Nt(c)),E=me.add(y,E,V,qt,St),E.proxy)return E;if(V=Lt(),E.proxy=V,V.src=c,V.listener=E,c.addEventListener)J||(ft=qt),ft===void 0&&(ft=!1),c.addEventListener(y.toString(),V,ft);else if(c.attachEvent)c.attachEvent(_t(y.toString()),V);else if(c.addListener&&c.removeListener)c.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Lt(){function c(E){return y.call(c.src,c.listener,E)}const y=Dt;return c}function vt(c,y,E,V,ft){if(Array.isArray(y))for(var St=0;St<y.length;St++)vt(c,y[St],E,V,ft);else V=h(V)?!!V.capture:!!V,E=Ht(E),c&&c[G]?(c=c.i,y=String(y).toString(),y in c.g&&(St=c.g[y],E=$(St,E,V,ft),-1<E&&(It(St[E]),Array.prototype.splice.call(St,E,1),St.length==0&&(delete c.g[y],c.h--)))):c&&(c=kt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=$(y,E,V,ft)),(E=-1<c?y[c]:null)&&wt(E))}function wt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[G])z(y.i,c);else{var E=c.type,V=c.proxy;y.removeEventListener?y.removeEventListener(E,V,c.capture):y.detachEvent?y.detachEvent(_t(E),V):y.addListener&&y.removeListener&&y.removeListener(V),(E=kt(y))?(z(E,c),E.h==0&&(E.src=null,y[it]=null)):It(c)}}}function _t(c){return c in X?X[c]:X[c]="on"+c}function Dt(c,y){if(c.da)c=!0;else{y=new st(y,this);var E=c.listener,V=c.ha||c.src;c.fa&&wt(c),c=E.call(V,y)}return c}function kt(c){return c=c[it],c instanceof Nt?c:null}var Ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ht(c){return typeof c=="function"?c:(c[Ut]||(c[Ut]=function(y){return c.handleEvent(y)}),c[Ut])}function Wt(){R.call(this),this.i=new Nt(this),this.M=this,this.F=null}N(Wt,R),Wt.prototype[G]=!0,Wt.prototype.removeEventListener=function(c,y,E,V){vt(this,c,y,E,V)};function Yt(c,y){var E,V=c.F;if(V)for(E=[];V;V=V.F)E.push(V);if(c=c.M,V=y.type||y,typeof y=="string")y=new H(y,c);else if(y instanceof H)y.target=y.target||c;else{var ft=y;y=new H(V,c),U(y,ft)}if(ft=!0,E)for(var St=E.length-1;0<=St;St--){var qt=y.g=E[St];ft=re(qt,V,!0,y)&&ft}if(qt=y.g=c,ft=re(qt,V,!0,y)&&ft,ft=re(qt,V,!1,y)&&ft,E)for(St=0;St<E.length;St++)qt=y.g=E[St],ft=re(qt,V,!1,y)&&ft}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],V=0;V<E.length;V++)It(E[V]);delete c.g[y],c.h--}}this.F=null},Wt.prototype.K=function(c,y,E,V){return this.i.add(String(c),y,!1,E,V)},Wt.prototype.L=function(c,y,E,V){return this.i.add(String(c),y,!0,E,V)};function re(c,y,E,V){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var ft=!0,St=0;St<y.length;++St){var qt=y[St];if(qt&&!qt.da&&qt.capture==E){var me=qt.listener,xe=qt.ha||qt.src;qt.fa&&z(c.i,qt),ft=me.call(xe,V)!==!1&&ft}}return ft&&!V.defaultPrevented}function ee(c,y,E){if(typeof c=="function")E&&(c=_(c,E));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(c,y||0)}function se(c){c.g=ee(()=>{c.g=null,c.i&&(c.i=!1,se(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Gt extends R{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Re(c){R.call(this),this.h=c,this.g={}}N(Re,R);var Ae=[];function Hn(c){Tt(c.g,function(y,E){this.g.hasOwnProperty(E)&&wt(y)},c),c.g={}}Re.prototype.N=function(){Re.aa.N.call(this),Hn(this)},Re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pe=a.JSON.stringify,Se=a.JSON.parse,yr=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Pe(){}Pe.prototype.h=null;function Ci(c){return c.h||(c.h=c.i())}function ln(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){H.call(this,"d")}N(Vr,H);function nn(){H.call(this,"c")}N(nn,H);var oe={},ke=null;function ei(){return ke=ke||new Wt}oe.La="serverreachability";function Nn(c){H.call(this,oe.La,c)}N(Nn,H);function er(c){const y=ei();Yt(y,new Nn(y))}oe.STAT_EVENT="statevent";function jr(c,y){H.call(this,oe.STAT_EVENT,c),this.stat=y}N(jr,H);function te(c){const y=ei();Yt(y,new jr(y,c))}oe.Ma="timingevent";function Pr(c,y){H.call(this,oe.Ma,c),this.size=y}N(Pr,H);function nr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},y)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function _n(c,y,E,V,ft,St){c.info(function(){if(c.g)if(St)for(var qt="",me=St.split("&"),xe=0;xe<me.length;xe++){var ve=me[xe].split("=");if(1<ve.length){var Be=ve[0];ve=ve[1];var Xe=Be.split("_");qt=2<=Xe.length&&Xe[1]=="type"?qt+(Be+"="+ve+"&"):qt+(Be+"=redacted&")}}else qt=null;else qt=St;return"XMLHTTP REQ ("+V+") [attempt "+ft+"]: "+y+`
`+E+`
`+qt})}function gn(c,y,E,V,ft,St,qt){c.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ft+"]: "+y+`
`+E+`
`+St+" "+qt})}function Cn(c,y,E,V){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+fi(c,E)+(V?" "+V:"")})}function Bs(c,y){c.info(function(){return"TIMEOUT: "+y})}Ln.prototype.info=function(){};function fi(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var V=E[c];if(!(2>V.length)){var ft=V[1];if(Array.isArray(ft)&&!(1>ft.length)){var St=ft[0];if(St!="noop"&&St!="stop"&&St!="close")for(var qt=1;qt<ft.length;qt++)ft[qt]=""}}}}return pe(E)}catch{return y}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function br(){}N(br,Pe),br.prototype.g=function(){return new XMLHttpRequest},br.prototype.i=function(){return{}},_r=new br;function bn(c,y,E,V){this.j=c,this.i=y,this.l=E,this.R=V||1,this.U=new Re(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Br}function Br(){this.i=null,this.g="",this.h=!1}var Ri={},ki={};function Di(c,y,E){c.L=1,c.v=fs(wr(y)),c.m=E,c.P=!0,as(c,null)}function as(c,y){c.F=Date.now(),qs(c),c.A=wr(c.v);var E=c.A,V=c.R;Array.isArray(V)||(V=[String(V)]),fe(E.i,"t",V),c.C=0,E=c.j.J,c.h=new Br,c.g=L(c.j,E?y:null,!c.m),0<c.O&&(c.M=new Gt(_(c.Y,c,c.g),c.O)),y=c.U,E=c.g,V=c.ca;var ft="readystatechange";Array.isArray(ft)||(ft&&(Ae[0]=ft.toString()),ft=Ae);for(var St=0;St<ft.length;St++){var qt=j(E,ft[St],V||y.handleEvent,!1,y.h||y);if(!qt)break;y.g[qt.key]=qt}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),er(),_n(c.i,c.u,c.A,c.l,c.R,c.m)}bn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},bn.prototype.Y=function(c){try{if(c==this.g)t:{const Xe=On(this.g);var y=this.g.Ba();const bi=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||Fa(this.g)))){this.J||Xe!=4||y==7||(y==8||0>=bi?er(3):er(2)),Oi(this);var E=this.g.Z();this.X=E;e:if(ls(this)){var V=Fa(this.g);c="";var ft=V.length,St=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),Fi(this);var qt="";break e}this.h.i=new a.TextDecoder}for(y=0;y<ft;y++)this.h.h=!0,c+=this.h.i.decode(V[y],{stream:!(St&&y==ft-1)});V.length=0,this.h.g+=c,this.C=0,qt=this.h.g}else qt=this.g.oa();if(this.o=E==200,gn(this.i,this.u,this.A,this.l,this.R,Xe,E),this.o){if(this.T&&!this.K){e:{if(this.g){var me,xe=this.g;if((me=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(me)){var ve=me;break e}}ve=null}if(E=ve)Cn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,us(this,E);else{this.o=!1,this.s=3,te(12),di(this),Fi(this);break t}}if(this.P){E=!0;let Kn;for(;!this.J&&this.C<qt.length;)if(Kn=Ta(this,qt),Kn==ki){Xe==4&&(this.s=4,te(14),E=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==Ri){this.s=4,te(15),Cn(this.i,this.l,qt,"[Invalid Chunk]"),E=!1;break}else Cn(this.i,this.l,Kn,null),us(this,Kn);if(ls(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||qt.length!=0||this.h.h||(this.s=1,te(16),E=!1),this.o=this.o&&E,!E)Cn(this.i,this.l,qt,"[Invalid Chunked Response]"),di(this),Fi(this);else if(0<qt.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+qt.length),eo(Be),Be.M=!0,te(11))}}else Cn(this.i,this.l,qt,null),us(this,qt);Xe==4&&di(this),this.o&&!this.J&&(Xe==4?qi(this.j,this):(this.o=!1,qs(this)))}else ji(this.g),E==400&&0<qt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),di(this),Fi(this)}}}catch{}finally{}};function ls(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ta(c,y){var E=c.C,V=y.indexOf(`
`,E);return V==-1?ki:(E=Number(y.substring(E,V)),isNaN(E)?Ri:(V+=1,V+E>y.length?ki:(y=y.slice(V,V+E),c.C=V+E,y)))}bn.prototype.cancel=function(){this.J=!0,di(this)};function qs(c){c.S=Date.now()+c.I,Pa(c,c.I)}function Pa(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=nr(_(c.ba,c),y)}function Oi(c){c.B&&(a.clearTimeout(c.B),c.B=null)}bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Bs(this.i,this.A),this.L!=2&&(er(),te(17)),di(this),this.s=2,Fi(this)):Pa(this,this.S-c)};function Fi(c){c.j.G==0||c.J||qi(c.j,c)}function di(c){Oi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Hn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function us(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||$o(E.h,c))){if(!c.K&&$o(E.h,c)&&E.G==3){try{var V=E.Da.g.parse(y)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ft=V;if(ft[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)_i(E),Js(E);else break t;vs(E),te(18)}}else E.za=ft[1],0<E.za-E.T&&37500>ft[2]&&E.F&&E.v==0&&!E.C&&(E.C=nr(_(E.Za,E),6e3));if(1>=cs(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ir(E,11)}else if((c.K||E.g==c)&&_i(E),!k(y))for(ft=E.Da.g.parse(y),y=0;y<ft.length;y++){let ve=ft[y];if(E.T=ve[0],ve=ve[1],E.G==2)if(ve[0]=="c"){E.K=ve[1],E.ia=ve[2];const Be=ve[3];Be!=null&&(E.la=Be,E.j.info("VER="+E.la));const Xe=ve[4];Xe!=null&&(E.Aa=Xe,E.j.info("SVER="+E.Aa));const bi=ve[5];bi!=null&&typeof bi=="number"&&0<bi&&(V=1.5*bi,E.L=V,E.j.info("backChannelRequestTimeoutMs_="+V)),V=E;const Kn=c.g;if(Kn){const Ui=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ui){var St=V.h;St.g||Ui.indexOf("spdy")==-1&&Ui.indexOf("quic")==-1&&Ui.indexOf("h2")==-1||(St.j=St.l,St.g=new Set,St.h&&(un(St,St.h),St.h=null))}if(V.D){const zi=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;zi&&(V.ya=zi,We(V.I,V.D,zi))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),V=E;var qt=c;if(V.qa=p(V,V.J?V.ia:null,V.W),qt.K){Ho(V.h,qt);var me=qt,xe=V.L;xe&&(me.I=xe),me.B&&(Oi(me),qs(me)),V.g=qt}else to(V);0<E.i.length&&Xs(E)}else ve[0]!="stop"&&ve[0]!="close"||ir(E,7);else E.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ir(E,7):yi(E):ve[0]!="noop"&&E.l&&E.l.ta(ve),E.v=0)}}er(4)}catch{}}var zl=class{constructor(c,y){this.g=c,this.map=y}};function zo(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Na(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cs(c){return c.h?1:c.g?c.g.size:0}function $o(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function un(c,y){c.g?c.g.add(y):c.h=y}function Ho(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zo.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return T(c.i)}function La(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var y=[],E=c.length,V=0;V<E;V++)y.push(c[V]);return y}y=[],E=0;for(V in c)y[E++]=c[V];return y}function Go(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const V in c)y[E++]=V;return y}}}function Ca(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Go(c),V=La(c),ft=V.length,St=0;St<ft;St++)y.call(void 0,V[St],E&&E[St],c)}var Lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Us(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var V=c[E].indexOf("="),ft=null;if(0<=V){var St=c[E].substring(0,V);ft=c[E].substring(V+1)}else St=c[E];y(St,ft?decodeURIComponent(ft.replace(/\+/g," ")):"")}}}function mn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mn){this.h=c.h,hs(this,c.j),this.o=c.o,this.g=c.g,zs(this,c.s),this.l=c.l;var y=c.i,E=new Mi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Ko(this,E),this.m=c.m}else c&&(y=String(c).match(Lr))?(this.h=!1,hs(this,y[1]||"",!0),this.o=ds(y[2]||""),this.g=ds(y[3]||"",!0),zs(this,y[4]),this.l=ds(y[5]||"",!0),Ko(this,y[6]||"",!0),this.m=ds(y[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}mn.prototype.toString=function(){var c=[],y=this.j;y&&c.push(pi(y,Ra,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(pi(y,Ra,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(pi(E,E.charAt(0)=="/"?gi:Hl,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",pi(E,Hs)),c.join("")};function wr(c){return new mn(c)}function hs(c,y,E){c.j=E?ds(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function zs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ko(c,y,E){y instanceof Mi?(c.i=y,Wl(c.i,c.h)):(E||(y=pi(y,$s)),c.i=new Mi(y,c.h))}function We(c,y,E){c.i.set(y,E)}function fs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ds(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pi(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,$l),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $l(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ra=/[#\/\?@]/g,Hl=/[#\?:]/g,gi=/[#\?]/g,$s=/[#\?@]/g,Hs=/#/g;function Mi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Us(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}e=Mi.prototype,e.add=function(c,y){cn(this),this.i=null,c=Vi(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function ka(c,y){cn(c),y=Vi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qo(c,y){return cn(c),y=Vi(c,y),c.g.has(y)}e.forEach=function(c,y){cn(this),this.g.forEach(function(E,V){E.forEach(function(ft){c.call(y,ft,V,this)},this)},this)},e.na=function(){cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let V=0;V<y.length;V++){const ft=c[V];for(let St=0;St<ft.length;St++)E.push(y[V])}return E},e.V=function(c){cn(this);let y=[];if(typeof c=="string")Qo(this,c)&&(y=y.concat(this.g.get(Vi(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},e.set=function(c,y){return cn(this),this.i=null,c=Vi(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},e.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function fe(c,y,E){ka(c,y),0<E.length&&(c.i=null,c.g.set(Vi(c,y),T(E)),c.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var V=y[E];const St=encodeURIComponent(String(V)),qt=this.V(V);for(V=0;V<qt.length;V++){var ft=St;qt[V]!==""&&(ft+="="+encodeURIComponent(String(qt[V]))),c.push(ft)}}return this.i=c.join("&")};function Vi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Wl(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(E,V){var ft=V.toLowerCase();V!=ft&&(ka(this,V),fe(this,ft,E))},c)),c.j=y}function ni(c,y){const E=new Ln;if(a.Image){const V=new Image;V.onload=m(qr,E,"TestLoadImage: loaded",!0,y,V),V.onerror=m(qr,E,"TestLoadImage: error",!1,y,V),V.onabort=m(qr,E,"TestLoadImage: abort",!1,y,V),V.ontimeout=m(qr,E,"TestLoadImage: timeout",!1,y,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=c}else y(!1)}function Da(c,y){const E=new Ln,V=new AbortController,ft=setTimeout(()=>{V.abort(),qr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:V.signal}).then(St=>{clearTimeout(ft),St.ok?qr(E,"TestPingServer: ok",!0,y):qr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ft),qr(E,"TestPingServer: error",!1,y)})}function qr(c,y,E,V,ft){try{ft&&(ft.onload=null,ft.onerror=null,ft.onabort=null,ft.ontimeout=null),V(E)}catch{}}function Ws(){this.g=new yr}function Yo(c,y,E){const V=E||"";try{Ca(c,function(ft,St){let qt=ft;h(ft)&&(qt=pe(ft)),y.push(V+St+"="+encodeURIComponent(qt))})}catch(ft){throw y.push(V+"type="+encodeURIComponent("_badmap")),ft}}function Gs(c){this.l=c.Ub||null,this.j=c.eb||!1}N(Gs,Pe),Gs.prototype.g=function(){return new Ks(this.l,this.j)},Gs.prototype.i=function(c){return function(){return c}}({});function Ks(c,y){Wt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Ks,Wt),e=Ks.prototype,e.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ur(this)},e.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},e.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}e.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?mi(this):Ur(this),this.readyState==3&&Oa(this)}},e.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},e.Qa=function(c){this.g&&(this.response=c,mi(this))},e.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ur(c)}e.setRequestHeader=function(c,y){this.u.append(c,y)},e.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vi(c){let y="";return Tt(c,function(E,V){y+=V,y+=":",y+=E,y+=`\r
`}),y}function Jo(c,y,E){t:{for(V in E){var V=!1;break t}V=!0}V||(E=vi(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):We(c,y,E))}function je(c){Wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(je,Wt);var Xo=/^https?$/i,Qs=["POST","PUT"];e=je.prototype,e.Ha=function(c){this.J=c},e.ea=function(c,y,E,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?Ci(this.o):Ci(_r),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(St){Zo(this,St);return}if(c=E||"",E=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ft in V)E.set(ft,V[ft]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const St of V.keys())E.set(St,V.get(St));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(E.keys()).find(St=>St.toLowerCase()=="content-type"),ft=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Qs,y,void 0))||V||ft||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[St,qt]of E)this.g.setRequestHeader(St,qt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zr(this),this.u=!0,this.g.send(c),this.u=!1}catch(St){Zo(this,St)}};function Zo(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ta(c),ps(c)}function ta(c){c.A||(c.A=!0,Yt(c,"complete"),Yt(c,"error"))}e.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Yt(this,"complete"),Yt(this,"abort"),ps(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),je.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},e.bb=function(){ea(this)};function ea(c){if(c.h&&typeof o<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)ee(c.Ea,0,c);else if(Yt(c,"readystatechange"),On(c)==4){c.h=!1;try{const qt=c.Z();t:switch(qt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var V;if(V=qt===0){var ft=String(c.D).match(Lr)[1]||null;!ft&&a.self&&a.self.location&&(ft=a.self.location.protocol.slice(0,-1)),V=!Xo.test(ft?ft.toLowerCase():"")}E=V}if(E)Yt(c,"complete"),Yt(c,"success");else{c.m=6;try{var St=2<On(c)?c.g.statusText:""}catch{St=""}c.l=St+" ["+c.Z()+"]",ta(c)}}finally{ps(c)}}}}function ps(c,y){if(c.g){zr(c);const E=c.g,V=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Yt(c,"ready");try{E.onreadystatechange=V}catch{}}}function zr(c){c.I&&(a.clearTimeout(c.I),c.I=null)}e.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}e.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Se(y)}};function Fa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<c.length;V++){if(k(c[V]))continue;var E=x(c[V]);const ft=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const St=y[ft]||[];y[ft]=St,St.push(E)}O(y,function(V){return V.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gn(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Ys(c){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gn("baseRetryDelayMs",5e3,c),this.cb=Gn("retryDelaySeedMs",1e4,c),this.Wa=Gn("forwardChannelMaxRetries",2,c),this.wa=Gn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zo(c&&c.concurrentRequestLimit),this.Da=new Ws,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ys.prototype,e.la=8,e.G=1,e.connect=function(c,y,E,V){te(0),this.W=c,this.H=y||{},E&&V!==void 0&&(this.H.OSID=E,this.H.OAID=V),this.F=this.X,this.I=p(this,null,this.W),Xs(this)};function yi(c){if(gs(c),c.G==3){var y=c.U++,E=wr(c.I);if(We(E,"SID",c.K),We(E,"RID",y),We(E,"TYPE","terminate"),Bi(c,E),y=new bn(c,c.j,y),y.L=2,y.v=fs(wr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=y.v,E=!0),E||(y.g=L(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qs(y)}ro(c)}function Js(c){c.g&&(eo(c),c.g.cancel(),c.g=null)}function gs(c){Js(c),c.u&&(a.clearTimeout(c.u),c.u=null),_i(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Xs(c){if(!Na(c.h)&&!c.s){c.s=!0;var y=c.Ga;dt||Pt(),ut||(dt(),ut=!0),xt.add(y,c),c.B=0}}function na(c,y){return cs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=nr(_(c.Ga,c,y),no(c,c.B)),c.B++,!0)}e.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ft=new bn(this,this.j,c);let St=this.o;if(this.S&&(St?(St=b(St),U(St,this.S)):St=this.S),this.m!==null||this.O||(ft.H=St,St=null),this.P)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var V=this.i[E];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break e}V=void 0}if(V===void 0)break;if(y+=V,4096<y){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=ms(this,ft,y),E=wr(this.I),We(E,"RID",c),We(E,"CVER",22),this.D&&We(E,"X-HTTP-Session-Id",this.D),Bi(this,E),St&&(this.O?y="headers="+encodeURIComponent(String(vi(St)))+"&"+y:this.m&&Jo(E,this.m,St)),un(this.h,ft),this.Ua&&We(E,"TYPE","init"),this.P?(We(E,"$req",y),We(E,"SID","null"),ft.T=!0,Di(ft,E,null)):Di(ft,E,y),this.G=2}}else this.G==3&&(c?Zs(this,c):this.i.length==0||Na(this.h)||Zs(this))};function Zs(c,y){var E;y?E=y.l:E=c.U++;const V=wr(c.I);We(V,"SID",c.K),We(V,"RID",E),We(V,"AID",c.T),Bi(c,V),c.m&&c.o&&Jo(V,c.m,c.o),E=new bn(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ms(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),un(c.h,E),Di(E,V,y)}function Bi(c,y){c.H&&Tt(c.H,function(E,V){We(y,V,E)}),c.l&&Ca({},function(E,V){We(y,V,E)})}function ms(c,y,E){E=Math.min(c.i.length,E);var V=c.l?_(c.l.Na,c.l,c):null;t:{var ft=c.i;let St=-1;for(;;){const qt=["count="+E];St==-1?0<E?(St=ft[0].g,qt.push("ofs="+St)):St=0:qt.push("ofs="+St);let me=!0;for(let xe=0;xe<E;xe++){let ve=ft[xe].g;const Be=ft[xe].map;if(ve-=St,0>ve)St=Math.max(0,ft[xe].g-100),me=!1;else try{Yo(Be,qt,"req"+ve+"_")}catch{V&&V(Be)}}if(me){V=qt.join("&");break t}}}return c=c.i.splice(0,E),y.D=c,V}function to(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;dt||Pt(),ut||(dt(),ut=!0),xt.add(y,c),c.v=0}}function vs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=nr(_(c.Fa,c),no(c,c.v)),c.v++,!0)}e.Fa=function(){if(this.u=null,Ma(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=nr(_(this.ab,this),c)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Js(this),Ma(this))};function eo(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Ma(c){c.g=new bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=wr(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Bi(c,y),c.m&&c.o&&Jo(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=fs(wr(y)),E.m=null,E.P=!0,as(E,c)}e.Za=function(){this.C!=null&&(this.C=null,Js(this),vs(this),te(19))};function _i(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function qi(c,y){var E=null;if(c.g==y){_i(c),eo(c),c.g=null;var V=2}else if($o(c.h,y))E=y.D,Ho(c.h,y),V=1;else return;if(c.G!=0){if(y.o)if(V==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var ft=c.B;V=ei(),Yt(V,new Pr(V,E)),Xs(c)}else to(c);else if(ft=y.s,ft==3||ft==0&&0<y.X||!(V==1&&na(c,y)||V==2&&vs(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),ft){case 1:ir(c,5);break;case 4:ir(c,10);break;case 3:ir(c,6);break;default:ir(c,2)}}}function no(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function ir(c,y){if(c.j.info("Error code "+y),y==2){var E=_(c.fb,c),V=c.Xa;const ft=!V;V=new mn(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hs(V,"https"),fs(V),ft?ni(V.toString(),E):Da(V.toString(),E)}else te(2);c.G=0,c.l&&c.l.sa(y),ro(c),gs(c)}e.fb=function(c){c?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function ro(c){if(c.G=0,c.ka=[],c.l){const y=Wo(c.h);(y.length!=0||c.i.length!=0)&&(M(c.ka,y),M(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function p(c,y,E){var V=E instanceof mn?wr(E):new mn(E);if(V.g!="")y&&(V.g=y+"."+V.g),zs(V,V.s);else{var ft=a.location;V=ft.protocol,y=y?y+"."+ft.hostname:ft.hostname,ft=+ft.port;var St=new mn(null);V&&hs(St,V),y&&(St.g=y),ft&&zs(St,ft),E&&(St.l=E),V=St}return E=c.D,y=c.ya,E&&y&&We(V,E,y),We(V,"VER",c.la),Bi(c,V),V}function L(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new je(new Gs({eb:E})):new je(c.pa),y.Ha(c.J),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Y(){}e=Y.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ot(){}ot.prototype.g=function(c,y){return new pt(c,y)};function pt(c,y){Wt.call(this),this.g=new Ys(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!k(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Qt(this)}N(pt,Wt),pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pt.prototype.close=function(){yi(this.g)},pt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=pe(c),c=E);y.i.push(new zl(y.Ya++,c)),y.G==3&&Xs(y)},pt.prototype.N=function(){this.g.l=null,delete this.j,yi(this.g),delete this.g,pt.aa.N.call(this)};function Rt(c){Vr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const E in y){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(Rt,Vr);function Bt(){nn.call(this),this.status=1}N(Bt,nn);function Qt(c){this.g=c}N(Qt,Y),Qt.prototype.ua=function(){Yt(this.g,"a")},Qt.prototype.ta=function(c){Yt(this.g,new Rt(c))},Qt.prototype.sa=function(c){Yt(this.g,new Bt)},Qt.prototype.ra=function(){Yt(this.g,"b")},ot.prototype.createWebChannel=ot.prototype.g,pt.prototype.send=pt.prototype.o,pt.prototype.open=pt.prototype.m,pt.prototype.close=pt.prototype.close,H0=function(){return new ot},$0=function(){return ei()},z0=oe,Ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Hc=rr,Nr.COMPLETE="complete",U0=Nr,ln.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,gu=ln,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,q0=je}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const Wg="@firebase/firestore",Gg="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new D0("@firebase/firestore");function nl(){return wa.logLevel}function Zt(e,...t){if(wa.logLevel<=Ce.DEBUG){const n=t.map(Tp);wa.debug(`Firestore (${Vl}): ${e}`,...n)}}function Fs(e,...t){if(wa.logLevel<=Ce.ERROR){const n=t.map(Tp);wa.error(`Firestore (${Vl}): ${e}`,...n)}}function Nl(e,...t){if(wa.logLevel<=Ce.WARN){const n=t.map(Tp);wa.warn(`Firestore (${Vl}): ${e}`,...n)}}function Tp(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,W0(e,r,n)}function W0(e,t,n){let r=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fs(r),new Error(r)}function He(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||W0(t,i,r)}function _e(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Ml{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class O3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(cr.UNAUTHENTICATED))}shutdown(){}}class F3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M3{constructor(t){this.t=t,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){He(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ds,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ds)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new G0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return He(t===null||typeof t=="string",2055,{h:t}),new cr(t)}}class V3{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j3{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new V3(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kg{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B3{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,y3(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){He(this.o===void 0,3512);const r=s=>{s.error!=null&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Zt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kg(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=q3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function Ee(e,t){return e<t?-1:e>t?1:0}function Cd(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ee(r,i);{const s=K0(),o=U3(s.encode(Qg(e,n)),s.encode(Qg(t,n)));return o!==0?o:Ee(r,i)}}n+=r>65535?2:1}return Ee(e.length,t.length)}function Qg(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function U3(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Ee(e[n],t[n]);return Ee(e.length,t.length)}function Ll(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=-62135596800,Jg=1e6;class jn{static now(){return jn.fromMillis(Date.now())}static fromDate(t){return jn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Jg);return new jn(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ie(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Yg)throw new ie(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ie(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jg}_compareTo(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Yg;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(t){return new ge(t)}static min(){return new ge(new jn(0,0))}static max(){return new ge(new jn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="__name__";class Ki{constructor(t,n,r){n===void 0?n=0:n>t.length&&he(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&he(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ki.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ki?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=Ki.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return Ee(t.length,n.length)}static compareSegments(t,n){const r=Ki.isNumericId(t),i=Ki.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ki.extractNumericId(t).compare(Ki.extractNumericId(n)):Cd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Po.fromString(t.substring(4,t.length-2))}}class fn extends Ki{construct(t,n,r){return new fn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ie(zt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fn(n)}static emptyPath(){return new fn([])}}const z3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Ki{construct(t,n,r){return new Xn(t,n,r)}static isValidIdentifier(t){return z3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xg}static keyField(){return new Xn([Xg])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(zt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ie(zt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(zt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(zt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xn(n)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.path=t}static fromPath(t){return new le(fn.fromString(t))}static fromName(t){return new le(fn.fromString(t).popFirst(5))}static empty(){return new le(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return fn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new le(new fn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function $3(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new jn(n+1,0):new jn(n,r));return new Co(i,le.empty(),t)}function H3(e){return new Co(e.readTime,e.key,Uu)}class Co{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Co(ge.min(),le.empty(),Uu)}static max(){return new Co(ge.max(),le.empty(),Uu)}}function W3(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=le.comparator(e.documentKey,t.documentKey),n!==0?n:Ee(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(e){if(e.code!==zt.FAILED_PRECONDITION||e.message!==G3)throw e;Zt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Vt((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Vt?n:Vt.resolve(n)}catch(n){return Vt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Vt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Vt.reject(n)}static resolve(t){return new Vt((n,r)=>{n(t)})}static reject(t){return new Vt((n,r)=>{r(t)})}static waitFor(t){return new Vt((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=Vt.resolve(!1);for(const r of t)n=n.next(i=>i?Vt.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Vt((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{o[h]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(t,n){return new Vt((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Q3(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Hh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function Wh(e){return e==null}function gh(e){return e===0&&1/e==-1/0}function Y3(e){return typeof e=="number"&&Number.isInteger(e)&&!gh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="";function J3(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Zg(t)),t=X3(e.get(n),t);return Zg(t)}function X3(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case Y0:n+="";break;default:n+=s}}return n}function Zg(e){return e+Y0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function J0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t,n){this.comparator=t,this.root=n||Jn.EMPTY}insert(t,n){return new pn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(t){return new pn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jn{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Jn.RED,this.left=i??Jn.EMPTY,this.right=s??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Jn(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw he(27949);return t+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(t,n,r,i,s){return this}insert(t,n,r){return new Jn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.comparator=t,this.data=new pn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new em(this.data.getIterator())}getIteratorFrom(t){return new em(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Bn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Bn(this.comparator);return n.data=t,n}}class em{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this.fields=t,t.sort(Xn.comparator)}static empty(){return new Xr([])}unionWith(t){let n=new Bn(Xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Xr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ll(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new X0("Invalid base64 string: "+s):s}}(t);return new tr(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new tr(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ee(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const Z3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(e){if(He(!!e,39018),typeof e=="string"){let t=0;const n=Z3.exec(e);if(He(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:En(e.seconds),nanos:En(e.nanos)}}function En(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ko(e){return typeof e=="string"?tr.fromBase64String(e):tr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="server_timestamp",t5="__type__",e5="__previous_value__",n5="__local_write_time__";function Np(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[t5])===null||n===void 0?void 0:n.stringValue)===Z0}function Gh(e){const t=e.mapValue.fields[e5];return Np(t)?Gh(t):t}function zu(e){const t=Ro(e.mapValue.fields[n5].timestampValue);return new jn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n,r,i,s,o,a,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const mh="(default)";class $u{constructor(t,n){this.projectId=t,this.database=n||mh}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof $u&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="__type__",eA="__max__",Rc={mapValue:{}},i5="__vector__",vh="value";function Do(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Np(e)?4:rA(e)?9007199254740991:nA(e)?10:11:he(28295,{value:e})}function is(e,t){if(e===t)return!0;const n=Do(e);if(n!==Do(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zu(e).isEqual(zu(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ro(i.timestampValue),a=Ro(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return ko(i.bytesValue).isEqual(ko(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return En(i.geoPointValue.latitude)===En(s.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return En(i.integerValue)===En(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=En(i.doubleValue),a=En(s.doubleValue);return o===a?gh(o)===gh(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Ll(e.arrayValue.values||[],t.arrayValue.values||[],is);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tm(o)!==tm(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!is(o[u],a[u])))return!1;return!0}(e,t);default:return he(52216,{left:e})}}function Hu(e,t){return(e.values||[]).find(n=>is(n,t))!==void 0}function Cl(e,t){if(e===t)return 0;const n=Do(e),r=Do(t);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=En(s.integerValue||s.doubleValue),u=En(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return nm(e.timestampValue,t.timestampValue);case 4:return nm(zu(e),zu(t));case 5:return Cd(e.stringValue,t.stringValue);case 6:return function(s,o){const a=ko(s),u=ko(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let h=0;h<a.length&&h<u.length;h++){const d=Ee(a[h],u[h]);if(d!==0)return d}return Ee(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Ee(En(s.latitude),En(o.latitude));return a!==0?a:Ee(En(s.longitude),En(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return rm(e.arrayValue,t.arrayValue);case 10:return function(s,o){var a,u,h,d;const g=s.fields||{},_=o.fields||{},m=(a=g[vh])===null||a===void 0?void 0:a.arrayValue,N=(u=_[vh])===null||u===void 0?void 0:u.arrayValue,T=Ee(((h=m==null?void 0:m.values)===null||h===void 0?void 0:h.length)||0,((d=N==null?void 0:N.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:rm(m,N)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===Rc.mapValue&&o===Rc.mapValue)return 0;if(s===Rc.mapValue)return 1;if(o===Rc.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),h=o.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const _=Cd(u[g],d[g]);if(_!==0)return _;const m=Cl(a[u[g]],h[d[g]]);if(m!==0)return m}return Ee(u.length,d.length)}(e.mapValue,t.mapValue);default:throw he(23264,{Pe:n})}}function nm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ee(e,t);const n=Ro(e),r=Ro(t),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function rm(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Cl(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function Rl(e){return Rd(e)}function Rd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Ro(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ko(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return le.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Rd(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Rd(n.fields[o])}`;return i+"}"}(e.mapValue):he(61005,{value:e})}function Wc(e){switch(Do(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gh(e);return t?16+Wc(t):16;case 5:return 2*e.stringValue.length;case 6:return ko(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Wc(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return qo(r.fields,(s,o)=>{i+=s.length+Wc(o)}),i}(e.mapValue);default:throw he(13486,{value:e})}}function kd(e){return!!e&&"integerValue"in e}function Lp(e){return!!e&&"arrayValue"in e}function im(e){return!!e&&"nullValue"in e}function sm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gc(e){return!!e&&"mapValue"in e}function nA(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[r5])===null||n===void 0?void 0:n.stringValue)===i5}function Pu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return qo(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Pu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rA(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===eA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t){this.value=t}static empty(){return new Fr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Gc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pu(n)}setAll(t){let n=Xn.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Pu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return is(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Gc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){qo(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Fr(Pu(this.value))}}function s5(e){const t=[];return qo(e.fields,(n,r)=>{const i=new Xn([n]);if(Gc(r)){const s=s5(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Xr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new dr(t,0,ge.min(),ge.min(),ge.min(),Fr.empty(),0)}static newFoundDocument(t,n,r,i){return new dr(t,1,n,ge.min(),r,i,0)}static newNoDocument(t,n){return new dr(t,2,n,ge.min(),ge.min(),Fr.empty(),0)}static newUnknownDocument(t,n){return new dr(t,3,n,ge.min(),ge.min(),Fr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n){this.position=t,this.inclusive=n}}function om(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=Cl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function am(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!is(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n="asc"){this.field=t,this.dir=n}}function iA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{}class Vn extends o5{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new oA(t,n,r):n==="array-contains"?new uA(t,r):n==="in"?new cA(t,r):n==="not-in"?new hA(t,r):n==="array-contains-any"?new fA(t,r):new Vn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new aA(t,r):new lA(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Cl(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(Cl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends o5{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new ss(t,n)}matches(t){return a5(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function a5(e){return e.op==="and"}function l5(e){return sA(e)&&a5(e)}function sA(e){for(const t of e.filters)if(t instanceof ss)return!1;return!0}function Dd(e){if(e instanceof Vn)return e.field.canonicalString()+e.op.toString()+Rl(e.value);if(l5(e))return e.filters.map(t=>Dd(t)).join(",");{const t=e.filters.map(n=>Dd(n)).join(",");return`${e.op}(${t})`}}function u5(e,t){return e instanceof Vn?function(r,i){return i instanceof Vn&&r.op===i.op&&r.field.isEqual(i.field)&&is(r.value,i.value)}(e,t):e instanceof ss?function(r,i){return i instanceof ss&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&u5(o,i.filters[a]),!0):!1}(e,t):void he(19439)}function c5(e){return e instanceof Vn?function(n){return`${n.field.canonicalString()} ${n.op} ${Rl(n.value)}`}(e):e instanceof ss?function(n){return n.op.toString()+" {"+n.getFilters().map(c5).join(" ,")+"}"}(e):"Filter"}class oA extends Vn{constructor(t,n,r){super(t,n,r),this.key=le.fromName(r.referenceValue)}matches(t){const n=le.comparator(t.key,this.key);return this.matchesComparison(n)}}class aA extends Vn{constructor(t,n){super(t,"in",n),this.keys=h5("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class lA extends Vn{constructor(t,n){super(t,"not-in",n),this.keys=h5("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function h5(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class uA extends Vn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Lp(n)&&Hu(n.arrayValue,this.value)}}class cA extends Vn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class hA extends Vn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hu(this.value.arrayValue,n)}}class fA extends Vn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function lm(e,t=null,n=[],r=[],i=null,s=null,o=null){return new dA(e,t,n,r,i,s,o)}function Cp(e){const t=_e(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Dd(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Rl(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Rl(r)).join(",")),t.Ie=n}return t.Ie}function Rp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!iA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!u5(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!am(e.startAt,t.startAt)&&am(e.endAt,t.endAt)}function Od(e){return le.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pA(e,t,n,r,i,s,o,a){return new Kh(e,t,n,r,i,s,o,a)}function kp(e){return new Kh(e)}function um(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function gA(e){return e.collectionGroup!==null}function Nu(e){const t=_e(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bn(Xn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new _h(s,r))}),n.has(Xn.keyField().canonicalString())||t.Ee.push(new _h(Xn.keyField(),r))}return t.Ee}function Zi(e){const t=_e(e);return t.de||(t.de=mA(t,Nu(e))),t.de}function mA(e,t){if(e.limitType==="F")return lm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new _h(i.field,s)});const n=e.endAt?new yh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new yh(e.startAt.position,e.startAt.inclusive):null;return lm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Fd(e,t,n){return new Kh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qh(e,t){return Rp(Zi(e),Zi(t))&&e.limitType===t.limitType}function f5(e){return`${Cp(Zi(e))}|lt:${e.limitType}`}function rl(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>c5(i)).join(", ")}]`),Wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rl(i)).join(",")),`Target(${r})`}(Zi(e))}; limitType=${e.limitType})`}function Yh(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Nu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const h=om(o,a,u);return o.inclusive?h<=0:h<0}(r.startAt,Nu(r),i)||r.endAt&&!function(o,a,u){const h=om(o,a,u);return o.inclusive?h>=0:h>0}(r.endAt,Nu(r),i))}(e,t)}function vA(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function d5(e){return(t,n)=>{let r=!1;for(const i of Nu(e)){const s=yA(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function yA(e,t,n){const r=e.field.isKeyField()?le.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),h=a.data.field(s);return u!==null&&h!==null?Cl(u,h):he(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){qo(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new pn(le.comparator);function Ms(){return _A}const p5=new pn(le.comparator);function mu(...e){let t=p5;for(const n of e)t=t.insert(n.key,n);return t}function g5(e){let t=p5;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ma(){return Lu()}function m5(){return Lu()}function Lu(){return new Sa(e=>e.toString(),(e,t)=>e.isEqual(t))}const bA=new pn(le.comparator),wA=new Bn(le.comparator);function Te(...e){let t=wA;for(const n of e)t=t.add(n);return t}const AA=new Bn(Ee);function EA(){return AA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(t)?"-0":t}}function v5(e){return{integerValue:""+e}}function SA(e,t){return Y3(t)?v5(t):Dp(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function xA(e,t,n){return e instanceof bh?function(i,s){const o={fields:{[t5]:{stringValue:Z0},[n5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Np(s)&&(s=Gh(s)),s&&(o.fields[e5]=s),{mapValue:o}}(n,t):e instanceof Wu?_5(e,t):e instanceof Gu?b5(e,t):function(i,s){const o=y5(i,s),a=cm(o)+cm(i.Re);return kd(o)&&kd(i.Re)?v5(a):Dp(i.serializer,a)}(e,t)}function IA(e,t,n){return e instanceof Wu?_5(e,t):e instanceof Gu?b5(e,t):n}function y5(e,t){return e instanceof wh?function(r){return kd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class bh extends Jh{}class Wu extends Jh{constructor(t){super(),this.elements=t}}function _5(e,t){const n=w5(t);for(const r of e.elements)n.some(i=>is(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gu extends Jh{constructor(t){super(),this.elements=t}}function b5(e,t){let n=w5(t);for(const r of e.elements)n=n.filter(i=>!is(i,r));return{arrayValue:{values:n}}}class wh extends Jh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function cm(e){return En(e.integerValue||e.doubleValue)}function w5(e){return Lp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function TA(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Wu&&i instanceof Wu||r instanceof Gu&&i instanceof Gu?Ll(r.elements,i.elements,is):r instanceof wh&&i instanceof wh?is(r.Re,i.Re):r instanceof bh&&i instanceof bh}(e.transform,t.transform)}class PA{constructor(t,n){this.version=t,this.transformResults=n}}class Ti{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Xh{}function A5(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Op(e.key,Ti.none()):new Xu(e.key,e.data,Ti.none());{const n=e.data,r=Fr.empty();let i=new Bn(Xn.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Uo(e.key,r,new Xr(i.toArray()),Ti.none())}}function NA(e,t,n){e instanceof Xu?function(i,s,o){const a=i.value.clone(),u=fm(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Uo?function(i,s,o){if(!Kc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=fm(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(E5(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Cu(e,t,n,r){return e instanceof Xu?function(s,o,a,u){if(!Kc(s.precondition,o))return a;const h=s.value.clone(),d=dm(s.fieldTransforms,u,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(e,t,n,r):e instanceof Uo?function(s,o,a,u){if(!Kc(s.precondition,o))return a;const h=dm(s.fieldTransforms,u,o),d=o.data;return d.setAll(E5(s)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,r):function(s,o,a){return Kc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function LA(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=y5(r.transform,i||null);s!=null&&(n===null&&(n=Fr.empty()),n.set(r.field,s))}return n||null}function hm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ll(r,i,(s,o)=>TA(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Xu extends Xh{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uo extends Xh{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function E5(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function fm(e,t,n){const r=new Map;He(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,IA(o,a,n[i]))}return r}function dm(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,xA(s,o,t))}return r}class Op extends Xh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CA extends Xh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&NA(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Cu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Cu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=m5();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=A5(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Te())}isEqual(t){return this.batchId===t.batchId&&Ll(this.mutations,t.mutations,(n,r)=>hm(n,r))&&Ll(this.baseMutations,t.baseMutations,(n,r)=>hm(n,r))}}class Fp{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){He(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let i=function(){return bA}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Fp(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn,Ne;function OA(e){switch(e){case zt.OK:return he(64938);case zt.CANCELLED:case zt.UNKNOWN:case zt.DEADLINE_EXCEEDED:case zt.RESOURCE_EXHAUSTED:case zt.INTERNAL:case zt.UNAVAILABLE:case zt.UNAUTHENTICATED:return!1;case zt.INVALID_ARGUMENT:case zt.NOT_FOUND:case zt.ALREADY_EXISTS:case zt.PERMISSION_DENIED:case zt.FAILED_PRECONDITION:case zt.ABORTED:case zt.OUT_OF_RANGE:case zt.UNIMPLEMENTED:case zt.DATA_LOSS:return!0;default:return he(15467,{code:e})}}function S5(e){if(e===void 0)return Fs("GRPC error has no .code"),zt.UNKNOWN;switch(e){case Dn.OK:return zt.OK;case Dn.CANCELLED:return zt.CANCELLED;case Dn.UNKNOWN:return zt.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return zt.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return zt.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return zt.INTERNAL;case Dn.UNAVAILABLE:return zt.UNAVAILABLE;case Dn.UNAUTHENTICATED:return zt.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return zt.INVALID_ARGUMENT;case Dn.NOT_FOUND:return zt.NOT_FOUND;case Dn.ALREADY_EXISTS:return zt.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return zt.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return zt.FAILED_PRECONDITION;case Dn.ABORTED:return zt.ABORTED;case Dn.OUT_OF_RANGE:return zt.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return zt.UNIMPLEMENTED;case Dn.DATA_LOSS:return zt.DATA_LOSS;default:return he(39323,{code:e})}}(Ne=Dn||(Dn={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new Po([4294967295,4294967295],0);function pm(e){const t=K0().encode(e),n=new B0;return n.update(t),new Uint8Array(n.digest())}function gm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Po([n,r],0),new Po([i,s],0)]}class Mp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vu(`Invalid padding: ${n}`);if(r<0)throw new vu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new vu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Po.fromNumber(this.pe)}we(t,n,r){let i=t.add(n.multiply(Po.fromNumber(r)));return i.compare(FA)===1&&(i=new Po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=pm(t),[r,i]=gm(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Mp(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.pe===0)return;const n=pm(t),[r,i]=gm(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Zu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Zh(ge.min(),i,new pn(Ee),Ms(),Te())}}class Zu{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Zu(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n,r,i){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=i}}class x5{constructor(t,n){this.targetId=t,this.Ce=n}}class I5{constructor(t,n,r=tr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mm{constructor(){this.Fe=0,this.Me=vm(),this.xe=tr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Te(),n=Te(),r=Te();return this.Me.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he(38017,{changeType:s})}}),new Zu(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=vm()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class MA{constructor(t){this.ze=t,this.je=new Map,this.He=Ms(),this.Je=kc(),this.Ye=kc(),this.Ze=new pn(Ee)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:he(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(t){const n=t.targetId,r=t.Ce.count,i=this._t(n);if(i){const s=i.target;if(Od(s))if(r===0){const o=new le(s.path);this.tt(n,o,dr.newNoDocument(o,ge.min()))}else He(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(t),u=a?this.lt(a,t,o):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ko(r).toUint8Array()}catch(u){if(u instanceof X0)return Nl("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Mp(o,i,s)}catch(u){return Nl(u instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(t){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Od(a.target)){const u=new le(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,dr.newNoDocument(u,t))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=Te();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(t));const i=new Zh(t,n,this.Ze,this.He,r);return this.He=Ms(),this.Je=kc(),this.Ye=kc(),this.Ze=new pn(Ee),i}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const i=this.rt(t);this.dt(t,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new mm,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Bn(Ee),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Bn(Ee),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||Zt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new mm),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function kc(){return new pn(le.comparator)}function vm(){return new pn(le.comparator)}const VA={asc:"ASCENDING",desc:"DESCENDING"},jA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BA={and:"AND",or:"OR"};class qA{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Md(e,t){return e.useProto3Json||Wh(t)?t:{value:t}}function Ah(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function T5(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function UA(e,t){return Ah(e,t.toTimestamp())}function ts(e){return He(!!e,49232),ge.fromTimestamp(function(n){const r=Ro(n);return new jn(r.seconds,r.nanos)}(e))}function Vp(e,t){return Vd(e,t).canonicalString()}function Vd(e,t){const n=function(i){return new fn(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function P5(e){const t=fn.fromString(e);return He(k5(t),10190,{key:t.toString()}),t}function jd(e,t){return Vp(e.databaseId,t.path)}function Gf(e,t){const n=P5(t);if(n.get(1)!==e.databaseId.projectId)throw new ie(zt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ie(zt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new le(L5(n))}function N5(e,t){return Vp(e.databaseId,t)}function zA(e){const t=P5(e);return t.length===4?fn.emptyPath():L5(t)}function Bd(e){return new fn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function L5(e){return He(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function ym(e,t,n){return{name:jd(e,t),fields:n.value.mapValue.fields}}function $A(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:he(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(He(d===void 0||typeof d=="string",58123),tr.fromBase64String(d||"")):(He(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),tr.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(h){const d=h.code===void 0?zt.UNKNOWN:S5(h.code);return new ie(d,h.message||"")}(o);n=new I5(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gf(e,r.document.name),s=ts(r.document.updateTime),o=r.document.createTime?ts(r.document.createTime):ge.min(),a=new Fr({mapValue:{fields:r.document.fields}}),u=dr.newFoundDocument(i,s,o,a),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Qc(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gf(e,r.document),s=r.readTime?ts(r.readTime):ge.min(),o=dr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gf(e,r.document),s=r.removedTargetIds||[];n=new Qc([],s,i,null)}else{if(!("filter"in t))return he(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new DA(i,s),a=r.targetId;n=new x5(a,o)}}return n}function HA(e,t){let n;if(t instanceof Xu)n={update:ym(e,t.key,t.value)};else if(t instanceof Op)n={delete:jd(e,t.key)};else if(t instanceof Uo)n={update:ym(e,t.key,t.data),updateMask:t6(t.fieldMask)};else{if(!(t instanceof CA))return he(16599,{ft:t.type});n={verify:jd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wh)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw he(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:UA(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he(27497)}(e,t.precondition)),n}function WA(e,t){return e&&e.length>0?(He(t!==void 0,14353),e.map(n=>function(i,s){let o=i.updateTime?ts(i.updateTime):ts(s);return o.isEqual(ge.min())&&(o=ts(s)),new PA(o,i.transformResults||[])}(n,t))):[]}function GA(e,t){return{documents:[N5(e,t.path)]}}function KA(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=N5(e,i);const s=function(h){if(h.length!==0)return R5(ss.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(d=>function(_){return{field:il(_.field),direction:JA(_.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Md(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:i}}function QA(e){let t=zA(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const _=C5(g);return _ instanceof ss&&l5(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(N){return new _h(sl(N.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,Wh(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){const _=!!g.before,m=g.values||[];return new yh(m,_)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const _=!g.before,m=g.values||[];return new yh(m,_)}(n.endAt)),pA(t,i,o,s,a,"F",u,h)}function YA(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function C5(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sl(n.unaryFilter.field);return Vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sl(n.unaryFilter.field);return Vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=sl(n.unaryFilter.field);return Vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=sl(n.unaryFilter.field);return Vn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(e):e.fieldFilter!==void 0?function(n){return Vn.create(sl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ss.create(n.compositeFilter.filters.map(r=>C5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(n.compositeFilter.op))}(e):he(30097,{filter:e})}function JA(e){return VA[e]}function XA(e){return jA[e]}function ZA(e){return BA[e]}function il(e){return{fieldPath:e.canonicalString()}}function sl(e){return Xn.fromServerFormat(e.fieldPath)}function R5(e){return e instanceof Vn?function(n){if(n.op==="=="){if(sm(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(im(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sm(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(im(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:XA(n.op),value:n.value}}}(e):e instanceof ss?function(n){const r=n.getFilters().map(i=>R5(i));return r.length===1?r[0]:{compositeFilter:{op:ZA(n.op),filters:r}}}(e):he(54877,{filter:e})}function t6(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function k5(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,n,r,i,s=ge.min(),o=ge.min(),a=tr.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new Eo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(t){this.wt=t}}function n6(e){const t=QA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Fd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.yn=new i6}addToCollectionParentIndex(t,n){return this.yn.add(n),Vt.resolve()}getCollectionParents(t,n){return Vt.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return Vt.resolve()}deleteFieldIndex(t,n){return Vt.resolve()}deleteAllFieldIndexes(t){return Vt.resolve()}createTargetIndexes(t,n){return Vt.resolve()}getDocumentsMatchingTarget(t,n){return Vt.resolve(null)}getIndexType(t,n){return Vt.resolve(0)}getFieldIndexes(t,n){return Vt.resolve([])}getNextCollectionGroupToUpdate(t){return Vt.resolve(null)}getMinOffset(t,n){return Vt.resolve(Co.min())}getMinOffsetFromCollectionGroup(t,n){return Vt.resolve(Co.min())}updateCollectionGroup(t,n,r){return Vt.resolve()}updateIndexEntries(t,n){return Vt.resolve()}}class i6{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Bn(fn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Bn(fn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D5=41943040;class Or{static withCacheSize(t){return new Or(t,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or.DEFAULT_COLLECTION_PERCENTILE=10,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Or.DEFAULT=new Or(D5,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Or.DISABLED=new Or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new kl(0)}static ir(){return new kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="LruGarbageCollector",s6=1048576;function wm([e,t],[n,r]){const i=Ee(e,n);return i===0?Ee(t,r):i}class o6{constructor(t){this.cr=t,this.buffer=new Bn(wm),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wm(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a6{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Zt(bm,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bl(n)?Zt(bm,"Ignoring IndexedDB error during garbage collection: ",n):await jl(n)}await this.Ir(3e5)})}}class l6{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Vt.resolve(Hh.le);const r=new o6(n);return this.Er.forEachTarget(t,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(t,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Er.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Zt("LruGarbageCollector","Garbage collection skipped; disabled"),Vt.resolve(_m)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_m):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let r,i,s,o,a,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(t,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(t,r,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(g=>(h=Date.now(),nl()<=Ce.DEBUG&&Zt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),Vt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function u6(e,t){return new l6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.changes=new Sa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,dr.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Vt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Cu(r.mutation,i,Xr.empty(),jn.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Te()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Te()){const i=ma();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=mu();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=ma();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Te()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ms();const o=Lu(),a=function(){return Lu()}();return n.forEach((u,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof Uo)?s=s.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Cu(d.mutation,h,d.mutation.getFieldMask(),jn.now())):o.set(h.key,Xr.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var g;return a.set(h,new h6(d,(g=o.get(h))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Lu();let i=new pn((o,a)=>o-a),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=r.get(u)||Xr.empty();d=a.applyToLocalView(h,d),r.set(u,d);const g=(i.get(a.batchId)||Te()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),h=u.key,d=u.value,g=m5();d.forEach(_=>{if(!s.has(_)){const m=A5(n.get(_),r.get(_));m!==null&&g.set(_,m),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(t,h,g))}return Vt.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):gA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Vt.resolve(ma());let a=Uu,u=s;return o.next(h=>Vt.forEach(h,(d,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(d)?Vt.resolve():this.remoteDocumentCache.getEntry(t,d).next(_=>{u=u.insert(d,_)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,Te())).next(d=>({batchId:a,changes:g5(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new le(n)).next(r=>{let i=mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=mu();return this.indexManager.getCollectionParents(t,s).next(a=>Vt.forEach(a,u=>{const h=function(g,_){return new Kh(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,r,i).next(d=>{d.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,dr.newInvalidDocument(d)))});let a=mu();return o.forEach((u,h)=>{const d=s.get(u);d!==void 0&&Cu(d.mutation,h,Xr.empty(),jn.now()),Yh(n,h)&&(a=a.insert(u,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return Vt.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ts(i.createTime)}}(n)),Vt.resolve()}getNamedQuery(t,n){return Vt.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:n6(i.bundledQuery),readTime:ts(i.readTime)}}(n)),Vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.overlays=new pn(le.comparator),this.Or=new Map}getOverlay(t,n){return Vt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ma();return Vt.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.St(t,n,s)}),Vt.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),Vt.resolve()}getOverlaysForCollection(t,n,r){const i=ma(),s=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Vt.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new pn((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=s.get(h.largestBatchId);d===null&&(d=ma(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const a=ma(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>a.set(h,d)),!(a.size()>=i)););return Vt.resolve(a)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kA(n,r));let s=this.Or.get(n);s===void 0&&(s=Te(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(t){return Vt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.Nr=new Bn(zn.Br),this.Lr=new Bn(zn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const r=new zn(t,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Qr(new zn(t,n))}$r(t,n){t.forEach(r=>this.removeReference(r,n))}Ur(t){const n=new le(new fn([])),r=new zn(n,t),i=new zn(n,t+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new le(new fn([])),r=new zn(n,t),i=new zn(n,t+1);let s=Te();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new zn(t,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class zn{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return le.comparator(t.key,n.key)||Ee(t.Gr,n.Gr)}static kr(t,n){return Ee(t.Gr,n.Gr)||le.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Bn(zn.Br)}checkEmpty(t){return Vt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new RA(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.zr=this.zr.add(new zn(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Vt.resolve(o)}lookupMutationBatch(t,n){return Vt.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return Vt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Vt.resolve(this.mutationQueue.length===0?Pp:this.Jn-1)}getAllMutationBatches(t){return Vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new zn(n,0),i=new zn(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const a=this.jr(o.Gr);s.push(a)}),Vt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Bn(Ee);return n.forEach(i=>{const s=new zn(i,0),o=new zn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),Vt.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new zn(new le(s),0);let a=new Bn(Ee);return this.zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(u.Gr)),!0)},o),Vt.resolve(this.Jr(a))}Jr(t){const n=[];return t.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){He(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return Vt.forEach(n.mutations,i=>{const s=new zn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.zr=r})}Xn(t){}containsKey(t,n){const r=new zn(n,0),i=this.zr.firstAfterOrEqual(r);return Vt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Vt.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(t){this.Zr=t,this.docs=function(){return new pn(le.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Vt.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(t,n){let r=Ms();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dr.newInvalidDocument(i))}),Vt.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ms();const o=n.path,a=new le(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||W3(H3(d),r)<=0||(i.has(d.key)||Yh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Vt.resolve(s)}getAllFromCollectionGroup(t,n,r,i){he(9500)}Xr(t,n){return Vt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new y6(this)}getSize(t){return Vt.resolve(this.size)}}class y6 extends c6{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(t,i)):this.vr.removeEntry(r)}),Vt.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(t){this.persistence=t,this.ei=new Sa(n=>Cp(n),Rp),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.ti=0,this.ni=new jp,this.targetCount=0,this.ri=kl.rr()}forEachTarget(t,n){return this.ei.forEach((r,i)=>n(i)),Vt.resolve()}getLastRemoteSnapshotVersion(t){return Vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Vt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),Vt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),Vt.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new kl(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,Vt.resolve()}updateTargetData(t,n){return this.ar(n),Vt.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Vt.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Vt.waitFor(s).next(()=>i)}getTargetCount(t){return Vt.resolve(this.targetCount)}getTargetData(t,n){const r=this.ei.get(n)||null;return Vt.resolve(r)}addMatchingKeys(t,n,r){return this.ni.qr(n,r),Vt.resolve()}removeMatchingKeys(t,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Vt.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),Vt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ni.Wr(n);return Vt.resolve(r)}containsKey(t,n){return Vt.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(t,n){this.ii={},this.overlays={},this.si=new Hh(0),this.oi=!1,this.oi=!0,this._i=new g6,this.referenceDelegate=t(this),this.ai=new _6(this),this.indexManager=new r6,this.remoteDocumentCache=function(i){return new v6(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new e6(n),this.ci=new d6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new p6,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ii[t.toKey()];return r||(r=new m6(n,this.referenceDelegate),this.ii[t.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,r){Zt("MemoryPersistence","Starting transaction:",t);const i=new b6(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(t,n){return Vt.or(Object.values(this.ii).map(r=>()=>r.containsKey(t,n)))}}class b6 extends K3{constructor(t){super(),this.currentSequenceNumber=t}}class Bp{constructor(t){this.persistence=t,this.Ti=new jp,this.Ii=null}static Ei(t){return new Bp(t)}get di(){if(this.Ii)return this.Ii;throw he(60996)}addReference(t,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),Vt.resolve()}removeReference(t,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),Vt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Vt.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vt.forEach(this.di,r=>{const i=le.fromPath(r);return this.Ai(t,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return Vt.or([()=>Vt.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class Eh{constructor(t,n){this.persistence=t,this.Ri=new Sa(r=>J3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=u6(this,n)}static Ei(t,n){return new Eh(t,n)}li(){}hi(t){return Vt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}Vr(t){let n=0;return this.Ar(t,r=>{n++}).next(()=>n)}Ar(t,n){return Vt.forEach(this.Ri,(r,i)=>this.gr(t,r,i).next(s=>s?Vt.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(t,o=>this.gr(t,o,n).next(a=>{a||(r++,s.removeEntry(o,ge.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),Vt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.Ri.set(r,t.currentSequenceNumber),Vt.resolve()}removeReference(t,n,r){return this.Ri.set(r,t.currentSequenceNumber),Vt.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),Vt.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wc(t.data.value)),n}gr(t,n,r){return Vt.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.Ri.get(n);return Vt.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ls=r,this.hs=i}static Ps(t,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qp(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return p4()?8:Q3(f4())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.Rs(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new w6;return this.fs(t,n,o).next(a=>{if(s.result=a,this.Is)return this.gs(t,n,o,a.size)})}).next(()=>s.result)}gs(t,n,r,i){return r.documentReadCount<this.Es?(nl()<=Ce.DEBUG&&Zt("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Vt.resolve()):(nl()<=Ce.DEBUG&&Zt("QueryEngine","Query:",rl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(nl()<=Ce.DEBUG&&Zt("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zi(n))):Vt.resolve())}Rs(t,n){if(um(n))return Vt.resolve(null);let r=Zi(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fd(n,null,"F"),r=Zi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Te(...s);return this.As.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const h=this.ps(n,a);return this.ys(n,h,o,u.readTime)?this.Rs(t,Fd(n,null,"F")):this.ws(t,h,n,u)}))})))}Vs(t,n,r,i){return um(n)||i.isEqual(ge.min())?Vt.resolve(null):this.As.getDocuments(t,r).next(s=>{const o=this.ps(n,s);return this.ys(n,o,r,i)?Vt.resolve(null):(nl()<=Ce.DEBUG&&Zt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rl(n)),this.ws(t,o,n,$3(i,Uu)).next(a=>a))})}ps(t,n){let r=new Bn(d5(t));return n.forEach((i,s)=>{Yh(t,s)&&(r=r.add(s))}),r}ys(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(t,n,r){return nl()<=Ce.DEBUG&&Zt("QueryEngine","Using full collection scan to execute query:",rl(n)),this.As.getDocumentsMatchingQuery(t,n,Co.min(),r)}ws(t,n,r,i){return this.As.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="LocalStore",E6=3e8;class S6{constructor(t,n,r,i){this.persistence=t,this.bs=n,this.serializer=i,this.Ss=new pn(Ee),this.Ds=new Sa(s=>Cp(s),Rp),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(r)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new f6(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function x6(e,t,n,r){return new S6(e,t,n,r)}async function F5(e,t){const n=_e(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Te();for(const h of i){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ms:h,removedBatchIds:o,addedBatchIds:a}))})})}function I6(e,t){const n=_e(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,h,d){const g=h.batch,_=g.keys();let m=Vt.resolve();return _.forEach(N=>{m=m.next(()=>d.getEntry(u,N)).next(T=>{const M=h.docVersions.get(N);He(M!==null,48541),T.version.compareTo(M)<0&&(g.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),d.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Te();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(u=u.add(a.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function M5(e){const t=_e(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function T6(e,t){const n=_e(e),r=t.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];t.targetChanges.forEach((d,g)=>{const _=i.get(g);if(!_)return;a.push(n.ai.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.ai.addMatchingKeys(s,d.addedDocuments,g)));let m=_.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?m=m.withResumeToken(tr.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(g,m),function(T,M,P){return T.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=E6?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(_,m,d)&&a.push(n.ai.updateTargetData(s,m))});let u=Ms(),h=Te();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(P6(s,o,t.documentUpdates).next(d=>{u=d.xs,h=d.Os})),!r.isEqual(ge.min())){const d=n.ai.getLastRemoteSnapshotVersion(s).next(g=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Vt.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.Ss=i,s))}function P6(e,t,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ms();return n.forEach((a,u)=>{const h=s.get(a);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ge.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Zt(Up,"Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",u.version)}),{xs:o,Os:i}})}function N6(e,t){const n=_e(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function L6(e,t){const n=_e(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,t).next(s=>s?(i=s,Vt.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new Eo(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(t,r.targetId)),r})}async function qd(e,t,n){const r=_e(e),i=r.Ss.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Bl(o))throw o;Zt(Up,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(i.target)}function Am(e,t,n){const r=_e(e);let i=ge.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,d){const g=_e(u),_=g.Ds.get(d);return _!==void 0?Vt.resolve(g.Ss.get(_)):g.ai.getTargetData(h,d)}(r,o,Zi(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.bs.getDocumentsMatchingQuery(o,t,n?i:ge.min(),n?s:Te())).next(a=>(C6(r,vA(t),a),{documents:a,Ns:s})))}function C6(e,t,n){let r=e.vs.get(t)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.vs.set(t,r)}class Em{constructor(){this.activeTargetIds=EA()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class R6{constructor(){this.So=new Em,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,r){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new Em,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="ConnectivityMonitor";class xm{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Zt(Sm,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Zt(Sm,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function Ud(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="RestConnection",D6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O6{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===mh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(t,n,r,i,s){const o=Ud(),a=this.$o(t,n.toUriEncodedString());Zt(Kf,`Sending RPC '${t}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(u,i,s);const{host:h}=new URL(a),d=k0(h);return this.Ko(t,a,u,r,d).then(g=>(Zt(Kf,`Received RPC '${t}' ${o}: `,g),g),g=>{throw Nl(Kf,`RPC '${t}' ${o} failed with error: `,g,"url: ",a,"request:",r),g})}Wo(t,n,r,i,s,o){return this.Qo(t,n,r,i,s)}Uo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}$o(t,n){const r=D6[t];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class M6 extends O6{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,r,i,s){const o=Ud();return new Promise((a,u)=>{const h=new q0;h.setWithCredentials(!0),h.listenOnce(U0.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Hc.NO_ERROR:const g=h.getResponseJson();Zt(sr,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(g)),a(g);break;case Hc.TIMEOUT:Zt(sr,`RPC '${t}' ${o} timed out`),u(new ie(zt.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const _=h.getStatus();if(Zt(sr,`RPC '${t}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let m=h.getResponseJson();Array.isArray(m)&&(m=m[0]);const N=m==null?void 0:m.error;if(N&&N.status&&N.message){const T=function(P){const k=P.toLowerCase().replace(/_/g,"-");return Object.values(zt).indexOf(k)>=0?k:zt.UNKNOWN}(N.status);u(new ie(T,N.message))}else u(new ie(zt.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ie(zt.UNAVAILABLE,"Connection failed."));break;default:he(9055,{s_:t,streamId:o,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{Zt(sr,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(i);Zt(sr,`RPC '${t}' ${o} sending request:`,i),h.send(n,"POST",d,r,15)})}a_(t,n,r){const i=Ud(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=H0(),a=$0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");Zt(sr,`Creating RPC '${t}' stream ${i}: ${d}`,u);const g=o.createWebChannel(d,u);let _=!1,m=!1;const N=new F6({Go:M=>{m?Zt(sr,`Not sending because RPC '${t}' stream ${i} is closed:`,M):(_||(Zt(sr,`Opening RPC '${t}' stream ${i} transport.`),g.open(),_=!0),Zt(sr,`RPC '${t}' stream ${i} sending:`,M),g.send(M))},zo:()=>g.close()}),T=(M,P,k)=>{M.listen(P,K=>{try{k(K)}catch(Z){setTimeout(()=>{throw Z},0)}})};return T(g,gu.EventType.OPEN,()=>{m||(Zt(sr,`RPC '${t}' stream ${i} transport opened.`),N.t_())}),T(g,gu.EventType.CLOSE,()=>{m||(m=!0,Zt(sr,`RPC '${t}' stream ${i} transport closed`),N.r_())}),T(g,gu.EventType.ERROR,M=>{m||(m=!0,Nl(sr,`RPC '${t}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),N.r_(new ie(zt.UNAVAILABLE,"The operation could not be completed")))}),T(g,gu.EventType.MESSAGE,M=>{var P;if(!m){const k=M.data[0];He(!!k,16349);const K=k,Z=(K==null?void 0:K.error)||((P=K[0])===null||P===void 0?void 0:P.error);if(Z){Zt(sr,`RPC '${t}' stream ${i} received error:`,Z);const yt=Z.status;let Tt=function(I){const U=Dn[I];if(U!==void 0)return S5(U)}(yt),O=Z.message;Tt===void 0&&(Tt=zt.INTERNAL,O="Unknown error status: "+yt+" with message "+Z.message),m=!0,N.r_(new ie(Tt,O)),g.close()}else Zt(sr,`RPC '${t}' stream ${i} received:`,k),N.i_(k)}}),T(a,z0.STAT_EVENT,M=>{M.stat===Ld.PROXY?Zt(sr,`RPC '${t}' stream ${i} detected buffering proxy`):M.stat===Ld.NOPROXY&&Zt(sr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.n_()},0),N}}function Qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(e){return new qA(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(t,n,r=1e3,i=1.5,s=6e4){this.bi=t,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Zt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="PersistentStream";class j5{constructor(t,n,r,i,s,o,a,u){this.bi=t,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new V5(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===zt.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===zt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{t(()=>{const i=new ie(zt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(t,n){const r=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Zt(Im,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(Zt(Im,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V6 extends j5{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=$A(this.serializer,t),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?ts(o.readTime):ge.min()}(t);return this.listener.Q_(n,r)}U_(t){const n={};n.database=Bd(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Od(u)?{documents:GA(s,u)}:{query:KA(s,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=T5(s,o.resumeToken);const h=Md(s,o.expectedCount);h!==null&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Ah(s,o.snapshotVersion.toTimestamp());const h=Md(s,o.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,t);const r=YA(this.serializer,t);r&&(n.labels=r),this.F_(n)}K_(t){const n={};n.database=Bd(this.serializer),n.removeTarget=t,this.F_(n)}}class j6 extends j5{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return He(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,He(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){He(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=WA(t.writeResults,t.commitTime),r=ts(t.commitTime);return this.listener.j_(r,n)}H_(){const t={};t.database=Bd(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>HA(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{}class q6 extends B6{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ie(zt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(t,Vd(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(zt.UNKNOWN,s.toString())})}Wo(t,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(t,Vd(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(zt.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class U6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Fs(n),this.ea=!1):Zt("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class z6{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{xa(this)&&(Zt(Aa,"Restarting streams for network reachability change."),await async function(u){const h=_e(u);h.aa.add(4),await tc(h),h.la.set("Unknown"),h.aa.delete(4),await ef(h)}(this))})}),this.la=new U6(r,i)}}async function ef(e){if(xa(e))for(const t of e.ua)await t(!0)}async function tc(e){for(const t of e.ua)await t(!1)}function B5(e,t){const n=_e(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Wp(n)?Hp(n):ql(n).b_()&&$p(n,t))}function zp(e,t){const n=_e(e),r=ql(n);n._a.delete(t),r.b_()&&q5(n,t),n._a.size===0&&(r.b_()?r.v_():xa(n)&&n.la.set("Unknown"))}function $p(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ge.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ql(e).U_(t)}function q5(e,t){e.ha.Ke(t),ql(e).K_(t)}function Hp(e){e.ha=new MA({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),ql(e).start(),e.la.ta()}function Wp(e){return xa(e)&&!ql(e).w_()&&e._a.size>0}function xa(e){return _e(e).aa.size===0}function U5(e){e.ha=void 0}async function $6(e){e.la.set("Online")}async function H6(e){e._a.forEach((t,n)=>{$p(e,t)})}async function W6(e,t){U5(e),Wp(e)?(e.la.ia(t),Hp(e)):e.la.set("Unknown")}async function G6(e,t,n){if(e.la.set("Online"),t instanceof I5&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i._a.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))}(e,t)}catch(r){Zt(Aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Sh(e,r)}else if(t instanceof Qc?e.ha.Xe(t):t instanceof x5?e.ha.ot(t):e.ha.nt(t),!n.isEqual(ge.min()))try{const r=await M5(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s._a.get(h);d&&s._a.set(h,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,h)=>{const d=s._a.get(u);if(!d)return;s._a.set(u,d.withResumeToken(tr.EMPTY_BYTE_STRING,d.snapshotVersion)),q5(s,u);const g=new Eo(d.target,u,h,d.sequenceNumber);$p(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Zt(Aa,"Failed to raise snapshot:",r),await Sh(e,r)}}async function Sh(e,t,n){if(!Bl(t))throw t;e.aa.add(1),await tc(e),e.la.set("Offline"),n||(n=()=>M5(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Zt(Aa,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await ef(e)})}function z5(e,t){return t().catch(n=>Sh(e,n,t))}async function nf(e){const t=_e(e),n=Oo(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:Pp;for(;K6(t);)try{const i=await N6(t.localStore,r);if(i===null){t.oa.length===0&&n.v_();break}r=i.batchId,Q6(t,i)}catch(i){await Sh(t,i)}$5(t)&&H5(t)}function K6(e){return xa(e)&&e.oa.length<10}function Q6(e,t){e.oa.push(t);const n=Oo(e);n.b_()&&n.W_&&n.G_(t.mutations)}function $5(e){return xa(e)&&!Oo(e).w_()&&e.oa.length>0}function H5(e){Oo(e).start()}async function Y6(e){Oo(e).H_()}async function J6(e){const t=Oo(e);for(const n of e.oa)t.G_(n.mutations)}async function X6(e,t,n){const r=e.oa.shift(),i=Fp.from(r,t,n);await z5(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await nf(e)}async function Z6(e,t){t&&Oo(e).W_&&await async function(r,i){if(function(o){return OA(o)&&o!==zt.ABORTED}(i.code)){const s=r.oa.shift();Oo(r).D_(),await z5(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await nf(r)}}(e,t),$5(e)&&H5(e)}async function Tm(e,t){const n=_e(e);n.asyncQueue.verifyOperationInProgress(),Zt(Aa,"RemoteStore received new credentials");const r=xa(n);n.aa.add(3),await tc(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await ef(n)}async function tE(e,t){const n=_e(e);t?(n.aa.delete(2),await ef(n)):t||(n.aa.add(2),await tc(n),n.la.set("Unknown"))}function ql(e){return e.Pa||(e.Pa=function(n,r,i){const s=_e(n);return s.Y_(),new V6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{jo:$6.bind(null,e),Jo:H6.bind(null,e),Zo:W6.bind(null,e),Q_:G6.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),Wp(e)?Hp(e):e.la.set("Unknown")):(await e.Pa.stop(),U5(e))})),e.Pa}function Oo(e){return e.Ta||(e.Ta=function(n,r,i){const s=_e(n);return s.Y_(),new j6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Y6.bind(null,e),Zo:Z6.bind(null,e),z_:J6.bind(null,e),j_:X6.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await nf(e)):(await e.Ta.stop(),e.oa.length>0&&(Zt(Aa,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Gp(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(zt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(e,t){if(Fs("AsyncQueue",`${t}: ${e}`),Bl(e))return new ie(zt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(t){return new bl(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=mu(),this.sortedSet=new pn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof bl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new bl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.Ia=new pn(le.comparator)}track(t){const n=t.doc.key,r=this.Ia.get(n);r?t.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Ia=this.Ia.remove(n):t.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):he(63341,{Vt:t,Ea:r}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,r)=>{t.push(r)}),t}}class Dl{constructor(t,n,r,i,s,o,a,u,h){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Dl(t,n,bl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class nE{constructor(){this.queries=Nm(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=_e(n),s=i.queries;i.queries=Nm(),s.forEach((o,a)=>{for(const u of a.Ra)u.onError(r)})})(this,new ie(zt.ABORTED,"Firestore shutting down"))}}function Nm(){return new Sa(e=>f5(e),Qh)}async function W5(e,t){const n=_e(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Va()&&t.ma()&&(r=2):(s=new eE,r=t.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Kp(o,`Initialization of query '${rl(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.Ra.push(t),t.ga(n.onlineState),s.Aa&&t.pa(s.Aa)&&Qp(n)}async function G5(e,t){const n=_e(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Ra.indexOf(t);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=t.ma()?0:1:!s.Va()&&t.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rE(e,t){const n=_e(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&Qp(n)}function iE(e,t,n){const r=_e(e),i=r.queries.get(t);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(t)}function Qp(e){e.fa.forEach(t=>{t.next()})}var zd,Lm;(Lm=zd||(zd={})).ya="default",Lm.Cache="cache";class K5{constructor(t,n,r){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Dl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=Dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(t){this.key=t}}class Y5{constructor(t){this.key=t}}class sE{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Te(),this.mutatedKeys=Te(),this.Ua=d5(t),this.Ka=new bl(this.Ua)}get Wa(){return this.qa}Ga(t,n){const r=n?n.za:new Pm,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,g)=>{const _=i.get(d),m=Yh(this.query,g)?g:null,N=!!_&&this.mutatedKeys.has(_.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let M=!1;_&&m?_.data.isEqual(m.data)?N!==T&&(r.track({type:3,doc:m}),M=!0):this.ja(_,m)||(r.track({type:2,doc:m}),M=!0,(u&&this.Ua(m,u)>0||h&&this.Ua(m,h)<0)&&(a=!0)):!_&&m?(r.track({type:0,doc:m}),M=!0):_&&!m&&(r.track({type:1,doc:_}),M=!0,(u||h)&&(a=!0)),M&&(m?(o=o.add(m),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const o=t.za.da();o.sort((d,g)=>function(m,N){const T=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Vt:M})}};return T(m)-T(N)}(d.type,g.type)||this.Ua(d.doc,g.doc)),this.Ha(r),i=i!=null&&i;const a=n&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,h=u!==this.Qa;return this.Qa=u,o.length!==0||h?{snapshot:new Dl(this.query,t.Ka,s,o,t.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Pm,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Te(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return t.forEach(r=>{this.$a.has(r)||n.push(new Y5(r))}),this.$a.forEach(r=>{t.has(r)||n.push(new Q5(r))}),n}Xa(t){this.qa=t.Ns,this.$a=Te();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return Dl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Yp="SyncEngine";class oE{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class aE{constructor(t){this.key=t,this.tu=!1}}class lE{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Sa(a=>f5(a),Qh),this.iu=new Map,this.su=new Set,this.ou=new pn(le.comparator),this._u=new Map,this.au=new jp,this.uu={},this.cu=new Map,this.lu=kl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function uE(e,t,n=!0){const r=nv(e);let i;const s=r.ru.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await J5(r,t,n,!0),i}async function cE(e,t){const n=nv(e);await J5(n,t,!0,!1)}async function J5(e,t,n,r){const i=await L6(e.localStore,Zi(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await hE(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&B5(e.remoteStore,i),a}async function hE(e,t,n,r,i){e.Pu=(g,_,m)=>async function(T,M,P,k){let K=M.view.Ga(P);K.ys&&(K=await Am(T.localStore,M.query,!1).then(({documents:O})=>M.view.Ga(O,K)));const Z=k&&k.targetChanges.get(M.targetId),yt=k&&k.targetMismatches.get(M.targetId)!=null,Tt=M.view.applyChanges(K,T.isPrimaryClient,Z,yt);return Rm(T,M.targetId,Tt.Ya),Tt.snapshot}(e,g,_,m);const s=await Am(e.localStore,t,!0),o=new sE(t,s.Ns),a=o.Ga(s.documents),u=Zu.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),h=o.applyChanges(a,e.isPrimaryClient,u);Rm(e,n,h.Ya);const d=new oE(t,n,o);return e.ru.set(t,d),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),h.snapshot}async function fE(e,t,n){const r=_e(e),i=r.ru.get(t),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!Qh(o,t))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zp(r.remoteStore,i.targetId),$d(r,i.targetId)}).catch(jl)):($d(r,i.targetId),await qd(r.localStore,i.targetId,!0))}async function dE(e,t){const n=_e(e),r=n.ru.get(t),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zp(n.remoteStore,r.targetId))}async function pE(e,t,n){const r=wE(e);try{const i=await function(o,a){const u=_e(o),h=jn.now(),d=a.reduce((m,N)=>m.add(N.key),Te());let g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let N=Ms(),T=Te();return u.Cs.getEntries(m,d).next(M=>{N=M,N.forEach((P,k)=>{k.isValidDocument()||(T=T.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,N)).next(M=>{g=M;const P=[];for(const k of a){const K=LA(k,g.get(k.key).overlayedDocument);K!=null&&P.push(new Uo(k.key,K,s5(K.value.mapValue),Ti.exists(!0)))}return u.mutationQueue.addMutationBatch(m,h,P,a)}).next(M=>{_=M;const P=M.applyToLocalDocumentSet(g,T);return u.documentOverlayCache.saveOverlays(m,M.batchId,P)})}).then(()=>({batchId:_.batchId,changes:g5(g)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let h=o.uu[o.currentUser.toKey()];h||(h=new pn(Ee)),h=h.insert(a,u),o.uu[o.currentUser.toKey()]=h}(r,i.batchId,n),await ec(r,i.changes),await nf(r.remoteStore)}catch(i){const s=Kp(i,"Failed to persist write");n.reject(s)}}async function X5(e,t){const n=_e(e);try{const r=await T6(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n._u.get(s);o&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?He(o.tu,14607):i.removedDocuments.size>0&&(He(o.tu,42227),o.tu=!1))}),await ec(n,r,t)}catch(r){await jl(r)}}function Cm(e,t,n){const r=_e(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,o)=>{const a=o.view.ga(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=_e(o);u.onlineState=a;let h=!1;u.queries.forEach((d,g)=>{for(const _ of g.Ra)_.ga(a)&&(h=!0)}),h&&Qp(u)}(r.eventManager,t),i.length&&r.nu.Q_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gE(e,t,n){const r=_e(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r._u.get(t),s=i&&i.key;if(s){let o=new pn(le.comparator);o=o.insert(s,dr.newNoDocument(s,ge.min()));const a=Te().add(s),u=new Zh(ge.min(),new Map,new pn(Ee),o,a);await X5(r,u),r.ou=r.ou.remove(s),r._u.delete(t),Jp(r)}else await qd(r.localStore,t,!1).then(()=>$d(r,t,n)).catch(jl)}async function mE(e,t){const n=_e(e),r=t.batch.batchId;try{const i=await I6(n.localStore,t);tv(n,r,null),Z5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ec(n,i)}catch(i){await jl(i)}}async function vE(e,t,n){const r=_e(e);try{const i=await function(o,a){const u=_e(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,a).next(g=>(He(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(r.localStore,t);tv(r,t,n),Z5(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ec(r,i)}catch(i){await jl(i)}}function Z5(e,t){(e.cu.get(t)||[]).forEach(n=>{n.resolve()}),e.cu.delete(t)}function tv(e,t,n){const r=_e(e);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.uu[r.currentUser.toKey()]=i}}function $d(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(r=>{e.au.containsKey(r)||ev(e,r)})}function ev(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);n!==null&&(zp(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),Jp(e))}function Rm(e,t,n){for(const r of n)r instanceof Q5?(e.au.addReference(r.key,t),yE(e,r)):r instanceof Y5?(Zt(Yp,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||ev(e,r.key)):he(19791,{Iu:r})}function yE(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(Zt(Yp,"New document in limbo: "+n),e.su.add(r),Jp(e))}function Jp(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new le(fn.fromString(t)),r=e.lu.next();e._u.set(r,new aE(n)),e.ou=e.ou.insert(n,r),B5(e.remoteStore,new Eo(Zi(kp(n.path)),r,"TargetPurposeLimboResolution",Hh.le))}}async function ec(e,t,n){const r=_e(e),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,u)=>{o.push(r.Pu(u,t,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=qp.Ps(u.targetId,h);s.push(g)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(u,h){const d=_e(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Vt.forEach(h,_=>Vt.forEach(_.ls,m=>d.persistence.referenceDelegate.addReference(g,_.targetId,m)).next(()=>Vt.forEach(_.hs,m=>d.persistence.referenceDelegate.removeReference(g,_.targetId,m)))))}catch(g){if(!Bl(g))throw g;Zt(Up,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const m=d.Ss.get(_),N=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(N);d.Ss=d.Ss.insert(_,T)}}}(r.localStore,s))}async function _E(e,t){const n=_e(e);if(!n.currentUser.isEqual(t)){Zt(Yp,"User change. New user:",t.toKey());const r=await F5(n.localStore,t);n.currentUser=t,function(s,o){s.cu.forEach(a=>{a.forEach(u=>{u.reject(new ie(zt.CANCELLED,o))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ec(n,r.Ms)}}function bE(e,t){const n=_e(e),r=n._u.get(t);if(r&&r.tu)return Te().add(r.key);{let i=Te();const s=n.iu.get(t);if(!s)return i;for(const o of s){const a=n.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function nv(e){const t=_e(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=X5.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gE.bind(null,t),t.nu.Q_=rE.bind(null,t.eventManager),t.nu.Tu=iE.bind(null,t.eventManager),t}function wE(e){const t=_e(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vE.bind(null,t),t}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=tf(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return x6(this.persistence,new A6,t.initialUser,this.serializer)}Ru(t){return new O5(Bp.Ei,this.serializer)}Au(t){return new R6}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class AE extends xh{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){He(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new a6(r,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?Or.withCacheSize(this.cacheSizeBytes):Or.DEFAULT;return new O5(r=>Eh.Ei(r,n),this.serializer)}}class Hd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_E.bind(null,this.syncEngine),await tE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nE}()}createDatastore(t){const n=tf(t.databaseInfo.databaseId),r=function(s){return new M6(s)}(t.databaseInfo);return function(s,o,a,u){return new q6(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new z6(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Cm(this.syncEngine,n,0),function(){return xm.C()?new xm:new k6}())}createSyncEngine(t,n){return function(i,s,o,a,u,h,d){const g=new lE(i,s,o,a,u,h);return d&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const s=_e(i);Zt(Aa,"RemoteStore shutting down."),s.aa.add(5),await tc(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hd.provider={build:()=>new Hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Fs("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="FirestoreClient";class EE{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cr.UNAUTHENTICATED,this.clientId=Q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Zt(Fo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Zt(Fo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Kp(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Yf(e,t){e.asyncQueue.verifyOperationInProgress(),Zt(Fo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F5(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function km(e,t){e.asyncQueue.verifyOperationInProgress();const n=await SE(e);Zt(Fo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Tm(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Tm(t.remoteStore,i)),e._onlineComponents=t}async function SE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Zt(Fo,"Using user provided OfflineComponentProvider");try{await Yf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===zt.FAILED_PRECONDITION||i.code===zt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),await Yf(e,new xh)}}else Zt(Fo,"Using default OfflineComponentProvider"),await Yf(e,new AE(void 0));return e._offlineComponents}async function iv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Zt(Fo,"Using user provided OnlineComponentProvider"),await km(e,e._uninitializedComponentsProvider._online)):(Zt(Fo,"Using default OnlineComponentProvider"),await km(e,new Hd))),e._onlineComponents}function xE(e){return iv(e).then(t=>t.syncEngine)}async function sv(e){const t=await iv(e),n=t.eventManager;return n.onListen=uE.bind(null,t.syncEngine),n.onUnlisten=fE.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=cE.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=dE.bind(null,t.syncEngine),n}function IE(e,t,n={}){const r=new Ds;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,h){const d=new rv({next:_=>{d.yu(),o.enqueueAndForget(()=>G5(s,g));const m=_.docs.has(a);!m&&_.fromCache?h.reject(new ie(zt.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&_.fromCache&&u&&u.source==="server"?h.reject(new ie(zt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new K5(kp(a.path),d,{includeMetadataChanges:!0,Fa:!0});return W5(s,g)}(await sv(e),e.asyncQueue,t,n,r)),r.promise}function TE(e,t,n={}){const r=new Ds;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,h){const d=new rv({next:_=>{d.yu(),o.enqueueAndForget(()=>G5(s,g)),_.fromCache&&u.source==="server"?h.reject(new ie(zt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new K5(a,d,{includeMetadataChanges:!0,Fa:!0});return W5(s,g)}(await sv(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(e,t,n){if(!n)throw new ie(zt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function PE(e,t,n,r){if(t===!0&&r===!0)throw new ie(zt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Om(e){if(!le.isDocumentKey(e))throw new ie(zt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Fm(e){if(le.isDocumentKey(e))throw new ie(zt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Xp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":he(12329,{type:typeof e})}function Vs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ie(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(e);throw new ie(zt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="firestore.googleapis.com",Mm=!0;class Vm{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ie(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lv,this.ssl=Mm}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Mm;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=D5;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<s6)throw new ie(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ov((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rf{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ie(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vm(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O3;switch(r.type){case"firstParty":return new j3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Dm.get(n);r&&(Zt("ComponentProvider","Removing Datastore"),Dm.delete(n),r.terminate())}(this),Promise.resolve()}}function NE(e,t,n,r={}){var i;e=Vs(e,rf);const s=k0(t),o=e._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&b4(`https://${u}`),o.host!==lv&&o.host!==u&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:r});if(!fh(h,a)&&(e._setSettings(h),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=cr.MOCK_USER;else{d=h4(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ie(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cr(_)}e._authCredentials=new F3(new G0(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new sf(this.firestore,t,this._query)}}class ti{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ti(this.firestore,t,this._key)}}class No extends sf{constructor(t,n,r){super(t,n,kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ti(this.firestore,null,new le(t))}withConverter(t){return new No(this.firestore,t,this._path)}}function Kr(e,t,...n){if(e=Lo(e),av("collection","path",t),e instanceof rf){const r=fn.fromString(t,...n);return Fm(r),new No(e,null,r)}{if(!(e instanceof ti||e instanceof No))throw new ie(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(fn.fromString(t,...n));return Fm(r),new No(e.firestore,null,r)}}function Qr(e,t,...n){if(e=Lo(e),arguments.length===1&&(t=Q0.newId()),av("doc","path",t),e instanceof rf){const r=fn.fromString(t,...n);return Om(r),new ti(e,null,new le(r))}{if(!(e instanceof ti||e instanceof No))throw new ie(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(fn.fromString(t,...n));return Om(r),new ti(e.firestore,e instanceof No?e.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="AsyncQueue";class Bm{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new V5(this,"async_queue_retry"),this.ju=()=>{const r=Qf();r&&Zt(jm,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const n=Qf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=Qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ds;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Bl(t))throw t;Zt(jm,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,Fs("INTERNAL UNHANDLED ERROR: ",qm(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(t,n,r){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const i=Gp.createAndSchedule(this,t,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&he(47125,{ec:qm(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function qm(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Ul extends rf{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Bm,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Bm(t),this._firestoreClient=void 0,await t}}}function LE(e,t){const n=typeof e=="object"?e:A3(),r=typeof e=="string"?e:mh,i=v3(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=u4("firestore");s&&NE(i,...s)}return i}function Zp(e){if(e._terminated)throw new ie(zt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||CE(e),e._firestoreClient}function CE(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,h,d){return new tA(a,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ov(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new EE(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ol(tr.fromBase64String(t))}catch(n){throw new ie(zt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ol(tr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ie(zt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ie(zt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ie(zt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ee(this._lat,t._lat)||Ee(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=/^__.*__$/;class kE{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Uo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(t,this.data,n,this.fieldTransforms)}}class uv{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Uo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function cv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{oc:e})}}class r1{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new r1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ac({path:r,cc:!1});return i.lc(t),i}hc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Ih(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(cv(this.oc)&&RE.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class DE{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||tf(t)}dc(t,n,r,i=!1){return new r1({oc:t,methodName:n,Ec:r,path:Xn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hv(e){const t=e._freezeSettings(),n=tf(e._databaseId);return new DE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function OE(e,t,n,r,i,s={}){const o=e.dc(s.merge||s.mergeFields?2:0,t,n,i);i1("Data must be an object, but it was:",o,r);const a=fv(r,o);let u,h;if(s.merge)u=new Xr(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const _=Wd(t,g,n);if(!o.contains(_))throw new ie(zt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);pv(d,_)||d.push(_)}u=new Xr(d),h=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=o.fieldTransforms;return new kE(new Fr(a),u,h)}class af extends t1{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof af}}function FE(e,t,n,r){const i=e.dc(1,t,n);i1("Data must be an object, but it was:",i,r);const s=[],o=Fr.empty();qo(r,(u,h)=>{const d=s1(t,u,n);h=Lo(h);const g=i.hc(d);if(h instanceof af)s.push(d);else{const _=lf(h,g);_!=null&&(s.push(d),o.set(d,_))}});const a=new Xr(s);return new uv(o,a,i.fieldTransforms)}function ME(e,t,n,r,i,s){const o=e.dc(1,t,n),a=[Wd(t,r,n)],u=[i];if(s.length%2!=0)throw new ie(zt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)a.push(Wd(t,s[_])),u.push(s[_+1]);const h=[],d=Fr.empty();for(let _=a.length-1;_>=0;--_)if(!pv(h,a[_])){const m=a[_];let N=u[_];N=Lo(N);const T=o.hc(m);if(N instanceof af)h.push(m);else{const M=lf(N,T);M!=null&&(h.push(m),d.set(m,M))}}const g=new Xr(h);return new uv(d,g,o.fieldTransforms)}function lf(e,t){if(dv(e=Lo(e)))return i1("Unsupported field value:",t,e),fv(e,t);if(e instanceof t1)return function(r,i){if(!cv(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=lf(a,i.Pc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Lo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=jn.fromDate(r);return{timestampValue:Ah(i.serializer,s)}}if(r instanceof jn){const s=new jn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(i.serializer,s)}}if(r instanceof e1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ol)return{bytesValue:T5(i.serializer,r._byteString)};if(r instanceof ti){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof n1)return function(o,a){return{mapValue:{fields:{[r5]:{stringValue:i5},[vh]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw a.Tc("VectorValues must only contain numeric values.");return Dp(a.serializer,h)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Xp(r)}`)}(e,t)}function fv(e,t){const n={};return J0(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qo(e,(r,i)=>{const s=lf(i,t.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dv(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof jn||e instanceof e1||e instanceof Ol||e instanceof ti||e instanceof t1||e instanceof n1)}function i1(e,t,n){if(!dv(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Xp(n);throw r==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function Wd(e,t,n){if((t=Lo(t))instanceof of)return t._internalPath;if(typeof t=="string")return s1(e,t);throw Ih("Field path arguments must be of type string or ",e,!1,void 0,n)}const VE=new RegExp("[~\\*/\\[\\]]");function s1(e,t,n){if(t.search(VE)>=0)throw Ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new of(...t.split("."))._internalPath}catch{throw Ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ih(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ie(zt.INVALID_ARGUMENT,a+e+u)}function pv(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(mv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jE extends gv{data(){return super.data()}}function mv(e,t){return typeof t=="string"?s1(e,t):t instanceof of?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ie(zt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qE{convertValue(t,n="none"){switch(Do(t)){case 0:return null;case 1:return t.booleanValue;case 2:return En(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ko(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw he(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return qo(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){var n,r,i;const s=(i=(r=(n=t.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>En(o.doubleValue));return new n1(s)}convertGeoPoint(t){return new e1(En(t.latitude),En(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Gh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zu(t));default:return null}}convertTimestamp(t){const n=Ro(t);return new jn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=fn.fromString(t);He(k5(r),9688,{name:t});const i=new $u(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||Fs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vv extends gv{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(mv("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yc extends vv{data(t={}){return super.data(t)}}class zE{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Yc(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(zt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return a.type!==0&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:$E(a.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $E(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(e){e=Vs(e,ti);const t=Vs(e.firestore,Ul);return IE(Zp(t),e._key).then(n=>HE(t,e,n))}class yv extends qE{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ol(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ti(this.firestore,null,n)}}function Ns(e){e=Vs(e,sf);const t=Vs(e.firestore,Ul),n=Zp(t),r=new yv(t);return BE(e._query),TE(n,e._query).then(i=>new zE(t,r,e,i))}function wl(e,t,n,...r){e=Vs(e,ti);const i=Vs(e.firestore,Ul),s=hv(i);let o;return o=typeof(t=Lo(t))=="string"||t instanceof of?ME(s,"updateDoc",e._key,t,n,r):FE(s,"updateDoc",e._key,t),o1(i,[o.toMutation(e._key,Ti.exists(!0))])}function Ao(e){return o1(Vs(e.firestore,Ul),[new Op(e._key,Ti.none())])}function Th(e,t){const n=Vs(e.firestore,Ul),r=Qr(e),i=UE(e.converter,t);return o1(n,[OE(hv(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then(()=>r)}function o1(e,t){return function(r,i){const s=new Ds;return r.asyncQueue.enqueueAndForget(async()=>pE(await xE(r),i,s)),s.promise}(Zp(e),t)}function HE(e,t,n){const r=n.docs.get(t._key),i=new yv(e);return new vv(e,i,t._key,r,new yu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Vl=i})(w3),ph(new Bu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ul(new M3(r.getProvider("auth-internal")),new B3(o,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ie(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(h.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),_l(Wg,Gg,t),_l(Wg,Gg,"esm2017")})();const WE={apiKey:"AIzaSyB3UMXpG2mt0feWC8K9SOkzR8VIUqgCUDY",authDomain:"notasdepedido.firebaseapp.com",projectId:"notasdepedido",storageBucket:"notasdepedido.firebasestorage.app",messagingSenderId:"74167398468",appId:"1:74167398468:web:4fee46f74b466de40a4c11"},GE=M0(WE),dn=LE(GE),KE={type:"submit"},QE={border:"1",style:{"margin-top":"10px"}},YE={class:"border px-1 py-0"},JE={class:"border px-1 py-0"},XE={class:"border px-1 py-0"},ZE={class:"border px-1 py-0"},tS={class:"border px-1 py-0"},eS={class:"border px-1 py-0"},nS={class:"border px-1 py-0"},rS=["onClick"],iS=["onClick"],sS={class:"flex justify-center mt-4"},oS=["disabled"],aS=["onClick"],lS=["disabled"],Jf=20,uS={__name:"GestorStock",setup(e){const t=Ve([]),n=Ve(""),r=Ve({codigo:"",descripcion:"",existencias:0,precioUnitario:0,descuento:0}),i=Ve(!1),s=Ve(null),o=async()=>{const M=await Ns(Kr(dn,"productos"));t.value=M.docs.map(P=>({id:P.id,...P.data()}))},a=Tn(()=>{const M=n.value.toLowerCase();return t.value.filter(P=>P.codigo.toLowerCase().includes(M)||P.descripcion.toLowerCase().includes(M)).sort((P,k)=>{const K=isNaN(P.codigo)?P.codigo:Number(P.codigo),Z=isNaN(k.codigo)?k.codigo:Number(k.codigo);return K>Z?1:K<Z?-1:0})}),u=async()=>{await Th(Kr(dn,"productos"),{...r.value}),m(),await o()},h=M=>{i.value=!0,s.value=M.id,r.value={codigo:M.codigo,descripcion:M.descripcion,existencias:M.existencias,precioUnitario:M.precioUnitario,descuento:M.descuento}},d=async()=>{const M=Qr(dn,"productos",s.value);await wl(M,{...r.value}),m(),i.value=!1,s.value=null,await o()},g=async M=>{confirm("¿Seguro que querés eliminar este producto?")&&(await Ao(Qr(dn,"productos",M)),await o())},_=()=>{m(),i.value=!1,s.value=null},m=()=>{r.value={codigo:"",descripcion:"",existencias:0,precioUnitario:0,modo:0,descuento:0}},N=Ve(1);Tn(()=>{const M=(N.value-1)*Jf,P=M+Jf;return a.value.slice(M,P)});const T=Tn(()=>Math.ceil(a.value.length/Jf));return vl(a,()=>{N.value=1}),Bh(o),(M,P)=>(Le(),Je("div",null,[P[12]||(P[12]=ct("h2",null,"Gestor de Stock",-1)),Oe(ct("input",{"onUpdate:modelValue":P[0]||(P[0]=k=>n.value=k),placeholder:"Buscar por código o descripción",style:{"margin-bottom":"10px",width:"100%",padding:"5px"}},null,512),[[Me,n.value]]),ct("form",{onSubmit:P[7]||(P[7]=wd(k=>i.value?d():u(),["prevent"]))},[Oe(ct("input",{"onUpdate:modelValue":P[1]||(P[1]=k=>r.value.codigo=k),placeholder:"Código",required:""},null,512),[[Me,r.value.codigo]]),Oe(ct("input",{"onUpdate:modelValue":P[2]||(P[2]=k=>r.value.descripcion=k),placeholder:"Descripción",required:""},null,512),[[Me,r.value.descripcion]]),Oe(ct("input",{"onUpdate:modelValue":P[3]||(P[3]=k=>r.value.existencias=k),placeholder:"Existencias",type:"number",required:""},null,512),[[Me,r.value.existencias,void 0,{number:!0}]]),Oe(ct("input",{"onUpdate:modelValue":P[4]||(P[4]=k=>r.value.precioUnitario=k),placeholder:"Precio",type:"number",step:"0.01",required:""},null,512),[[Me,r.value.precioUnitario,void 0,{number:!0}]]),Oe(ct("select",{"onUpdate:modelValue":P[5]||(P[5]=k=>r.value.modo=k),required:""},P[10]||(P[10]=[ct("option",{value:0},"Por unidad",-1),ct("option",{value:1},"Por peso",-1)]),512),[[Vb,r.value.modo,void 0,{number:!0}]]),Oe(ct("input",{"onUpdate:modelValue":P[6]||(P[6]=k=>r.value.descuento=k),placeholder:"Descuento (%)",type:"number"},null,512),[[Me,r.value.descuento,void 0,{number:!0}]]),ct("button",KE,$e(i.value?"Actualizar":"Agregar producto"),1),i.value?(Le(),Je("button",{key:0,type:"button",onClick:_},"Cancelar")):ul("",!0)],32),ct("table",QE,[P[11]||(P[11]=ct("thead",null,[ct("tr",null,[ct("th",{class:"border px-4 py-2"},"Código"),ct("th",{class:"border px-4 py-2"},"Descripción"),ct("th",{class:"border px-4 py-2"},"Stock"),ct("th",{class:"border px-4 py-2"},"Precio"),ct("th",{class:"border px-4 py-2"},"Modo"),ct("th",{class:"border px-4 py-2"},"Descuento"),ct("th",{class:"border px-4 py-2"},"Acciones")])],-1)),ct("tbody",null,[(Le(!0),Je(Mn,null,Rs(a.value,k=>(Le(),Je("tr",{key:k.id},[ct("td",YE,$e(k.codigo),1),ct("td",JE,$e(k.descripcion),1),ct("td",XE,$e(k.existencias),1),ct("td",ZE,$e(k.precioUnitario),1),ct("td",tS,$e(k.modo===1?"Peso":"Unidad"),1),ct("td",eS,$e(k.descuento)+"%",1),ct("td",nS,[ct("button",{onClick:K=>h(k)},"Editar",8,rS),ct("button",{onClick:K=>g(k.id)},"Eliminar",8,iS)])]))),128))])]),ct("div",sS,[ct("button",{disabled:N.value===1,onClick:P[8]||(P[8]=k=>N.value--),class:"px-3 py-1 bg-gray-300 rounded disabled:opacity-50"}," < ",8,oS),(Le(!0),Je(Mn,null,Rs(T.value,k=>(Le(),Je("button",{key:k,onClick:K=>N.value=k,class:Fl(["px-3 py-1 mx-1 rounded",N.value===k?"bg-blue-500 text-white":"bg-gray-200"])},$e(k),11,aS))),128)),ct("button",{disabled:N.value===T.value,onClick:P[9]||(P[9]=k=>N.value++),class:"px-3 py-1 bg-gray-300 rounded disabled:opacity-50"}," > ",8,lS)])]))}},cS={class:"mb-4"},hS={key:0,id:"modal-overlay",class:"vue-modal-overlay"},fS={class:"vue-modal-content"},dS={border:"1",style:{"margin-top":"10px"}},pS={class:"border px-4 py-0"},gS={class:"border px-4 py-0"},mS={class:"border px-4 py-0"},vS={class:"border px-4 py-0"},yS=["onClick"],_S=["onClick"],bS=["onClick"],wS=["onClick"],AS={class:"mt-4 flex justify-center space-x-2"},ES=["disabled"],SS=["onClick"],xS=["disabled"],IS={key:0,id:"modal-edit-overlay",class:"vue-modal-overlay"},TS={class:"vue-modal-content"},PS={key:0,class:"vue-modal-overlay"},NS={class:"vue-modal-content"},LS={class:"mb-2"},CS={class:"mb-4"},RS={key:0,class:"vue-modal-overlay"},kS={class:"vue-modal-content"},DS={class:"mb-2"},OS={class:"mb-4"},Xf=20,FS={__name:"Clientes",setup(e){const t=Ve(""),n=Ve(!1),r=Ve([]),i=Ve(null),s=Ve({nombre:"",identificador:"",direccion:"",codigoPostal:"",localidad:"",provincia:"BUENOS AIRES",telefono:"",cuentaCorriente:"",cuit:"",deuda:0}),o=async()=>{const O=await Ns(Kr(dn,"clientes"));r.value=O.docs.map(b=>({id:b.id,...b.data()})),r.value.sort((b,I)=>b.nombre.localeCompare(I.nombre))},a=async()=>{await Th(Kr(dn,"clientes"),s.value),n.value=!1,Object.assign(s.value,{nombre:"",identificador:"",direccion:"",codigoPostal:"",localidad:"",provincia:"BUENOS AIRES",telefono:"",cuentaCorriente:"",cuit:"",deuda:0}),o()},u=Ve(null),h=Ve(null),d=Ve(null),g=Ve(null),_=O=>{u.value=O,h.value=null},m=async()=>{if(!h.value||h.value<=0){alert("Ingresa un monto válido");return}const O=(u.value.deuda||0)-h.value,b=Qr(dn,"clientes",u.value.id);await wl(b,{deuda:O}),u.value.deuda=O,u.value=null,o()},N=O=>{d.value=O,g.value=null},T=async()=>{if(!g.value||g.value<=0){alert("Ingresa un monto válido");return}const O=(d.value.deuda||0)+g.value,b=Qr(dn,"clientes",d.value.id);await wl(b,{deuda:O}),d.value.deuda=O,d.value=null,o()},M=async O=>{await Ao(Qr(dn,"clientes",O)),o()},P=O=>{i.value={...O}},k=async()=>{const O=Qr(dn,"clientes",i.value.id),{id:b,...I}=i.value;await wl(O,I),i.value=null,o()},K=Tn(()=>r.value.filter(O=>O.nombre.toLowerCase().includes(t.value.toLowerCase())||O.identificador.toLowerCase().includes(t.value.toLowerCase()))),Z=Ve(1),yt=Tn(()=>{const O=(Z.value-1)*Xf,b=O+Xf;return K.value.slice(O,b)}),Tt=Tn(()=>Math.ceil(K.value.length/Xf));return vl(K,()=>{Z.value=1}),Bh(o),(O,b)=>(Le(),Je("div",null,[b[41]||(b[41]=ct("h2",{class:"text-2xl font-bold mb-4"},"Gestión de Clientes",-1)),ct("div",cS,[Oe(ct("input",{"onUpdate:modelValue":b[0]||(b[0]=I=>t.value=I),type:"text",placeholder:"Buscar por nombre o identificador",class:"border p-2 w-full md:w-1/2"},null,512),[[Me,t.value]])]),ct("button",{onClick:b[1]||(b[1]=I=>n.value=!0),class:"bg-blue-500 text-white px-4 py-2 mb-4 rounded"}," Agendar Cliente "),(Le(),ll(du,{to:"body"},[n.value?(Le(),Je("div",hS,[ct("div",fS,[ct("button",{onClick:b[2]||(b[2]=I=>n.value=!1),class:"modal-close"},"×"),b[29]||(b[29]=ct("h3",{class:"text-xl font-bold mb-4"},"Nuevo Cliente",-1)),ct("form",{onSubmit:wd(a,["prevent"])},[Oe(ct("input",{"onUpdate:modelValue":b[3]||(b[3]=I=>s.value.nombre=I),type:"text",placeholder:"Nombre",class:"modal-input",required:""},null,512),[[Me,s.value.nombre]]),Oe(ct("input",{"onUpdate:modelValue":b[4]||(b[4]=I=>s.value.identificador=I),type:"text",placeholder:"Identificación",class:"modal-input",required:""},null,512),[[Me,s.value.identificador]]),Oe(ct("input",{"onUpdate:modelValue":b[5]||(b[5]=I=>s.value.direccion=I),type:"text",placeholder:"Dirección",class:"modal-input",required:""},null,512),[[Me,s.value.direccion]]),Oe(ct("input",{"onUpdate:modelValue":b[6]||(b[6]=I=>s.value.codigoPostal=I),type:"text",placeholder:"Código Postal",class:"modal-input",required:""},null,512),[[Me,s.value.codigoPostal]]),Oe(ct("input",{"onUpdate:modelValue":b[7]||(b[7]=I=>s.value.localidad=I),type:"text",placeholder:"Localidad",class:"modal-input",required:""},null,512),[[Me,s.value.localidad]]),Oe(ct("input",{disabled:"","onUpdate:modelValue":b[8]||(b[8]=I=>s.value.provincia=I),type:"text",placeholder:"Provincia",class:"modal-input"},null,512),[[Me,s.value.provincia]]),Oe(ct("input",{"onUpdate:modelValue":b[9]||(b[9]=I=>s.value.telefono=I),type:"text",placeholder:"Teléfono",class:"modal-input",required:""},null,512),[[Me,s.value.telefono]]),Oe(ct("input",{"onUpdate:modelValue":b[10]||(b[10]=I=>s.value.cuentaCorriente=I),type:"text",placeholder:"Cuenta Corriente",class:"modal-input",required:""},null,512),[[Me,s.value.cuentaCorriente]]),Oe(ct("input",{"onUpdate:modelValue":b[11]||(b[11]=I=>s.value.cuit=I),type:"text",placeholder:"CUIT",class:"modal-input",required:""},null,512),[[Me,s.value.cuit]]),b[28]||(b[28]=ct("div",{class:"flex justify-end mt-4"},[ct("button",{type:"submit",class:"bg-green-500 text-white px-4 py-2 rounded mr-2"},"Agendar")],-1))],32)])])):ul("",!0)])),ct("table",dS,[b[30]||(b[30]=ct("thead",null,[ct("tr",null,[ct("th",{class:"border px-4 py-2"},"Nombre"),ct("th",{class:"border px-4 py-2"},"Identificador"),ct("th",{class:"border px-4 py-2"},"Deuda"),ct("th",{class:"border px-4 py-2"},"Acciones")])],-1)),ct("tbody",null,[(Le(!0),Je(Mn,null,Rs(yt.value,I=>(Le(),Je("tr",{key:I.id},[ct("td",pS,$e(I.nombre),1),ct("td",gS,$e(I.identificador),1),ct("td",mS,"$"+$e(I.deuda.toFixed(2)),1),ct("td",vS,[ct("button",{onClick:U=>_(I),class:"bg-yellow-500 text-white px-2 py-1 rounded"},"Pagar Deuda",8,yS),ct("button",{onClick:U=>N(I),class:"bg-red-500 text-white px-2 py-1 rounded"},"Agregar Deuda",8,_S),ct("button",{onClick:U=>P(I),class:"bg-blue-500 text-white px-2 py-1 rounded"},"Ver/Editar",8,bS),ct("button",{onClick:U=>M(I.id),class:"bg-red-500 text-white px-2 py-1 rounded"},"Eliminar",8,wS)])]))),128))])]),ct("div",AS,[ct("button",{disabled:Z.value===1,onClick:b[12]||(b[12]=I=>Z.value--),class:"px-3 py-1 bg-gray-300 rounded disabled:opacity-50"}," < ",8,ES),(Le(!0),Je(Mn,null,Rs(Tt.value,I=>(Le(),Je("button",{key:I,onClick:U=>Z.value=I,class:Fl(["px-3 py-1 rounded",Z.value===I?"bg-blue-500 text-white":"bg-gray-200"])},$e(I),11,SS))),128)),ct("button",{disabled:Z.value===Tt.value,onClick:b[13]||(b[13]=I=>Z.value++),class:"px-3 py-1 bg-gray-300 rounded disabled:opacity-50"}," > ",8,xS)]),(Le(),ll(du,{to:"body"},[i.value?(Le(),Je("div",IS,[ct("div",TS,[ct("button",{onClick:b[14]||(b[14]=I=>i.value=null),class:"modal-close"},"×"),b[32]||(b[32]=ct("h3",{class:"text-xl font-bold mb-4"},"Editar Cliente",-1)),ct("form",{onSubmit:wd(k,["prevent"])},[Oe(ct("input",{"onUpdate:modelValue":b[15]||(b[15]=I=>i.value.nombre=I),type:"text",placeholder:"Nombre",class:"modal-input",required:""},null,512),[[Me,i.value.nombre]]),Oe(ct("input",{"onUpdate:modelValue":b[16]||(b[16]=I=>i.value.identificador=I),type:"text",placeholder:"Identificación",class:"modal-input",required:""},null,512),[[Me,i.value.identificador]]),Oe(ct("input",{"onUpdate:modelValue":b[17]||(b[17]=I=>i.value.direccion=I),type:"text",placeholder:"Dirección",class:"modal-input",required:""},null,512),[[Me,i.value.direccion]]),Oe(ct("input",{"onUpdate:modelValue":b[18]||(b[18]=I=>i.value.codigoPostal=I),type:"text",placeholder:"Código Postal",class:"modal-input",required:""},null,512),[[Me,i.value.codigoPostal]]),Oe(ct("input",{"onUpdate:modelValue":b[19]||(b[19]=I=>i.value.localidad=I),type:"text",placeholder:"Localidad",class:"modal-input",required:""},null,512),[[Me,i.value.localidad]]),Oe(ct("input",{disabled:"","onUpdate:modelValue":b[20]||(b[20]=I=>i.value.provincia=I),type:"text",placeholder:"Provincia",class:"modal-input"},null,512),[[Me,i.value.provincia]]),Oe(ct("input",{"onUpdate:modelValue":b[21]||(b[21]=I=>i.value.telefono=I),type:"text",placeholder:"Teléfono",class:"modal-input",required:""},null,512),[[Me,i.value.telefono]]),Oe(ct("input",{"onUpdate:modelValue":b[22]||(b[22]=I=>i.value.cuentaCorriente=I),type:"text",placeholder:"Cuenta Corriente",class:"modal-input",required:""},null,512),[[Me,i.value.cuentaCorriente]]),Oe(ct("input",{"onUpdate:modelValue":b[23]||(b[23]=I=>i.value.cuit=I),type:"text",placeholder:"CUIT",class:"modal-input",required:""},null,512),[[Me,i.value.cuit]]),b[31]||(b[31]=ct("div",{class:"flex justify-end mt-4"},[ct("button",{type:"submit",class:"bg-green-500 text-white px-4 py-2 rounded mr-2"},"Guardar")],-1))],32)])])):ul("",!0)])),(Le(),ll(du,{to:"body"},[u.value?(Le(),Je("div",PS,[ct("div",NS,[ct("button",{class:"modal-close",onClick:b[24]||(b[24]=I=>u.value=null)},"×"),b[35]||(b[35]=ct("h3",{class:"text-xl font-bold mb-4"},"Pago de Deuda",-1)),ct("p",LS,[b[33]||(b[33]=ct("strong",null,"Cliente:",-1)),Yi(" "+$e(u.value.nombre),1)]),ct("p",CS,[b[34]||(b[34]=ct("strong",null,"Deuda actual:",-1)),Yi(" $"+$e(u.value.deuda),1)]),b[36]||(b[36]=ct("label",{for:"monto",class:"block mb-2"},"Monto a pagar:",-1)),Oe(ct("input",{id:"monto",type:"number","onUpdate:modelValue":b[25]||(b[25]=I=>h.value=I),class:"modal-input",placeholder:"Ingrese el monto",min:"0"},null,512),[[Me,h.value]]),ct("div",{class:"flex justify-end"},[ct("button",{onClick:m,class:"bg-green-500 text-white px-4 py-2 rounded mr-2"},"Pagar")])])])):ul("",!0)])),(Le(),ll(du,{to:"body"},[d.value?(Le(),Je("div",RS,[ct("div",kS,[ct("button",{class:"modal-close",onClick:b[26]||(b[26]=I=>d.value=null)},"×"),b[39]||(b[39]=ct("h3",{class:"text-xl font-bold mb-4"},"Agregar Deuda",-1)),ct("p",DS,[b[37]||(b[37]=ct("strong",null,"Cliente:",-1)),Yi(" "+$e(d.value.nombre),1)]),ct("p",OS,[b[38]||(b[38]=ct("strong",null,"Deuda actual:",-1)),Yi(" $"+$e(d.value.deuda),1)]),b[40]||(b[40]=ct("label",{for:"montoDeuda",class:"block mb-2"},"Monto a agregar:",-1)),Oe(ct("input",{id:"montoDeuda",type:"number","onUpdate:modelValue":b[27]||(b[27]=I=>g.value=I),class:"modal-input",placeholder:"Ingrese el monto",min:"0"},null,512),[[Me,g.value]]),ct("div",{class:"flex justify-end"},[ct("button",{onClick:T,class:"bg-blue-500 text-white px-4 py-2 rounded"},"Agregar")])])])):ul("",!0)]))]))}},MS="modulepreload",VS=function(e){return"/Stock/"+e},Um={},Gd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(h=>{if(h=VS(h),h in Um)return;Um[h]=!0;const d=h.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":MS,d||(_.as="script"),_.crossOrigin="",_.href=h,u&&_.setAttribute("nonce",u),document.head.appendChild(_),d)return new Promise((m,N)=>{_.addEventListener("load",m),_.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function Qe(e){"@babel/helpers - typeof";return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(e)}var gr=Uint8Array,Zr=Uint16Array,a1=Int32Array,uf=new gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cf=new gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Kd=new gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_v=function(e,t){for(var n=new Zr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new a1(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},bv=_v(uf,2),wv=bv.b,Qd=bv.r;wv[28]=258,Qd[258]=28;var Av=_v(cf,0),jS=Av.b,zm=Av.r,Yd=new Zr(32768);for(var hn=0;hn<32768;++hn){var vo=(hn&43690)>>1|(hn&21845)<<1;vo=(vo&52428)>>2|(vo&13107)<<2,vo=(vo&61680)>>4|(vo&3855)<<4,Yd[hn]=((vo&65280)>>8|(vo&255)<<8)>>1}var es=function(e,t,n){for(var r=e.length,i=0,s=new Zr(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Zr(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Zr(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var h=i<<4|e[i],d=t-e[i],g=o[e[i]-1]++<<d,_=g|(1<<d)-1;g<=_;++g)a[Yd[g]>>u]=h}else for(a=new Zr(r),i=0;i<r;++i)e[i]&&(a[i]=Yd[o[e[i]-1]++]>>15-e[i]);return a},Mo=new gr(288);for(var hn=0;hn<144;++hn)Mo[hn]=8;for(var hn=144;hn<256;++hn)Mo[hn]=9;for(var hn=256;hn<280;++hn)Mo[hn]=7;for(var hn=280;hn<288;++hn)Mo[hn]=8;var Ku=new gr(32);for(var hn=0;hn<32;++hn)Ku[hn]=5;var BS=es(Mo,9,0),qS=es(Mo,9,1),US=es(Ku,5,0),zS=es(Ku,5,1),Zf=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ei=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},td=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},l1=function(e){return(e+7)/8|0},Ev=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new gr(e.subarray(t,n))},$S=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xi=function(e,t,n){var r=new Error(t||$S[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,xi),!n)throw r;return r},HS=function(e,t,n,r){var i=e.length,s=0;if(!i||t.f&&!t.l)return n||new gr(0);var o=!n,a=o||t.i!=2,u=t.i;o&&(n=new gr(i*3));var h=function(Nt){var z=n.length;if(Nt>z){var $=new gr(Math.max(z*2,Nt));$.set(n),n=$}},d=t.f||0,g=t.p||0,_=t.b||0,m=t.l,N=t.d,T=t.m,M=t.n,P=i*8;do{if(!m){d=Ei(e,g,1);var k=Ei(e,g+1,3);if(g+=3,k)if(k==1)m=qS,N=zS,T=9,M=5;else if(k==2){var Tt=Ei(e,g,31)+257,O=Ei(e,g+10,15)+4,b=Tt+Ei(e,g+5,31)+1;g+=14;for(var I=new gr(b),U=new gr(19),x=0;x<O;++x)U[Kd[x]]=Ei(e,g+x*3,7);g+=O*3;for(var S=Zf(U),A=(1<<S)-1,Q=es(U,S,1),x=0;x<b;){var mt=Q[Ei(e,g,A)];g+=mt&15;var K=mt>>4;if(K<16)I[x++]=K;else{var et=0,dt=0;for(K==16?(dt=3+Ei(e,g,3),g+=2,et=I[x-1]):K==17?(dt=3+Ei(e,g,7),g+=3):K==18&&(dt=11+Ei(e,g,127),g+=7);dt--;)I[x++]=et}}var ut=I.subarray(0,Tt),xt=I.subarray(Tt);T=Zf(ut),M=Zf(xt),m=es(ut,T,1),N=es(xt,M,1)}else xi(1);else{var K=l1(g)+4,Z=e[K-4]|e[K-3]<<8,yt=K+Z;if(yt>i){u&&xi(0);break}a&&h(_+Z),n.set(e.subarray(K,yt),_),t.b=_+=Z,t.p=g=yt*8,t.f=d;continue}if(g>P){u&&xi(0);break}}a&&h(_+131072);for(var Pt=(1<<T)-1,$t=(1<<M)-1,R=g;;R=g){var et=m[td(e,g)&Pt],H=et>>4;if(g+=et&15,g>P){u&&xi(0);break}if(et||xi(2),H<256)n[_++]=H;else if(H==256){R=g,m=null;break}else{var J=H-254;if(H>264){var x=H-257,st=uf[x];J=Ei(e,g,(1<<st)-1)+wv[x],g+=st}var tt=N[td(e,g)&$t],G=tt>>4;tt||xi(3),g+=tt&15;var xt=jS[G];if(G>3){var st=cf[G];xt+=td(e,g)&(1<<st)-1,g+=st}if(g>P){u&&xi(0);break}a&&h(_+131072);var rt=_+J;if(_<xt){var nt=s-xt,It=Math.min(xt,rt);for(nt+_<0&&xi(3);_<It;++_)n[_]=r[nt+_]}for(;_<rt;++_)n[_]=n[_-xt]}}t.l=m,t.p=R,t.b=_,t.f=d,m&&(d=1,t.m=T,t.d=N,t.n=M)}while(!d);return _!=n.length&&o?Ev(n,0,_):n.subarray(0,_)},Ts=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},hu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},ed=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:xv,l:0};if(i==1){var o=new gr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(yt,Tt){return yt.f-Tt.f}),n.push({s:-1,f:25001});var a=n[0],u=n[1],h=0,d=1,g=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};d!=i-1;)a=n[n[h].f<n[g].f?h++:g++],u=n[h!=d&&n[h].f<n[g].f?h++:g++],n[d++]={s:-1,f:a.f+u.f,l:a,r:u};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var m=new Zr(_+1),N=Jd(n[d-1],m,0);if(N>t){var r=0,T=0,M=N-t,P=1<<M;for(s.sort(function(Tt,O){return m[O.s]-m[Tt.s]||Tt.f-O.f});r<i;++r){var k=s[r].s;if(m[k]>t)T+=P-(1<<N-m[k]),m[k]=t;else break}for(T>>=M;T>0;){var K=s[r].s;m[K]<t?T-=1<<t-m[K]++-1:++r}for(;r>=0&&T;--r){var Z=s[r].s;m[Z]==t&&(--m[Z],++T)}N=t}return{t:new gr(m),l:N}},Jd=function(e,t,n){return e.s==-1?Math.max(Jd(e.l,t,n+1),Jd(e.r,t,n+1)):t[e.s]=n},$m=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Zr(++t),r=0,i=e[0],s=1,o=function(u){n[r++]=u},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},fu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Sv=function(e,t,n){var r=n.length,i=l1(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},Hm=function(e,t,n,r,i,s,o,a,u,h,d){Ts(t,d++,n),++i[256];for(var g=ed(i,15),_=g.t,m=g.l,N=ed(s,15),T=N.t,M=N.l,P=$m(_),k=P.c,K=P.n,Z=$m(T),yt=Z.c,Tt=Z.n,O=new Zr(19),b=0;b<k.length;++b)++O[k[b]&31];for(var b=0;b<yt.length;++b)++O[yt[b]&31];for(var I=ed(O,7),U=I.t,x=I.l,S=19;S>4&&!U[Kd[S-1]];--S);var A=h+5<<3,Q=fu(i,Mo)+fu(s,Ku)+o,mt=fu(i,_)+fu(s,T)+o+14+3*S+fu(O,U)+2*O[16]+3*O[17]+7*O[18];if(u>=0&&A<=Q&&A<=mt)return Sv(t,d,e.subarray(u,u+h));var et,dt,ut,xt;if(Ts(t,d,1+(mt<Q)),d+=2,mt<Q){et=es(_,m,0),dt=_,ut=es(T,M,0),xt=T;var Pt=es(U,x,0);Ts(t,d,K-257),Ts(t,d+5,Tt-1),Ts(t,d+10,S-4),d+=14;for(var b=0;b<S;++b)Ts(t,d+3*b,U[Kd[b]]);d+=3*S;for(var $t=[k,yt],R=0;R<2;++R)for(var H=$t[R],b=0;b<H.length;++b){var J=H[b]&31;Ts(t,d,Pt[J]),d+=U[J],J>15&&(Ts(t,d,H[b]>>5&127),d+=H[b]>>12)}}else et=BS,dt=Mo,ut=US,xt=Ku;for(var b=0;b<a;++b){var st=r[b];if(st>255){var J=st>>18&31;hu(t,d,et[J+257]),d+=dt[J+257],J>7&&(Ts(t,d,st>>23&31),d+=uf[J]);var tt=st&31;hu(t,d,ut[tt]),d+=xt[tt],tt>3&&(hu(t,d,st>>5&8191),d+=cf[tt])}else hu(t,d,et[st]),d+=dt[st]}return hu(t,d,et[256]),d+dt[256]},WS=new a1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xv=new gr(0),GS=function(e,t,n,r,i,s){var o=s.z||e.length,a=new gr(r+o+5*(1+Math.ceil(o/7e3))+i),u=a.subarray(r,a.length-i),h=s.l,d=(s.r||0)&7;if(t){d&&(u[0]=s.r>>3);for(var g=WS[t-1],_=g>>13,m=g&8191,N=(1<<n)-1,T=s.p||new Zr(32768),M=s.h||new Zr(N+1),P=Math.ceil(n/3),k=2*P,K=function(it){return(e[it]^e[it+1]<<P^e[it+2]<<k)&N},Z=new a1(25e3),yt=new Zr(288),Tt=new Zr(32),O=0,b=0,I=s.i||0,U=0,x=s.w||0,S=0;I+2<o;++I){var A=K(I),Q=I&32767,mt=M[A];if(T[Q]=mt,M[A]=Q,x<=I){var et=o-I;if((O>7e3||U>24576)&&(et>423||!h)){d=Hm(e,u,0,Z,yt,Tt,b,U,S,I-S,d),U=O=b=0,S=I;for(var dt=0;dt<286;++dt)yt[dt]=0;for(var dt=0;dt<30;++dt)Tt[dt]=0}var ut=2,xt=0,Pt=m,$t=Q-mt&32767;if(et>2&&A==K(I-$t))for(var R=Math.min(_,et)-1,H=Math.min(32767,I),J=Math.min(258,et);$t<=H&&--Pt&&Q!=mt;){if(e[I+ut]==e[I+ut-$t]){for(var st=0;st<J&&e[I+st]==e[I+st-$t];++st);if(st>ut){if(ut=st,xt=$t,st>R)break;for(var tt=Math.min($t,st-2),G=0,dt=0;dt<tt;++dt){var rt=I-$t+dt&32767,nt=T[rt],It=rt-nt&32767;It>G&&(G=It,mt=rt)}}}Q=mt,mt=T[Q],$t+=Q-mt&32767}if(xt){Z[U++]=268435456|Qd[ut]<<18|zm[xt];var Nt=Qd[ut]&31,z=zm[xt]&31;b+=uf[Nt]+cf[z],++yt[257+Nt],++Tt[z],x=I+ut,++O}else Z[U++]=e[I],++yt[e[I]]}}for(I=Math.max(I,x);I<o;++I)Z[U++]=e[I],++yt[e[I]];d=Hm(e,u,h,Z,yt,Tt,b,U,S,I-S,d),h||(s.r=d&7|u[d/8|0]<<3,d-=7,s.h=M,s.p=T,s.i=I,s.w=x)}else{for(var I=s.w||0;I<o+h;I+=65535){var $=I+65535;$>=o&&(u[d/8|0]=h,$=o),d=Sv(u,d+1,e.subarray(I,$))}s.i=o}return Ev(a,0,r+l1(d)+i)},Iv=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},KS=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new gr(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return GS(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},Tv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},QS=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Iv();i.p(t.dictionary),Tv(e,2,i.d())}},YS=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&xi(6,"invalid zlib data"),(e[1]>>5&1)==1&&xi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Xd(e,t){t||(t={});var n=Iv();n.p(e);var r=KS(e,t,t.dictionary?6:2,4);return QS(r,t),Tv(r,r.length-4,n.d()),r}function JS(e,t){return HS(e.subarray(YS(e),-4),{i:2},t,t)}var XS=typeof TextDecoder<"u"&&new TextDecoder,ZS=0;try{XS.decode(xv,{stream:!0}),ZS=1}catch{}var ce=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function nd(){ce.console&&typeof ce.console.log=="function"&&ce.console.log.apply(ce.console,arguments)}var tn={log:nd,warn:function(e){ce.console&&(typeof ce.console.warn=="function"?ce.console.warn.apply(ce.console,arguments):nd.call(null,arguments))},error:function(e){ce.console&&(typeof ce.console.error=="function"?ce.console.error.apply(ce.console,arguments):nd(e))}};function rd(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){da(r.response,t,n)},r.onerror=function(){tn.error("could not download file")},r.send()}function Wm(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Oc(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ru,Zd,da=ce.saveAs||((typeof window>"u"?"undefined":Qe(window))!=="object"||window!==ce?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ce.URL||ce.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Wm(i.href)?rd(e,t,n):Oc(i,i.target="_blank"):Oc(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Oc(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Wm(e))rd(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Oc(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Qe(s)!=="object"&&(tn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return rd(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(ce.HTMLElement)||ce.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Qe(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(e)}else{var u=ce.URL||ce.webkitURL,h=u.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Pv(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+a+u+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function id(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=or(n,r,i,s,t[0],7,-680876936),s=or(s,n,r,i,t[1],12,-389564586),i=or(i,s,n,r,t[2],17,606105819),r=or(r,i,s,n,t[3],22,-1044525330),n=or(n,r,i,s,t[4],7,-176418897),s=or(s,n,r,i,t[5],12,1200080426),i=or(i,s,n,r,t[6],17,-1473231341),r=or(r,i,s,n,t[7],22,-45705983),n=or(n,r,i,s,t[8],7,1770035416),s=or(s,n,r,i,t[9],12,-1958414417),i=or(i,s,n,r,t[10],17,-42063),r=or(r,i,s,n,t[11],22,-1990404162),n=or(n,r,i,s,t[12],7,1804603682),s=or(s,n,r,i,t[13],12,-40341101),i=or(i,s,n,r,t[14],17,-1502002290),n=ar(n,r=or(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=ar(s,n,r,i,t[6],9,-1069501632),i=ar(i,s,n,r,t[11],14,643717713),r=ar(r,i,s,n,t[0],20,-373897302),n=ar(n,r,i,s,t[5],5,-701558691),s=ar(s,n,r,i,t[10],9,38016083),i=ar(i,s,n,r,t[15],14,-660478335),r=ar(r,i,s,n,t[4],20,-405537848),n=ar(n,r,i,s,t[9],5,568446438),s=ar(s,n,r,i,t[14],9,-1019803690),i=ar(i,s,n,r,t[3],14,-187363961),r=ar(r,i,s,n,t[8],20,1163531501),n=ar(n,r,i,s,t[13],5,-1444681467),s=ar(s,n,r,i,t[2],9,-51403784),i=ar(i,s,n,r,t[7],14,1735328473),n=lr(n,r=ar(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=lr(s,n,r,i,t[8],11,-2022574463),i=lr(i,s,n,r,t[11],16,1839030562),r=lr(r,i,s,n,t[14],23,-35309556),n=lr(n,r,i,s,t[1],4,-1530992060),s=lr(s,n,r,i,t[4],11,1272893353),i=lr(i,s,n,r,t[7],16,-155497632),r=lr(r,i,s,n,t[10],23,-1094730640),n=lr(n,r,i,s,t[13],4,681279174),s=lr(s,n,r,i,t[0],11,-358537222),i=lr(i,s,n,r,t[3],16,-722521979),r=lr(r,i,s,n,t[6],23,76029189),n=lr(n,r,i,s,t[9],4,-640364487),s=lr(s,n,r,i,t[12],11,-421815835),i=lr(i,s,n,r,t[15],16,530742520),n=ur(n,r=lr(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=ur(s,n,r,i,t[7],10,1126891415),i=ur(i,s,n,r,t[14],15,-1416354905),r=ur(r,i,s,n,t[5],21,-57434055),n=ur(n,r,i,s,t[12],6,1700485571),s=ur(s,n,r,i,t[3],10,-1894986606),i=ur(i,s,n,r,t[10],15,-1051523),r=ur(r,i,s,n,t[1],21,-2054922799),n=ur(n,r,i,s,t[8],6,1873313359),s=ur(s,n,r,i,t[15],10,-30611744),i=ur(i,s,n,r,t[6],15,-1560198380),r=ur(r,i,s,n,t[13],21,1309151649),n=ur(n,r,i,s,t[4],6,-145523070),s=ur(s,n,r,i,t[11],10,-1120210379),i=ur(i,s,n,r,t[2],15,718787259),r=ur(r,i,s,n,t[9],21,-343485551),e[0]=So(n,e[0]),e[1]=So(r,e[1]),e[2]=So(i,e[2]),e[3]=So(s,e[3])}function hf(e,t,n,r,i,s){return t=So(So(t,e),So(r,s)),So(t<<i|t>>>32-i,n)}function or(e,t,n,r,i,s,o){return hf(t&n|~t&r,e,t,i,s,o)}function ar(e,t,n,r,i,s,o){return hf(t&r|n&~r,e,t,i,s,o)}function lr(e,t,n,r,i,s,o){return hf(t^n^r,e,t,i,s,o)}function ur(e,t,n,r,i,s,o){return hf(n^(t|~r),e,t,i,s,o)}function Nv(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)id(r,tx(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(id(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,id(r,i),r}function tx(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Ru=ce.atob.bind(ce),Zd=ce.btoa.bind(ce);var Gm="0123456789abcdef".split("");function ex(e){for(var t="",n=0;n<4;n++)t+=Gm[e>>8*n+4&15]+Gm[e>>8*n&15];return t}function nx(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function tp(e){return Nv(e).map(nx).join("")}var rx=function(e){for(var t=0;t<e.length;t++)e[t]=ex(e[t]);return e.join("")}(Nv("hello"))!="5d41402abc4b2a76b9719d911017c592";function So(e,t){if(rx){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ep(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],u=0;u<256;u++)a[u]=u;var h=0;for(u=0;u<256;u++){var d=a[u];h=(h+d+o.charCodeAt(u))%256,a[u]=a[h],a[h]=d}n=e,r=a}else a=r;var g=t.length,_=0,m=0,N="";for(u=0;u<g;u++)m=(m+(d=a[_=(_+1)%256]))%256,a[_]=a[m],a[m]=d,o=a[(a[_]+a[m])%256],N+=String.fromCharCode(t.charCodeAt(u)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Km={print:4,modify:8,copy:16,"annot-forms":32};function ol(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(Km.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Km[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=tp(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ep(this.encryptionKey,this.padding)}function al(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function Qm(e){if(Qe(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){ce.console&&tn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ph(e){if(!(this instanceof Ph))return new Ph(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Lv(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ga(e,t,n,r,i){if(!(this instanceof ga))return new ga(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Lv.call(this,r,i)}function cl(e,t,n,r,i){if(!(this instanceof cl))return new cl(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Lv.call(this,r,i)}function ue(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,u=16,h="S",d=null;Qe(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),h=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,_={},m={internal:{},__private__:{}};m.__private__.PubSub=Qm;var N="1.3",T=m.__private__.getPdfVersion=function(){return N};m.__private__.setPdfVersion=function(p){N=p};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return M};var P=m.__private__.getPageFormat=function(p){return M[p]};i=i||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},K=k.COMPAT;function Z(){this.saveGraphicsState(),j(new te(Gt,0,0,-Gt,0,ir()*Gt).toString()+" cm"),this.setFontSize(this.getFontSize()/Gt),h="n",K=k.ADVANCED}function yt(){this.restoreGraphicsState(),h="S",K=k.COMPAT}var Tt=m.__private__.combineFontStyleAndFontWeight=function(p,L){if(p=="bold"&&L=="normal"||p=="bold"&&L==400||p=="normal"&&L=="italic"||p=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(p=L==400||L==="normal"?p==="italic"?"italic":"normal":L!=700&&L!=="bold"||p!=="normal"?(L==700?"bold":L)+""+p:"bold"),p};m.advancedAPI=function(p){var L=K===k.COMPAT;return L&&Z.call(this),typeof p!="function"||(p(this),L&&yt.call(this)),this},m.compatAPI=function(p){var L=K===k.ADVANCED;return L&&yt.call(this),typeof p!="function"||(p(this),L&&Z.call(this)),this},m.isAdvancedAPI=function(){return K===k.ADVANCED};var O,b=function(p){if(K!==k.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=m.roundToPrecision=m.__private__.roundToPrecision=function(p,L){var Y=t||L;if(isNaN(p)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(Y).replace(/0+$/,"")};O=m.hpf=m.__private__.hpf=typeof u=="number"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return I(p,u)}:u==="smart"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return I(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return I(p,16)};var U=m.f2=m.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return I(p,2)},x=m.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return I(p,3)},S=m.scale=m.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return K===k.COMPAT?p*Gt:K===k.ADVANCED?p:void 0},A=function(p){return K===k.COMPAT?ir()-p:K===k.ADVANCED?p:void 0},Q=function(p){return S(A(p))};m.__private__.setPrecision=m.setPrecision=function(p){typeof parseInt(p,10)=="number"&&(t=parseInt(p,10))};var mt,et="00000000000000000000000000000000",dt=m.__private__.getFileId=function(){return et},ut=m.__private__.setFileId=function(p){return et=p!==void 0&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():et.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(cn=new ol(d.userPermissions,d.userPassword,d.ownerPassword,et)),et};m.setFileId=function(p){return ut(p),this},m.getFileId=function(){return dt()};var xt=m.__private__.convertDateToPDFDate=function(p){var L=p.getTimezoneOffset(),Y=L<0?"+":"-",ot=Math.floor(Math.abs(L/60)),pt=Math.abs(L%60),Rt=[Y,J(ot),"'",J(pt),"'"].join("");return["D:",p.getFullYear(),J(p.getMonth()+1),J(p.getDate()),J(p.getHours()),J(p.getMinutes()),J(p.getSeconds()),Rt].join("")},Pt=m.__private__.convertPDFDateToDate=function(p){var L=parseInt(p.substr(2,4),10),Y=parseInt(p.substr(6,2),10)-1,ot=parseInt(p.substr(8,2),10),pt=parseInt(p.substr(10,2),10),Rt=parseInt(p.substr(12,2),10),Bt=parseInt(p.substr(14,2),10);return new Date(L,Y,ot,pt,Rt,Bt,0)},$t=m.__private__.setCreationDate=function(p){var L;if(p===void 0&&(p=new Date),p instanceof Date)L=xt(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=p}return mt=L},R=m.__private__.getCreationDate=function(p){var L=mt;return p==="jsDate"&&(L=Pt(mt)),L};m.setCreationDate=function(p){return $t(p),this},m.getCreationDate=function(p){return R(p)};var H,J=m.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},st=m.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},tt=0,G=[],rt=[],nt=0,It=[],Nt=[],z=!1,$=rt,it=function(){tt=0,nt=0,rt=[],G=[],It=[],fi=gn(),rr=gn()};m.__private__.setCustomOutputDestination=function(p){z=!0,$=p};var X=function(p){z||($=p)};m.__private__.resetCustomOutputDestination=function(){z=!1,$=rt};var j=m.__private__.out=function(p){return p=p.toString(),nt+=p.length+1,$.push(p),$},bt=m.__private__.write=function(p){return j(arguments.length===1?p.toString():Array.prototype.join.call(arguments," "))},Lt=m.__private__.getArrayBuffer=function(p){for(var L=p.length,Y=new ArrayBuffer(L),ot=new Uint8Array(Y);L--;)ot[L]=p.charCodeAt(L);return Y},vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return vt};var wt=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(p){return wt=K===k.ADVANCED?p/Gt:p,this};var _t,Dt=m.__private__.getFontSize=m.getFontSize=function(){return K===k.COMPAT?wt:wt*Gt},kt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(p){return kt=p,this},m.__private__.getR2L=m.getR2L=function(){return kt};var Ut,Ht=m.__private__.setZoomMode=function(p){var L=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))_t=p;else if(isNaN(p)){if(L.indexOf(p)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');_t=p}else _t=parseInt(p,10)};m.__private__.getZoomMode=function(){return _t};var Wt,Yt=m.__private__.setPageMode=function(p){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');Ut=p};m.__private__.getPageMode=function(){return Ut};var re=m.__private__.setLayoutMode=function(p){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');Wt=p};m.__private__.getLayoutMode=function(){return Wt},m.__private__.setDisplayMode=m.setDisplayMode=function(p,L,Y){return Ht(p),re(L),Yt(Y),this};var ee={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(p){if(Object.keys(ee).indexOf(p)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ee[p]},m.__private__.getDocumentProperties=function(){return ee},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(p){for(var L in ee)ee.hasOwnProperty(L)&&p[L]&&(ee[L]=p[L]);return this},m.__private__.setDocumentProperty=function(p,L){if(Object.keys(ee).indexOf(p)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ee[p]=L};var se,Gt,Re,Ae,Hn,pe={},Se={},yr=[],Pe={},Ci={},ln={},Wn={},Vr=null,nn=0,oe=[],ke=new Qm(m),ei=e.hotfixes||[],Nn={},er={},jr=[],te=function p(L,Y,ot,pt,Rt,Bt){if(!(this instanceof p))return new p(L,Y,ot,pt,Rt,Bt);isNaN(L)&&(L=1),isNaN(Y)&&(Y=0),isNaN(ot)&&(ot=0),isNaN(pt)&&(pt=1),isNaN(Rt)&&(Rt=0),isNaN(Bt)&&(Bt=0),this._matrix=[L,Y,ot,pt,Rt,Bt]};Object.defineProperty(te.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(te.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(te.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(te.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(te.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(te.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(te.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(te.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(te.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(te.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(te.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(te.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(te.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(te.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(te.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(te.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),te.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(p)},te.prototype.multiply=function(p){var L=p.sx*this.sx+p.shy*this.shx,Y=p.sx*this.shy+p.shy*this.sy,ot=p.shx*this.sx+p.sy*this.shx,pt=p.shx*this.shy+p.sy*this.sy,Rt=p.tx*this.sx+p.ty*this.shx+this.tx,Bt=p.tx*this.shy+p.ty*this.sy+this.ty;return new te(L,Y,ot,pt,Rt,Bt)},te.prototype.decompose=function(){var p=this.sx,L=this.shy,Y=this.shx,ot=this.sy,pt=this.tx,Rt=this.ty,Bt=Math.sqrt(p*p+L*L),Qt=(p/=Bt)*Y+(L/=Bt)*ot;Y-=p*Qt,ot-=L*Qt;var c=Math.sqrt(Y*Y+ot*ot);return Qt/=c,p*(ot/=c)<L*(Y/=c)&&(p=-p,L=-L,Qt=-Qt,Bt=-Bt),{scale:new te(Bt,0,0,c,0,0),translate:new te(1,0,0,1,pt,Rt),rotate:new te(p,L,-L,p,0,0),skew:new te(1,0,Qt,1,0,0)}},te.prototype.toString=function(p){return this.join(" ")},te.prototype.inversed=function(){var p=this.sx,L=this.shy,Y=this.shx,ot=this.sy,pt=this.tx,Rt=this.ty,Bt=1/(p*ot-L*Y),Qt=ot*Bt,c=-L*Bt,y=-Y*Bt,E=p*Bt;return new te(Qt,c,y,E,-Qt*pt-y*Rt,-c*pt-E*Rt)},te.prototype.applyToPoint=function(p){var L=p.x*this.sx+p.y*this.shx+this.tx,Y=p.x*this.shy+p.y*this.sy+this.ty;return new ms(L,Y)},te.prototype.applyToRectangle=function(p){var L=this.applyToPoint(p),Y=this.applyToPoint(new ms(p.x+p.w,p.y+p.h));return new to(L.x,L.y,Y.x-L.x,Y.y-L.y)},te.prototype.clone=function(){var p=this.sx,L=this.shy,Y=this.shx,ot=this.sy,pt=this.tx,Rt=this.ty;return new te(p,L,Y,ot,pt,Rt)},m.Matrix=te;var Pr=m.matrixMult=function(p,L){return L.multiply(p)},nr=new te(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=nr;var Ln=function(p,L){if(!Ci[p]){var Y=(L instanceof ga?"Sh":"P")+(Object.keys(Pe).length+1).toString(10);L.id=Y,Ci[p]=Y,Pe[Y]=L,ke.publish("addPattern",L)}};m.ShadingPattern=ga,m.TilingPattern=cl,m.addShadingPattern=function(p,L){return b("addShadingPattern()"),Ln(p,L),this},m.beginTilingPattern=function(p){b("beginTilingPattern()"),eo(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},m.endTilingPattern=function(p,L){b("endTilingPattern()"),L.stream=Nt[H].join(`
`),Ln(p,L),ke.publish("endTilingPattern",L),jr.pop().restore()};var _n=m.__private__.newObject=function(){var p=gn();return Cn(p,!0),p},gn=m.__private__.newObjectDeferred=function(){return tt++,G[tt]=function(){return nt},tt},Cn=function(p,L){return L=typeof L=="boolean"&&L,G[p]=nt,L&&j(p+" 0 obj"),p},Bs=m.__private__.newAdditionalObject=function(){var p={objId:gn(),content:""};return It.push(p),p},fi=gn(),rr=gn(),Nr=m.__private__.decodeColorString=function(p){var L=p.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length===5&&(L[4]==="k"||L[4]==="K")&&(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var Y=parseFloat(L[0]);L=[Y,Y,Y,"r"]}for(var ot="#",pt=0;pt<3;pt++)ot+=("0"+Math.floor(255*parseFloat(L[pt])).toString(16)).slice(-2);return ot},_r=m.__private__.encodeColorString=function(p){var L;typeof p=="string"&&(p={ch1:p});var Y=p.ch1,ot=p.ch2,pt=p.ch3,Rt=p.ch4,Bt=p.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var Qt=new Pv(Y);if(Qt.ok)Y=Qt.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var c=parseInt(Y.substr(1),16);Y=c>>16&255,ot=c>>8&255,pt=255&c}if(ot===void 0||Rt===void 0&&Y===ot&&ot===pt)if(typeof Y=="string")L=Y+" "+Bt[0];else switch(p.precision){case 2:L=U(Y/255)+" "+Bt[0];break;case 3:default:L=x(Y/255)+" "+Bt[0]}else if(Rt===void 0||Qe(Rt)==="object"){if(Rt&&!isNaN(Rt.a)&&Rt.a===0)return L=["1.","1.","1.",Bt[1]].join(" ");if(typeof Y=="string")L=[Y,ot,pt,Bt[1]].join(" ");else switch(p.precision){case 2:L=[U(Y/255),U(ot/255),U(pt/255),Bt[1]].join(" ");break;default:case 3:L=[x(Y/255),x(ot/255),x(pt/255),Bt[1]].join(" ")}}else if(typeof Y=="string")L=[Y,ot,pt,Rt,Bt[2]].join(" ");else switch(p.precision){case 2:L=[U(Y),U(ot),U(pt),U(Rt),Bt[2]].join(" ");break;case 3:default:L=[x(Y),x(ot),x(pt),x(Rt),Bt[2]].join(" ")}return L},br=m.__private__.getFilters=function(){return o},bn=m.__private__.putStream=function(p){var L=(p=p||{}).data||"",Y=p.filters||br(),ot=p.alreadyAppliedFilters||[],pt=p.addLength1||!1,Rt=L.length,Bt=p.objectId,Qt=function(me){return me};if(d!==null&&Bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Qt=cn.encryptor(Bt,0));var c={};Y===!0&&(Y=["FlateEncode"]);var y=p.additionalKeyValues||[],E=(c=ue.API.processDataByFilters!==void 0?ue.API.processDataByFilters(L,Y):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(ot)?ot.join(" "):ot.toString());if(c.data.length!==0&&(y.push({key:"Length",value:c.data.length}),pt===!0&&y.push({key:"Length1",value:Rt})),E.length!=0)if(E.split("/").length-1==1)y.push({key:"Filter",value:E});else{y.push({key:"Filter",value:"["+E+"]"});for(var V=0;V<y.length;V+=1)if(y[V].key==="DecodeParms"){for(var ft=[],St=0;St<c.reverseChain.split("/").length-1;St+=1)ft.push("null");ft.push(y[V].value),y[V].value="["+ft.join(" ")+"]"}}j("<<");for(var qt=0;qt<y.length;qt++)j("/"+y[qt].key+" "+y[qt].value);j(">>"),c.data.length!==0&&(j("stream"),j(Qt(c.data)),j("endstream"))},Br=m.__private__.putPage=function(p){var L=p.number,Y=p.data,ot=p.objId,pt=p.contentsObjId;Cn(ot,!0),j("<</Type /Page"),j("/Parent "+p.rootDictionaryObjId+" 0 R"),j("/Resources "+p.resourceDictionaryObjId+" 0 R"),j("/MediaBox ["+parseFloat(O(p.mediaBox.bottomLeftX))+" "+parseFloat(O(p.mediaBox.bottomLeftY))+" "+O(p.mediaBox.topRightX)+" "+O(p.mediaBox.topRightY)+"]"),p.cropBox!==null&&j("/CropBox ["+O(p.cropBox.bottomLeftX)+" "+O(p.cropBox.bottomLeftY)+" "+O(p.cropBox.topRightX)+" "+O(p.cropBox.topRightY)+"]"),p.bleedBox!==null&&j("/BleedBox ["+O(p.bleedBox.bottomLeftX)+" "+O(p.bleedBox.bottomLeftY)+" "+O(p.bleedBox.topRightX)+" "+O(p.bleedBox.topRightY)+"]"),p.trimBox!==null&&j("/TrimBox ["+O(p.trimBox.bottomLeftX)+" "+O(p.trimBox.bottomLeftY)+" "+O(p.trimBox.topRightX)+" "+O(p.trimBox.topRightY)+"]"),p.artBox!==null&&j("/ArtBox ["+O(p.artBox.bottomLeftX)+" "+O(p.artBox.bottomLeftY)+" "+O(p.artBox.topRightX)+" "+O(p.artBox.topRightY)+"]"),typeof p.userUnit=="number"&&p.userUnit!==1&&j("/UserUnit "+p.userUnit),ke.publish("putPage",{objId:ot,pageContext:oe[L],pageNumber:L,page:Y}),j("/Contents "+pt+" 0 R"),j(">>"),j("endobj");var Rt=Y.join(`
`);return K===k.ADVANCED&&(Rt+=`
Q`),Cn(pt,!0),bn({data:Rt,filters:br(),objectId:pt}),j("endobj"),ot},Ri=m.__private__.putPages=function(){var p,L,Y=[];for(p=1;p<=nn;p++)oe[p].objId=gn(),oe[p].contentsObjId=gn();for(p=1;p<=nn;p++)Y.push(Br({number:p,data:Nt[p],objId:oe[p].objId,contentsObjId:oe[p].contentsObjId,mediaBox:oe[p].mediaBox,cropBox:oe[p].cropBox,bleedBox:oe[p].bleedBox,trimBox:oe[p].trimBox,artBox:oe[p].artBox,userUnit:oe[p].userUnit,rootDictionaryObjId:fi,resourceDictionaryObjId:rr}));Cn(fi,!0),j("<</Type /Pages");var ot="/Kids [";for(L=0;L<nn;L++)ot+=Y[L]+" 0 R ";j(ot+"]"),j("/Count "+nn),j(">>"),j("endobj"),ke.publish("postPutPages")},ki=function(p){ke.publish("putFont",{font:p,out:j,newObject:_n,putStream:bn}),p.isAlreadyPutted!==!0&&(p.objectNumber=_n(),j("<<"),j("/Type /Font"),j("/BaseFont /"+al(p.postScriptName)),j("/Subtype /Type1"),typeof p.encoding=="string"&&j("/Encoding /"+p.encoding),j("/FirstChar 32"),j("/LastChar 255"),j(">>"),j("endobj"))},Di=function(){for(var p in pe)pe.hasOwnProperty(p)&&(g===!1||g===!0&&_.hasOwnProperty(p))&&ki(pe[p])},as=function(p){p.objectNumber=_n();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[O(p.x),O(p.y),O(p.x+p.width),O(p.y+p.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var Y=p.pages[1].join(`
`);bn({data:Y,additionalKeyValues:L,objectId:p.objectNumber}),j("endobj")},ls=function(){for(var p in Nn)Nn.hasOwnProperty(p)&&as(Nn[p])},Ta=function(p,L){var Y,ot=[],pt=1/(L-1);for(Y=0;Y<1;Y+=pt)ot.push(Y);if(ot.push(1),p[0].offset!=0){var Rt={offset:0,color:p[0].color};p.unshift(Rt)}if(p[p.length-1].offset!=1){var Bt={offset:1,color:p[p.length-1].color};p.push(Bt)}for(var Qt="",c=0,y=0;y<ot.length;y++){for(Y=ot[y];Y>p[c+1].offset;)c++;var E=p[c].offset,V=(Y-E)/(p[c+1].offset-E),ft=p[c].color,St=p[c+1].color;Qt+=st(Math.round((1-V)*ft[0]+V*St[0]).toString(16))+st(Math.round((1-V)*ft[1]+V*St[1]).toString(16))+st(Math.round((1-V)*ft[2]+V*St[2]).toString(16))}return Qt.trim()},qs=function(p,L){L||(L=21);var Y=_n(),ot=Ta(p.colors,L),pt=[];pt.push({key:"FunctionType",value:"0"}),pt.push({key:"Domain",value:"[0.0 1.0]"}),pt.push({key:"Size",value:"["+L+"]"}),pt.push({key:"BitsPerSample",value:"8"}),pt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bn({data:ot,additionalKeyValues:pt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),j("endobj"),p.objectNumber=_n(),j("<< /ShadingType "+p.type),j("/ColorSpace /DeviceRGB");var Rt="/Coords ["+O(parseFloat(p.coords[0]))+" "+O(parseFloat(p.coords[1]))+" ";p.type===2?Rt+=O(parseFloat(p.coords[2]))+" "+O(parseFloat(p.coords[3])):Rt+=O(parseFloat(p.coords[2]))+" "+O(parseFloat(p.coords[3]))+" "+O(parseFloat(p.coords[4]))+" "+O(parseFloat(p.coords[5])),j(Rt+="]"),p.matrix&&j("/Matrix ["+p.matrix.toString()+"]"),j("/Function "+Y+" 0 R"),j("/Extend [true true]"),j(">>"),j("endobj")},Pa=function(p,L){var Y=gn(),ot=_n();L.push({resourcesOid:Y,objectOid:ot}),p.objectNumber=ot;var pt=[];pt.push({key:"Type",value:"/Pattern"}),pt.push({key:"PatternType",value:"1"}),pt.push({key:"PaintType",value:"1"}),pt.push({key:"TilingType",value:"1"}),pt.push({key:"BBox",value:"["+p.boundingBox.map(O).join(" ")+"]"}),pt.push({key:"XStep",value:O(p.xStep)}),pt.push({key:"YStep",value:O(p.yStep)}),pt.push({key:"Resources",value:Y+" 0 R"}),p.matrix&&pt.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),bn({data:p.stream,additionalKeyValues:pt,objectId:p.objectNumber}),j("endobj")},Oi=function(p){var L;for(L in Pe)Pe.hasOwnProperty(L)&&(Pe[L]instanceof ga?qs(Pe[L]):Pe[L]instanceof cl&&Pa(Pe[L],p))},Fi=function(p){for(var L in p.objectNumber=_n(),j("<<"),p)switch(L){case"opacity":j("/ca "+U(p[L]));break;case"stroke-opacity":j("/CA "+U(p[L]))}j(">>"),j("endobj")},di=function(){var p;for(p in ln)ln.hasOwnProperty(p)&&Fi(ln[p])},us=function(){for(var p in j("/XObject <<"),Nn)Nn.hasOwnProperty(p)&&Nn[p].objectNumber>=0&&j("/"+p+" "+Nn[p].objectNumber+" 0 R");ke.publish("putXobjectDict"),j(">>")},zl=function(){cn.oid=_n(),j("<<"),j("/Filter /Standard"),j("/V "+cn.v),j("/R "+cn.r),j("/U <"+cn.toHexString(cn.U)+">"),j("/O <"+cn.toHexString(cn.O)+">"),j("/P "+cn.P),j(">>"),j("endobj")},zo=function(){for(var p in j("/Font <<"),pe)pe.hasOwnProperty(p)&&(g===!1||g===!0&&_.hasOwnProperty(p))&&j("/"+p+" "+pe[p].objectNumber+" 0 R");j(">>")},Na=function(){if(Object.keys(Pe).length>0){for(var p in j("/Shading <<"),Pe)Pe.hasOwnProperty(p)&&Pe[p]instanceof ga&&Pe[p].objectNumber>=0&&j("/"+p+" "+Pe[p].objectNumber+" 0 R");ke.publish("putShadingPatternDict"),j(">>")}},cs=function(p){if(Object.keys(Pe).length>0){for(var L in j("/Pattern <<"),Pe)Pe.hasOwnProperty(L)&&Pe[L]instanceof m.TilingPattern&&Pe[L].objectNumber>=0&&Pe[L].objectNumber<p&&j("/"+L+" "+Pe[L].objectNumber+" 0 R");ke.publish("putTilingPatternDict"),j(">>")}},$o=function(){if(Object.keys(ln).length>0){var p;for(p in j("/ExtGState <<"),ln)ln.hasOwnProperty(p)&&ln[p].objectNumber>=0&&j("/"+p+" "+ln[p].objectNumber+" 0 R");ke.publish("putGStateDict"),j(">>")}},un=function(p){Cn(p.resourcesOid,!0),j("<<"),j("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),zo(),Na(),cs(p.objectOid),$o(),us(),j(">>"),j("endobj")},Ho=function(){var p=[];Di(),di(),ls(),Oi(p),ke.publish("putResources"),p.forEach(un),un({resourcesOid:rr,objectOid:Number.MAX_SAFE_INTEGER}),ke.publish("postPutResources")},Wo=function(){ke.publish("putAdditionalObjects");for(var p=0;p<It.length;p++){var L=It[p];Cn(L.objId,!0),j(L.content),j("endobj")}ke.publish("postPutAdditionalObjects")},La=function(p){Se[p.fontName]=Se[p.fontName]||{},Se[p.fontName][p.fontStyle]=p.id},Go=function(p,L,Y,ot,pt){var Rt={id:"F"+(Object.keys(pe).length+1).toString(10),postScriptName:p,fontName:L,fontStyle:Y,encoding:ot,isStandardFont:pt||!1,metadata:{}};return ke.publish("addFont",{font:Rt,instance:this}),pe[Rt.id]=Rt,La(Rt),Rt.id},Ca=function(p){for(var L=0,Y=vt.length;L<Y;L++){var ot=Go.call(this,p[L][0],p[L][1],p[L][2],vt[L][3],!0);g===!1&&(_[ot]=!0);var pt=p[L][0].split("-");La({id:ot,fontName:pt[0],fontStyle:pt[1]||""})}ke.publish("addFonts",{fonts:pe,dictionary:Se})},Lr=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(ot){var L=ot.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var Y="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ot.message;if(!ce.console)throw new Error(Y);ce.console.error(Y,ot),ce.alert&&alert(Y)}},p.foo.bar=p,p.foo},Us=function(p,L){var Y,ot,pt,Rt,Bt,Qt,c,y,E;if(pt=(L=L||{}).sourceEncoding||"Unicode",Bt=L.outputEncoding,(L.autoencode||Bt)&&pe[se].metadata&&pe[se].metadata[pt]&&pe[se].metadata[pt].encoding&&(Rt=pe[se].metadata[pt].encoding,!Bt&&pe[se].encoding&&(Bt=pe[se].encoding),!Bt&&Rt.codePages&&(Bt=Rt.codePages[0]),typeof Bt=="string"&&(Bt=Rt[Bt]),Bt)){for(c=!1,Qt=[],Y=0,ot=p.length;Y<ot;Y++)(y=Bt[p.charCodeAt(Y)])?Qt.push(String.fromCharCode(y)):Qt.push(p[Y]),Qt[Y].charCodeAt(0)>>8&&(c=!0);p=Qt.join("")}for(Y=p.length;c===void 0&&Y!==0;)p.charCodeAt(Y-1)>>8&&(c=!0),Y--;if(!c)return p;for(Qt=L.noBOM?[]:[254,255],Y=0,ot=p.length;Y<ot;Y++){if((E=(y=p.charCodeAt(Y))>>8)>>8)throw new Error("Character at position "+Y+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qt.push(E),Qt.push(y-(E<<8))}return String.fromCharCode.apply(void 0,Qt)},mn=m.__private__.pdfEscape=m.pdfEscape=function(p,L){return Us(p,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wr=m.__private__.beginPage=function(p){Nt[++nn]=[],oe[nn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},Ko(nn),X(Nt[H])},hs=function(p,L){var Y,ot,pt;switch(n=L||n,typeof p=="string"&&(Y=P(p.toLowerCase()),Array.isArray(Y)&&(ot=Y[0],pt=Y[1])),Array.isArray(p)&&(ot=p[0]*Gt,pt=p[1]*Gt),isNaN(ot)&&(ot=i[0],pt=i[1]),(ot>14400||pt>14400)&&(tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ot=Math.min(14400,ot),pt=Math.min(14400,pt)),i=[ot,pt],n.substr(0,1)){case"l":pt>ot&&(i=[pt,ot]);break;case"p":ot>pt&&(i=[pt,ot])}wr(i),Zo(Xo),j(Gn),na!==0&&j(na+" J"),Zs!==0&&j(Zs+" j"),ke.publish("addPage",{pageNumber:nn})},zs=function(p){p>0&&p<=nn&&(Nt.splice(p,1),oe.splice(p,1),nn--,H>nn&&(H=nn),this.setPage(H))},Ko=function(p){p>0&&p<=nn&&(H=p)},We=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Nt.length-1},fs=function(p,L,Y){var ot,pt=void 0;return Y=Y||{},p=p!==void 0?p:pe[se].fontName,L=L!==void 0?L:pe[se].fontStyle,ot=p.toLowerCase(),Se[ot]!==void 0&&Se[ot][L]!==void 0?pt=Se[ot][L]:Se[p]!==void 0&&Se[p][L]!==void 0?pt=Se[p][L]:Y.disableWarning===!1&&tn.warn("Unable to look up font label for font '"+p+"', '"+L+"'. Refer to getFontList() for available fonts."),pt||Y.noFallback||(pt=Se.times[L])==null&&(pt=Se.times.normal),pt},ds=m.__private__.putInfo=function(){var p=_n(),L=function(ot){return ot};for(var Y in d!==null&&(L=cn.encryptor(p,0)),j("<<"),j("/Producer ("+mn(L("jsPDF "+ue.version))+")"),ee)ee.hasOwnProperty(Y)&&ee[Y]&&j("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+mn(L(ee[Y]))+")");j("/CreationDate ("+mn(L(mt))+")"),j(">>"),j("endobj")},pi=m.__private__.putCatalog=function(p){var L=(p=p||{}).rootDictionaryObjId||fi;switch(_n(),j("<<"),j("/Type /Catalog"),j("/Pages "+L+" 0 R"),_t||(_t="fullwidth"),_t){case"fullwidth":j("/OpenAction [3 0 R /FitH null]");break;case"fullheight":j("/OpenAction [3 0 R /FitV null]");break;case"fullpage":j("/OpenAction [3 0 R /Fit]");break;case"original":j("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+_t;Y.substr(Y.length-1)==="%"&&(_t=parseInt(_t)/100),typeof _t=="number"&&j("/OpenAction [3 0 R /XYZ null null "+U(_t)+"]")}switch(Wt||(Wt="continuous"),Wt){case"continuous":j("/PageLayout /OneColumn");break;case"single":j("/PageLayout /SinglePage");break;case"two":case"twoleft":j("/PageLayout /TwoColumnLeft");break;case"tworight":j("/PageLayout /TwoColumnRight")}Ut&&j("/PageMode /"+Ut),ke.publish("putCatalog"),j(">>"),j("endobj")},$l=m.__private__.putTrailer=function(){j("trailer"),j("<<"),j("/Size "+(tt+1)),j("/Root "+tt+" 0 R"),j("/Info "+(tt-1)+" 0 R"),d!==null&&j("/Encrypt "+cn.oid+" 0 R"),j("/ID [ <"+et+"> <"+et+"> ]"),j(">>")},Ra=m.__private__.putHeader=function(){j("%PDF-"+N),j("%ºß¬à")},Hl=m.__private__.putXRef=function(){var p="0000000000";j("xref"),j("0 "+(tt+1)),j("0000000000 65535 f ");for(var L=1;L<=tt;L++)typeof G[L]=="function"?j((p+G[L]()).slice(-10)+" 00000 n "):G[L]!==void 0?j((p+G[L]).slice(-10)+" 00000 n "):j("0000000000 00000 n ")},gi=m.__private__.buildDocument=function(){it(),X(rt),ke.publish("buildDocument"),Ra(),Ri(),Wo(),Ho(),d!==null&&zl(),ds(),pi();var p=nt;return Hl(),$l(),j("startxref"),j(""+p),j("%%EOF"),X(Nt[H]),rt.join(`
`)},$s=m.__private__.getBlob=function(p){return new Blob([Lt(p)],{type:"application/pdf"})},Hs=m.output=m.__private__.output=Lr(function(p,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",p){case void 0:return gi();case"save":m.save(L.filename);break;case"arraybuffer":return Lt(gi());case"blob":return $s(gi());case"bloburi":case"bloburl":if(ce.URL!==void 0&&typeof ce.URL.createObjectURL=="function")return ce.URL&&ce.URL.createObjectURL($s(gi()))||void 0;tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",ot=gi();try{Y=Zd(ot)}catch{Y=Zd(unescape(encodeURIComponent(ot)))}return"data:application/pdf;filename="+L.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ce)==="[object Window]"){var pt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(pt=L.pdfObjectUrl,Rt="");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pt+'"'+Rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",Qt=ce.open();return Qt!==null&&Qt.document.write(Bt),Qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ce)==="[object Window]"){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',y=ce.open();if(y!==null){y.document.write(c);var E=this;y.document.documentElement.querySelector("#pdfViewer").onload=function(){y.document.title=L.filename,y.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(E.output("bloburl"))}}return y}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ce)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var V='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',ft=ce.open();if(ft!==null&&(ft.document.write(V),ft.document.title=L.filename),ft||typeof safari>"u")return ft;break;case"datauri":case"dataurl":return ce.document.location.href=this.output("datauristring",L);default:return null}}),Mi=function(p){return Array.isArray(ei)===!0&&ei.indexOf(p)>-1};switch(r){case"pt":Gt=1;break;case"mm":Gt=72/25.4;break;case"cm":Gt=72/2.54;break;case"in":Gt=72;break;case"px":Gt=Mi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Gt=12;break;case"ex":Gt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Gt=r}var cn=null;$t(),ut();var ka=function(p){return d!==null?cn.encryptor(p,0):function(L){return L}},Qo=m.__private__.getPageInfo=m.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:oe[p].objId,pageNumber:p,pageContext:oe[p]}},fe=m.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in oe)if(oe[L].objId===p)break;return Qo(L)},Vi=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:oe[H].objId,pageNumber:H,pageContext:oe[H]}};m.addPage=function(){return hs.apply(this,arguments),this},m.setPage=function(){return Ko.apply(this,arguments),X.call(this,Nt[H]),this},m.insertPage=function(p){return this.addPage(),this.movePage(H,p),this},m.movePage=function(p,L){var Y,ot;if(p>L){Y=Nt[p],ot=oe[p];for(var pt=p;pt>L;pt--)Nt[pt]=Nt[pt-1],oe[pt]=oe[pt-1];Nt[L]=Y,oe[L]=ot,this.setPage(L)}else if(p<L){Y=Nt[p],ot=oe[p];for(var Rt=p;Rt<L;Rt++)Nt[Rt]=Nt[Rt+1],oe[Rt]=oe[Rt+1];Nt[L]=Y,oe[L]=ot,this.setPage(L)}return this},m.deletePage=function(){return zs.apply(this,arguments),this},m.__private__.text=m.text=function(p,L,Y,ot,pt){var Rt,Bt,Qt,c,y,E,V,ft,St,qt=(ot=ot||{}).scope||this;if(typeof p=="number"&&typeof L=="number"&&(typeof Y=="string"||Array.isArray(Y))){var me=Y;Y=L,L=p,p=me}if(arguments[3]instanceof te?(b("The transform parameter of text() with a Matrix value"),St=pt):(Qt=arguments[4],c=arguments[5],Qe(V=arguments[3])==="object"&&V!==null||(typeof Qt=="string"&&(c=Qt,Qt=null),typeof V=="string"&&(c=V,V=null),typeof V=="number"&&(Qt=V,V=null),ot={flags:V,angle:Qt,align:c})),isNaN(L)||isNaN(Y)||p==null)throw new Error("Invalid arguments passed to jsPDF.text");if(p.length===0)return qt;var xe="",ve=!1,Be=typeof ot.lineHeightFactor=="number"?ot.lineHeightFactor:je,Xe=qt.internal.scaleFactor;function bi(rn){return rn=rn.split("	").join(Array(ot.TabLen||9).join(" ")),mn(rn,V)}function Kn(rn){for(var sn,An=rn.concat(),Fn=[],ws=An.length;ws--;)typeof(sn=An.shift())=="string"?Fn.push(sn):Array.isArray(rn)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?Fn.push(sn[0]):Fn.push([sn[0],sn[1],sn[2]]);return Fn}function Ui(rn,sn){var An;if(typeof rn=="string")An=sn(rn)[0];else if(Array.isArray(rn)){for(var Fn,ws,tu=rn.concat(),Wa=[],oc=tu.length;oc--;)typeof(Fn=tu.shift())=="string"?Wa.push(sn(Fn)[0]):Array.isArray(Fn)&&typeof Fn[0]=="string"&&(ws=sn(Fn[0],Fn[1],Fn[2]),Wa.push([ws[0],ws[1],ws[2]]));An=Wa}return An}var zi=!1,Gl=!0;if(typeof p=="string")zi=!0;else if(Array.isArray(p)){var Kl=p.concat();Bt=[];for(var Va,Qn=Kl.length;Qn--;)(typeof(Va=Kl.shift())!="string"||Array.isArray(Va)&&typeof Va[0]!="string")&&(Gl=!1);zi=Gl}if(zi===!1)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');typeof p=="string"&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var ja=wt/qt.internal.scaleFactor,Ba=ja*(Be-1);switch(ot.baseline){case"bottom":Y-=Ba;break;case"top":Y+=ja-Ba;break;case"hanging":Y+=ja-2*Ba;break;case"middle":Y+=ja/2-Ba}if((E=ot.maxWidth||0)>0&&(typeof p=="string"?p=qt.splitTextToSize(p,E):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(rn,sn){return rn.concat(qt.splitTextToSize(sn,E))},[]))),Rt={text:p,x:L,y:Y,options:ot,mutex:{pdfEscape:mn,activeFontKey:se,fonts:pe,activeFontSize:wt}},ke.publish("preProcessText",Rt),p=Rt.text,Qt=(ot=Rt.options).angle,!(St instanceof te)&&Qt&&typeof Qt=="number"){Qt*=Math.PI/180,ot.rotationDirection===0&&(Qt=-Qt),K===k.ADVANCED&&(Qt=-Qt);var qa=Math.cos(Qt),Ql=Math.sin(Qt);St=new te(qa,Ql,-Ql,qa,0,0)}else Qt&&Qt instanceof te&&(St=Qt);K!==k.ADVANCED||St||(St=nr),(y=ot.charSpace||gs)!==void 0&&(xe+=O(S(y))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ft=ot.horizontalScale)!==void 0&&(xe+=O(100*ft)+` Tz
`),ot.lang;var Cr=-1,ff=ot.renderingMode!==void 0?ot.renderingMode:ot.stroke,Yl=qt.internal.getCurrentPageInfo().pageContext;switch(ff){case 0:case!1:case"fill":Cr=0;break;case 1:case!0:case"stroke":Cr=1;break;case 2:case"fillThenStroke":Cr=2;break;case 3:case"invisible":Cr=3;break;case 4:case"fillAndAddForClipping":Cr=4;break;case 5:case"strokeAndAddPathForClipping":Cr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cr=6;break;case 7:case"addToPathForClipping":Cr=7}var nc=Yl.usedRenderingMode!==void 0?Yl.usedRenderingMode:-1;Cr!==-1?xe+=Cr+` Tr
`:nc!==-1&&(xe+=`0 Tr
`),Cr!==-1&&(Yl.usedRenderingMode=Cr),c=ot.align||"left";var ri,Ua=wt*Be,rc=qt.internal.pageSize.getWidth(),ic=pe[se];y=ot.charSpace||gs,E=ot.maxWidth||0,V=Object.assign({autoencode:!0,noBOM:!0},ot.flags);var io=[],ra=function(rn){return qt.getStringUnitWidth(rn,{font:ic,charSpace:y,fontSize:wt,doKerning:!1})*wt/Xe};if(Object.prototype.toString.call(p)==="[object Array]"){var Rr;Bt=Kn(p),c!=="left"&&(ri=Bt.map(ra));var Ar,so=0;if(c==="right"){L-=ri[0],p=[],Qn=Bt.length;for(var ys=0;ys<Qn;ys++)ys===0?(Ar=zr(L),Rr=On(Y)):(Ar=S(so-ri[ys]),Rr=-Ua),p.push([Bt[ys],Ar,Rr]),so=ri[ys]}else if(c==="center"){L-=ri[0]/2,p=[],Qn=Bt.length;for(var _s=0;_s<Qn;_s++)_s===0?(Ar=zr(L),Rr=On(Y)):(Ar=S((so-ri[_s])/2),Rr=-Ua),p.push([Bt[_s],Ar,Rr]),so=ri[_s]}else if(c==="left"){p=[],Qn=Bt.length;for(var za=0;za<Qn;za++)p.push(Bt[za])}else if(c==="justify"&&ic.encoding==="Identity-H"){p=[],Qn=Bt.length,E=E!==0?E:rc;for(var bs=0,wn=0;wn<Qn;wn++)if(Rr=wn===0?On(Y):-Ua,Ar=wn===0?zr(L):bs,wn<Qn-1){var Jl=S((E-ri[wn])/(Bt[wn].split(" ").length-1)),Er=Bt[wn].split(" ");p.push([Er[0]+" ",Ar,Rr]),bs=0;for(var ii=1;ii<Er.length;ii++){var $a=(ra(Er[ii-1]+" "+Er[ii])-ra(Er[ii]))*Xe+Jl;ii==Er.length-1?p.push([Er[ii],$a,0]):p.push([Er[ii]+" ",$a,0]),bs-=$a}}else p.push([Bt[wn],Ar,Rr]);p.push(["",bs,0])}else{if(c!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(p=[],Qn=Bt.length,E=E!==0?E:rc,wn=0;wn<Qn;wn++)Rr=wn===0?On(Y):-Ua,Ar=wn===0?zr(L):0,wn<Qn-1?io.push(O(S((E-ri[wn])/(Bt[wn].split(" ").length-1)))):io.push(0),p.push([Bt[wn],Ar,Rr])}}var sc=typeof ot.R2L=="boolean"?ot.R2L:kt;sc===!0&&(p=Ui(p,function(rn,sn,An){return[rn.split("").reverse().join(""),sn,An]})),Rt={text:p,x:L,y:Y,options:ot,mutex:{pdfEscape:mn,activeFontKey:se,fonts:pe,activeFontSize:wt}},ke.publish("postProcessText",Rt),p=Rt.text,ve=Rt.mutex.isHex||!1;var Xl=pe[se].encoding;Xl!=="WinAnsiEncoding"&&Xl!=="StandardEncoding"||(p=Ui(p,function(rn,sn,An){return[bi(rn),sn,An]})),Bt=Kn(p),p=[];for(var ia,sa,oo,oa=0,Ha=1,aa=Array.isArray(Bt[0])?Ha:oa,ao="",Zl=function(rn,sn,An){var Fn="";return An instanceof te?(An=typeof ot.angle=="number"?Pr(An,new te(1,0,0,1,rn,sn)):Pr(new te(1,0,0,1,rn,sn),An),K===k.ADVANCED&&(An=Pr(new te(1,0,0,-1,0,0),An)),Fn=An.join(" ")+` Tm
`):Fn=O(rn)+" "+O(sn)+` Td
`,Fn},si=0;si<Bt.length;si++){switch(ao="",aa){case Ha:oo=(ve?"<":"(")+Bt[si][0]+(ve?">":")"),ia=parseFloat(Bt[si][1]),sa=parseFloat(Bt[si][2]);break;case oa:oo=(ve?"<":"(")+Bt[si]+(ve?">":")"),ia=zr(L),sa=On(Y)}io!==void 0&&io[si]!==void 0&&(ao=io[si]+` Tw
`),si===0?p.push(ao+Zl(ia,sa,St)+oo):aa===oa?p.push(ao+oo):aa===Ha&&p.push(ao+Zl(ia,sa,St)+oo)}p=aa===oa?p.join(` Tj
T* `):p.join(` Tj
`),p+=` Tj
`;var oi=`BT
/`;return oi+=se+" "+wt+` Tf
`,oi+=O(wt*Be)+` TL
`,oi+=yi+`
`,oi+=xe,oi+=p,j(oi+="ET"),_[se]=!0,qt};var Wl=m.__private__.clip=m.clip=function(p){return j(p==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Wl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return j("n"),this};var ni=m.__private__.isValidStyle=function(p){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)!==-1&&(L=!0),L};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(p){return ni(p)&&(h=p),this};var Da=m.__private__.getStyle=m.getStyle=function(p){var L=h;switch(p){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=p}return L},qr=m.close=function(){return j("h"),this};m.stroke=function(){return j("S"),this},m.fill=function(p){return Ws("f",p),this},m.fillEvenOdd=function(p){return Ws("f*",p),this},m.fillStroke=function(p){return Ws("B",p),this},m.fillStrokeEvenOdd=function(p){return Ws("B*",p),this};var Ws=function(p,L){Qe(L)==="object"?Ks(L,p):j(p)},Yo=function(p){p===null||K===k.ADVANCED&&p===void 0||(p=Da(p),j(p))};function Gs(p,L,Y,ot,pt){var Rt=new cl(L||this.boundingBox,Y||this.xStep,ot||this.yStep,this.gState,pt||this.matrix);Rt.stream=this.stream;var Bt=p+"$$"+this.cloneIndex+++"$$";return Ln(Bt,Rt),Rt}var Ks=function(p,L){var Y=Ci[p.key],ot=Pe[Y];if(ot instanceof ga)j("q"),j(Oa(L)),ot.gState&&m.setGState(ot.gState),j(p.matrix.toString()+" cm"),j("/"+Y+" sh"),j("Q");else if(ot instanceof cl){var pt=new te(1,0,0,-1,0,ir());p.matrix&&(pt=pt.multiply(p.matrix||nr),Y=Gs.call(ot,p.key,p.boundingBox,p.xStep,p.yStep,pt).id),j("q"),j("/Pattern cs"),j("/"+Y+" scn"),ot.gState&&m.setGState(ot.gState),j(L),j("Q")}},Oa=function(p){switch(p){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},mi=m.moveTo=function(p,L){return j(O(S(p))+" "+O(Q(L))+" m"),this},Ur=m.lineTo=function(p,L){return j(O(S(p))+" "+O(Q(L))+" l"),this},vi=m.curveTo=function(p,L,Y,ot,pt,Rt){return j([O(S(p)),O(Q(L)),O(S(Y)),O(Q(ot)),O(S(pt)),O(Q(Rt)),"c"].join(" ")),this};m.__private__.line=m.line=function(p,L,Y,ot,pt){if(isNaN(p)||isNaN(L)||isNaN(Y)||isNaN(ot)||!ni(pt))throw new Error("Invalid arguments passed to jsPDF.line");return K===k.COMPAT?this.lines([[Y-p,ot-L]],p,L,[1,1],pt||"S"):this.lines([[Y-p,ot-L]],p,L,[1,1]).stroke()},m.__private__.lines=m.lines=function(p,L,Y,ot,pt,Rt){var Bt,Qt,c,y,E,V,ft,St,qt,me,xe,ve;if(typeof p=="number"&&(ve=Y,Y=L,L=p,p=ve),ot=ot||[1,1],Rt=Rt||!1,isNaN(L)||isNaN(Y)||!Array.isArray(p)||!Array.isArray(ot)||!ni(pt)||typeof Rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mi(L,Y),Bt=ot[0],Qt=ot[1],y=p.length,me=L,xe=Y,c=0;c<y;c++)(E=p[c]).length===2?(me=E[0]*Bt+me,xe=E[1]*Qt+xe,Ur(me,xe)):(V=E[0]*Bt+me,ft=E[1]*Qt+xe,St=E[2]*Bt+me,qt=E[3]*Qt+xe,me=E[4]*Bt+me,xe=E[5]*Qt+xe,vi(V,ft,St,qt,me,xe));return Rt&&qr(),Yo(pt),this},m.path=function(p){for(var L=0;L<p.length;L++){var Y=p[L],ot=Y.c;switch(Y.op){case"m":mi(ot[0],ot[1]);break;case"l":Ur(ot[0],ot[1]);break;case"c":vi.apply(this,ot);break;case"h":qr()}}return this},m.__private__.rect=m.rect=function(p,L,Y,ot,pt){if(isNaN(p)||isNaN(L)||isNaN(Y)||isNaN(ot)||!ni(pt))throw new Error("Invalid arguments passed to jsPDF.rect");return K===k.COMPAT&&(ot=-ot),j([O(S(p)),O(Q(L)),O(S(Y)),O(S(ot)),"re"].join(" ")),Yo(pt),this},m.__private__.triangle=m.triangle=function(p,L,Y,ot,pt,Rt,Bt){if(isNaN(p)||isNaN(L)||isNaN(Y)||isNaN(ot)||isNaN(pt)||isNaN(Rt)||!ni(Bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-p,ot-L],[pt-Y,Rt-ot],[p-pt,L-Rt]],p,L,[1,1],Bt,!0),this},m.__private__.roundedRect=m.roundedRect=function(p,L,Y,ot,pt,Rt,Bt){if(isNaN(p)||isNaN(L)||isNaN(Y)||isNaN(ot)||isNaN(pt)||isNaN(Rt)||!ni(Bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qt=4/3*(Math.SQRT2-1);return pt=Math.min(pt,.5*Y),Rt=Math.min(Rt,.5*ot),this.lines([[Y-2*pt,0],[pt*Qt,0,pt,Rt-Rt*Qt,pt,Rt],[0,ot-2*Rt],[0,Rt*Qt,-pt*Qt,Rt,-pt,Rt],[2*pt-Y,0],[-pt*Qt,0,-pt,-Rt*Qt,-pt,-Rt],[0,2*Rt-ot],[0,-Rt*Qt,pt*Qt,-Rt,pt,-Rt]],p+pt,L,[1,1],Bt,!0),this},m.__private__.ellipse=m.ellipse=function(p,L,Y,ot,pt){if(isNaN(p)||isNaN(L)||isNaN(Y)||isNaN(ot)||!ni(pt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Rt=4/3*(Math.SQRT2-1)*Y,Bt=4/3*(Math.SQRT2-1)*ot;return mi(p+Y,L),vi(p+Y,L-Bt,p+Rt,L-ot,p,L-ot),vi(p-Rt,L-ot,p-Y,L-Bt,p-Y,L),vi(p-Y,L+Bt,p-Rt,L+ot,p,L+ot),vi(p+Rt,L+ot,p+Y,L+Bt,p+Y,L),Yo(pt),this},m.__private__.circle=m.circle=function(p,L,Y,ot){if(isNaN(p)||isNaN(L)||isNaN(Y)||!ni(ot))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,L,Y,Y,ot)},m.setFont=function(p,L,Y){return Y&&(L=Tt(L,Y)),se=fs(p,L,{disableWarning:!1}),this};var Jo=m.__private__.getFont=m.getFont=function(){return pe[fs.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var p,L,Y={};for(p in Se)if(Se.hasOwnProperty(p))for(L in Y[p]=[],Se[p])Se[p].hasOwnProperty(L)&&Y[p].push(L);return Y},m.addFont=function(p,L,Y,ot,pt){var Rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Rt.indexOf(arguments[3])!==-1?pt=arguments[3]:arguments[3]&&Rt.indexOf(arguments[3])==-1&&(Y=Tt(Y,ot)),pt=pt||"Identity-H",Go.call(this,p,L,Y,pt)};var je,Xo=e.lineWidth||.200025,Qs=m.__private__.getLineWidth=m.getLineWidth=function(){return Xo},Zo=m.__private__.setLineWidth=m.setLineWidth=function(p){return Xo=p,j(O(S(p))+" w"),this};m.__private__.setLineDash=ue.API.setLineDash=ue.API.setLineDashPattern=function(p,L){if(p=p||[],L=L||0,isNaN(L)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(Y){return O(S(Y))}).join(" "),L=O(S(L)),j("["+p+"] "+L+" d"),this};var ta=m.__private__.getLineHeight=m.getLineHeight=function(){return wt*je};m.__private__.getLineHeight=m.getLineHeight=function(){return wt*je};var ea=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(p){return typeof(p=p||1.15)=="number"&&(je=p),this},ps=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return je};ea(e.lineHeight);var zr=m.__private__.getHorizontalCoordinate=function(p){return S(p)},On=m.__private__.getVerticalCoordinate=function(p){return K===k.ADVANCED?p:oe[H].mediaBox.topRightY-oe[H].mediaBox.bottomLeftY-S(p)},Fa=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(p){return O(zr(p))},ji=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(p){return O(On(p))},Gn=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Nr(Gn)},m.__private__.setStrokeColor=m.setDrawColor=function(p,L,Y,ot){return Gn=_r({ch1:p,ch2:L,ch3:Y,ch4:ot,pdfColorType:"draw",precision:2}),j(Gn),this};var Ys=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Nr(Ys)},m.__private__.setFillColor=m.setFillColor=function(p,L,Y,ot){return Ys=_r({ch1:p,ch2:L,ch3:Y,ch4:ot,pdfColorType:"fill",precision:2}),j(Ys),this};var yi=e.textColor||"0 g",Js=m.__private__.getTextColor=m.getTextColor=function(){return Nr(yi)};m.__private__.setTextColor=m.setTextColor=function(p,L,Y,ot){return yi=_r({ch1:p,ch2:L,ch3:Y,ch4:ot,pdfColorType:"text",precision:3}),this};var gs=e.charSpace,Xs=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(gs||0)};m.__private__.setCharSpace=m.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gs=p,this};var na=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(p){var L=m.CapJoinStyles[p];if(L===void 0)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return na=L,j(L+" J"),this};var Zs=0;m.__private__.setLineJoin=m.setLineJoin=function(p){var L=m.CapJoinStyles[p];if(L===void 0)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zs=L,j(L+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return j(O(S(p))+" M"),this},m.GState=Ph,m.setGState=function(p){(p=typeof p=="string"?ln[Wn[p]]:Bi(null,p)).equals(Vr)||(j("/"+p.id+" gs"),Vr=p)};var Bi=function(p,L){if(!p||!Wn[p]){var Y=!1;for(var ot in ln)if(ln.hasOwnProperty(ot)&&ln[ot].equals(L)){Y=!0;break}if(Y)L=ln[ot];else{var pt="GS"+(Object.keys(ln).length+1).toString(10);ln[pt]=L,L.id=pt}return p&&(Wn[p]=L.id),ke.publish("addGState",L),L}};m.addGState=function(p,L){return Bi(p,L),this},m.saveGraphicsState=function(){return j("q"),yr.push({key:se,size:wt,color:yi}),this},m.restoreGraphicsState=function(){j("Q");var p=yr.pop();return se=p.key,wt=p.size,yi=p.color,Vr=null,this},m.setCurrentTransformationMatrix=function(p){return j(p.toString()+" cm"),this},m.comment=function(p){return j("#"+p),this};var ms=function(p,L){var Y=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(Rt){isNaN(Rt)||(Y=parseFloat(Rt))}});var ot=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ot},set:function(Rt){isNaN(Rt)||(ot=parseFloat(Rt))}});var pt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pt},set:function(Rt){pt=Rt.toString()}}),this},to=function(p,L,Y,ot){ms.call(this,p,L),this.type="rect";var pt=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pt},set:function(Bt){isNaN(Bt)||(pt=parseFloat(Bt))}});var Rt=ot||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Rt},set:function(Bt){isNaN(Bt)||(Rt=parseFloat(Bt))}}),this},vs=function(){this.page=nn,this.currentPage=H,this.pages=Nt.slice(0),this.pagesContext=oe.slice(0),this.x=Re,this.y=Ae,this.matrix=Hn,this.width=qi(H),this.height=ir(H),this.outputDestination=$,this.id="",this.objectNumber=-1};vs.prototype.restore=function(){nn=this.page,H=this.currentPage,oe=this.pagesContext,Nt=this.pages,Re=this.x,Ae=this.y,Hn=this.matrix,no(H,this.width),ro(H,this.height),$=this.outputDestination};var eo=function(p,L,Y,ot,pt){jr.push(new vs),nn=H=0,Nt=[],Re=p,Ae=L,Hn=pt,wr([Y,ot])},Ma=function(p){if(er[p])jr.pop().restore();else{var L=new vs,Y="Xo"+(Object.keys(Nn).length+1).toString(10);L.id=Y,er[p]=Y,Nn[Y]=L,ke.publish("addFormObject",L),jr.pop().restore()}};for(var _i in m.beginFormObject=function(p,L,Y,ot,pt){return eo(p,L,Y,ot,pt),this},m.endFormObject=function(p){return Ma(p),this},m.doFormObject=function(p,L){var Y=Nn[er[p]];return j("q"),j(L.toString()+" cm"),j("/"+Y.id+" Do"),j("Q"),this},m.getFormObject=function(p){var L=Nn[er[p]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},m.save=function(p,L){return p=p||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(da($s(gi()),p),typeof da.unload=="function"&&ce.setTimeout&&setTimeout(da.unload,911),this):new Promise(function(Y,ot){try{var pt=da($s(gi()),p);typeof da.unload=="function"&&ce.setTimeout&&setTimeout(da.unload,911),Y(pt)}catch(Rt){ot(Rt.message)}})},ue.API)ue.API.hasOwnProperty(_i)&&(_i==="events"&&ue.API.events.length?function(p,L){var Y,ot,pt;for(pt=L.length-1;pt!==-1;pt--)Y=L[pt][0],ot=L[pt][1],p.subscribe.apply(p,[Y].concat(typeof ot=="function"?[ot]:ot))}(ke,ue.API.events):m[_i]=ue.API[_i]);var qi=m.getPageWidth=function(p){return(oe[p=p||H].mediaBox.topRightX-oe[p].mediaBox.bottomLeftX)/Gt},no=m.setPageWidth=function(p,L){oe[p].mediaBox.topRightX=L*Gt+oe[p].mediaBox.bottomLeftX},ir=m.getPageHeight=function(p){return(oe[p=p||H].mediaBox.topRightY-oe[p].mediaBox.bottomLeftY)/Gt},ro=m.setPageHeight=function(p,L){oe[p].mediaBox.topRightY=L*Gt+oe[p].mediaBox.bottomLeftY};return m.internal={pdfEscape:mn,getStyle:Da,getFont:Jo,getFontSize:Dt,getCharSpace:Xs,getTextColor:Js,getLineHeight:ta,getLineHeightFactor:ps,getLineWidth:Qs,write:bt,getHorizontalCoordinate:zr,getVerticalCoordinate:On,getCoordinateString:Fa,getVerticalCoordinateString:ji,collections:{},newObject:_n,newAdditionalObject:Bs,newObjectDeferred:gn,newObjectDeferredBegin:Cn,getFilters:br,putStream:bn,events:ke,scaleFactor:Gt,pageSize:{getWidth:function(){return qi(H)},setWidth:function(p){no(H,p)},getHeight:function(){return ir(H)},setHeight:function(p){ro(H,p)}},encryptionOptions:d,encryption:cn,getEncryptor:ka,output:Hs,getNumberOfPages:We,pages:Nt,out:j,f2:U,f3:x,getPageInfo:Qo,getPageInfoByObjId:fe,getCurrentPageInfo:Vi,getPDFVersion:T,Point:ms,Rectangle:to,Matrix:te,hasHotfix:Mi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return qi(H)},set:function(p){no(H,p)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return ir(H)},set:function(p){ro(H,p)},enumerable:!0,configurable:!0}),Ca.call(m,vt),se="F1",hs(i,n),ke.publish("initialized"),m}ol.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},ol.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ol.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ol.prototype.processOwnerPassword=function(e,t){return ep(tp(t).substr(0,5),e)},ol.prototype.encryptor=function(e,t){var n=tp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return ep(n,r)}},Ph.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Qe(e)!==Qe(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},ue.API={events:[]},ue.version="3.0.1";var yn=ue.API,u1=1,Ia=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xa=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ye=function(e){return e.toFixed(2)},yo=function(e){return e.toFixed(5)};yn.__acroform__={};var Mr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Ym=function(e){return e*u1},Wi=function(e){var t=new Rv,n=ne.internal.getHeight(e)||0,r=ne.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ye(r)),Number(ye(n))],t},ix=yn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},sx=yn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},ox=yn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Sn=yn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ox(e,t-1)},xn=yn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ix(e,t-1)},In=yn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sx(e,t-1)},ax=yn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(s+a)||0,u.upperRight_X=n(i+o)||0,u.upperRight_Y=r(s)||0,[Number(ye(u.lowerLeft_X)),Number(ye(u.lowerLeft_Y)),Number(ye(u.upperRight_X)),Number(ye(u.upperRight_Y))]},lx=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=np(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+ye(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Wi(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},np=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(x){return x.split(`
`)}):i.map(function(x){return[x]});var s=n,o=ne.internal.getHeight(e)||0;o=o<0?-o:o;var a=ne.internal.getWidth(e)||0;a=a<0?-a:a;var u=function(x,S,A){if(x+1<i.length){var Q=S+" "+i[x+1][0];return Fc(Q,e,A).width<=a-4}return!1};s++;t:for(;s>0;){t="",s--;var h,d,g=Fc("3",e,s).height,_=e.multiline?o-s:(o-g)/2,m=_+=2,N=0,T=0,M=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Fc(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var P="",k=0,K=0;K<i.length;K++)if(i.hasOwnProperty(K)){var Z=!1;if(i[K].length!==1&&M!==i[K].length-1){if((g+2)*(k+2)+2>o)continue t;P+=i[K][M],Z=!0,T=K,K--}else{P=(P+=i[K][M]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var yt=parseInt(K),Tt=u(yt,P,s),O=K>=i.length-1;if(Tt&&!O){P+=" ",M=0;continue}if(Tt||O){if(O)T=yt;else if(e.multiline&&(g+2)*(k+2)+2>o)continue t}else{if(!e.multiline||(g+2)*(k+2)+2>o)continue t;T=yt}}for(var b="",I=N;I<=T;I++){var U=i[I];if(e.multiline){if(I===T){b+=U[M]+" ",M=(M+1)%U.length;continue}if(I===N){b+=U[U.length-1]+" ";continue}}b+=U[0]+" "}switch(b=b.substr(b.length-1)==" "?b.substr(0,b.length-1):b,d=Fc(b,e,s).width,e.textAlign){case"right":h=a-d-2;break;case"center":h=(a-d)/2;break;case"left":default:h=2}t+=ye(h)+" "+ye(m)+` Td
`,t+="("+Ia(b)+`) Tj
`,t+=-ye(h)+` 0 Td
`,m=-(s+2),d=0,N=Z?T:T+1,k++,P=""}break}return r.text=t,r.fontSize=s,r},Fc=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},ux={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},cx=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},hx=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Qe(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},fx=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ni.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ux)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");u1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new kv,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&cx(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],u=[],h=a.Rect;if(a.Rect&&(a.Rect=ax(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ne.createDefaultAppearanceStream(a),Qe(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(u=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=lx(a);u.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var g="";for(var _ in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(_)){var m=a.appearanceStreamContent[_];if(g+="/"+_+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var N=m[o];typeof N=="function"&&(N=N.call(i,a)),g+="/"+o+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=m)=="function"&&(N=N.call(i,a)),g+="/"+o+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:a.objId}),i.internal.out("endobj")}s&&hx(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Cv=yn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Qe(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Ia(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sd=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ia(r(e))+")"},Ji=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ji.prototype.toString=function(){return this.objId+" 0 R"},Ji.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ji.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:Cv(i,this.objId,this.scope)}):i instanceof Ji?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var Rv=function(){Ji.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Mr(Rv,Ji);var kv=function(){Ji.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ia(n(e))+")"}},set:function(n){e=n}})};Mr(kv,Ji);var Ni=function e(){Ji.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');t=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sn(t,3)},set:function(P){P?this.F=xn(t,3):this.F=In(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');n=P}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(P){r=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(P){r[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(P){r[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(P){r[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(P){r[3]=P}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Nh)return;s="FieldObject"+e.FieldNum++}var P=function(k){return k};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+Ia(P(s))+")"},set:function(P){s=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(P){s=P}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(P){o=P}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(P){a=P}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(P){u=P}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/u1:h},set:function(P){h=P}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(P){d=P}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Nh||this instanceof ya))return sd(g,this.objId,this.scope)},set:function(P){P=P.toString(),g=P}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof $n?_:sd(_,this.objId,this.scope)},set:function(P){P=P.toString(),_=this instanceof $n?P:P.substr(0,1)==="("?Xa(P.substr(1,P.length-2)):Xa(P)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $n?Xa(_.substr(1,_.length-1)):_},set:function(P){P=P.toString(),_=this instanceof $n?"/"+P:P}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof $n?m:sd(m,this.objId,this.scope)},set:function(P){P=P.toString(),m=this instanceof $n?P:P.substr(0,1)==="("?Xa(P.substr(1,P.length-2)):Xa(P)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $n?Xa(m.substr(1,m.length-1)):m},set:function(P){P=P.toString(),m=this instanceof $n?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(P){P=!!P,T=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(P){N=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,1)},set:function(P){P?this.Ff=xn(this.Ff,1):this.Ff=In(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,2)},set:function(P){P?this.Ff=xn(this.Ff,2):this.Ff=In(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,3)},set:function(P){P?this.Ff=xn(this.Ff,3):this.Ff=In(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');M=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(M){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:M=2;break;case"center":case 1:M=1;break;case"left":case 0:default:M=0}}})};Mr(Ni,Ji);var Al=function(){Ni.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Cv(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var u,h=[];u=o.exec(s);)h.push(u[a]);return h}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,18)},set:function(n){n?this.Ff=xn(this.Ff,18):this.Ff=In(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=xn(this.Ff,19):this.Ff=In(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,20)},set:function(n){n?(this.Ff=xn(this.Ff,20),t.sort()):this.Ff=In(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,22)},set:function(n){n?this.Ff=xn(this.Ff,22):this.Ff=In(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(n){n?this.Ff=xn(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,27)},set:function(n){n?this.Ff=xn(this.Ff,27):this.Ff=In(this.Ff,27)}}),this.hasAppearanceStream=!1};Mr(Al,Ni);var El=function(){Al.call(this),this.fontName="helvetica",this.combo=!1};Mr(El,Al);var Sl=function(){El.call(this),this.combo=!0};Mr(Sl,El);var Jc=function(){Sl.call(this),this.edit=!0};Mr(Jc,Sl);var $n=function(){Ni.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,15)},set:function(n){n?this.Ff=xn(this.Ff,15):this.Ff=In(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,16)},set:function(n){n?this.Ff=xn(this.Ff,16):this.Ff=In(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,17)},set:function(n){n?this.Ff=xn(this.Ff,17):this.Ff=In(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(n){n?this.Ff=xn(this.Ff,26):this.Ff=In(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Ia(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Qe(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Mr($n,Ni);var Xc=function(){$n.call(this),this.pushButton=!0};Mr(Xc,$n);var xl=function(){$n.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Mr(xl,$n);var Nh=function(){var e,t;Ni.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Ia(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Qe(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ne.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mr(Nh,Ni),xl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},xl.prototype.createOption=function(e){var t=new Nh;return t.Parent=this,t.optionName=e,this.Kids.push(t),dx.call(this.scope,t),t};var Zc=function(){$n.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ne.CheckBox.createAppearanceStream()};Mr(Zc,$n);var ya=function(){Ni.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,13)},set:function(t){t?this.Ff=xn(this.Ff,13):this.Ff=In(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,21)},set:function(t){t?this.Ff=xn(this.Ff,21):this.Ff=In(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(t){t?this.Ff=xn(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,24)},set:function(t){t?this.Ff=xn(this.Ff,24):this.Ff=In(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,25)},set:function(t){t?this.Ff=xn(this.Ff,25):this.Ff=In(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(t){t?this.Ff=xn(this.Ff,26):this.Ff=In(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mr(ya,Ni);var th=function(){ya.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,14)},set:function(e){e?this.Ff=xn(this.Ff,14):this.Ff=In(this.Ff,14)}}),this.password=!0};Mr(th,ya);var ne={CheckBox:{createAppearanceStream:function(){return{N:{On:ne.CheckBox.YesNormal},D:{On:ne.CheckBox.YesPushDown,Off:ne.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=np(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+ye(ne.internal.getWidth(e))+" "+ye(ne.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ye(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=ne.internal.getHeight(e),o=ne.internal.getWidth(e),a=np(e,e.caption);return i.push("1 g"),i.push("0 0 "+ye(o)+" "+ye(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ye(o-1)+" "+ye(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ye(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ye(ne.internal.getWidth(e))+" "+ye(ne.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ne.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ne.RadioButton.Circle.YesNormal,t.D[e]=ne.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=ne.internal.getWidth(e)<=ne.internal.getHeight(e)?ne.internal.getWidth(e)/4:ne.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=ne.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+yo(ne.internal.getWidth(e)/2)+" "+yo(ne.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=ne.internal.getWidth(e)<=ne.internal.getHeight(e)?ne.internal.getWidth(e)/4:ne.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ne.internal.Bezier_C).toFixed(5)),o=Number((r*ne.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yo(ne.internal.getWidth(e)/2)+" "+yo(ne.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+yo(ne.internal.getWidth(e)/2)+" "+yo(ne.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=ne.internal.getWidth(e)<=ne.internal.getHeight(e)?ne.internal.getWidth(e)/4:ne.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ne.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yo(ne.internal.getWidth(e)/2)+" "+yo(ne.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ne.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ne.RadioButton.Cross.YesNormal,t.D[e]=ne.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=ne.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+ye(ne.internal.getWidth(e)-2)+" "+ye(ne.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ye(r.x1.x)+" "+ye(r.x1.y)+" m"),n.push(ye(r.x2.x)+" "+ye(r.x2.y)+" l"),n.push(ye(r.x4.x)+" "+ye(r.x4.y)+" m"),n.push(ye(r.x3.x)+" "+ye(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=ne.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+ye(ne.internal.getWidth(e))+" "+ye(ne.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ye(ne.internal.getWidth(e)-2)+" "+ye(ne.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ye(n.x1.x)+" "+ye(n.x1.y)+" m"),r.push(ye(n.x2.x)+" "+ye(n.x2.y)+" l"),r.push(ye(n.x4.x)+" "+ye(n.x4.y)+" m"),r.push(ye(n.x3.x)+" "+ye(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ye(ne.internal.getWidth(e))+" "+ye(ne.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};ne.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ne.internal.getWidth(e),n=ne.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},ne.internal.getWidth=function(e){var t=0;return Qe(e)==="object"&&(t=Ym(e.Rect[2])),t},ne.internal.getHeight=function(e){var t=0;return Qe(e)==="object"&&(t=Ym(e.Rect[3])),t};var dx=yn.addField=function(e){if(fx(this,e),!(e instanceof Ni))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};yn.AcroFormChoiceField=Al,yn.AcroFormListBox=El,yn.AcroFormComboBox=Sl,yn.AcroFormEditBox=Jc,yn.AcroFormButton=$n,yn.AcroFormPushButton=Xc,yn.AcroFormRadioButton=xl,yn.AcroFormCheckBox=Zc,yn.AcroFormTextField=ya,yn.AcroFormPasswordField=th,yn.AcroFormAppearance=ne,yn.AcroForm={ChoiceField:Al,ListBox:El,ComboBox:Sl,EditBox:Jc,Button:$n,PushButton:Xc,RadioButton:xl,CheckBox:Zc,TextField:ya,PasswordField:th,Appearance:ne},ue.AcroForm={ChoiceField:Al,ListBox:El,ComboBox:Sl,EditBox:Jc,Button:$n,PushButton:Xc,RadioButton:xl,CheckBox:Zc,TextField:ya,PasswordField:th,Appearance:ne};ue.AcroForm;function Dv(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(x,S){var A,Q,mt,et,dt,ut=t;if((S=S||t)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(Tt(x))for(dt in n)for(mt=n[dt],A=0;A<mt.length;A+=1){for(et=!0,Q=0;Q<mt[A].length;Q+=1)if(mt[A][Q]!==void 0&&mt[A][Q]!==x[Q]){et=!1;break}if(et===!0){ut=dt;break}}else for(dt in n)for(mt=n[dt],A=0;A<mt.length;A+=1){for(et=!0,Q=0;Q<mt[A].length;Q+=1)if(mt[A][Q]!==void 0&&mt[A][Q]!==x.charCodeAt(Q)){et=!1;break}if(et===!0){ut=dt;break}}return ut===t&&S!==t&&(ut=S),ut},i=function x(S){for(var A=this.internal.write,Q=this.internal.putStream,mt=(0,this.internal.getFilters)();mt.indexOf("FlateEncode")!==-1;)mt.splice(mt.indexOf("FlateEncode"),1);S.objectId=this.internal.newObject();var et=[];if(et.push({key:"Type",value:"/XObject"}),et.push({key:"Subtype",value:"/Image"}),et.push({key:"Width",value:S.width}),et.push({key:"Height",value:S.height}),S.colorSpace===M.INDEXED?et.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(S.palette.length/3-1)+" "+("sMask"in S&&S.sMask!==void 0?S.objectId+2:S.objectId+1)+" 0 R]"}):(et.push({key:"ColorSpace",value:"/"+S.colorSpace}),S.colorSpace===M.DEVICE_CMYK&&et.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),et.push({key:"BitsPerComponent",value:S.bitsPerComponent}),"decodeParameters"in S&&S.decodeParameters!==void 0&&et.push({key:"DecodeParms",value:"<<"+S.decodeParameters+">>"}),"transparency"in S&&Array.isArray(S.transparency)){for(var dt="",ut=0,xt=S.transparency.length;ut<xt;ut++)dt+=S.transparency[ut]+" "+S.transparency[ut]+" ";et.push({key:"Mask",value:"["+dt+"]"})}S.sMask!==void 0&&et.push({key:"SMask",value:S.objectId+1+" 0 R"});var Pt=S.filter!==void 0?["/"+S.filter]:void 0;if(Q({data:S.data,additionalKeyValues:et,alreadyAppliedFilters:Pt,objectId:S.objectId}),A("endobj"),"sMask"in S&&S.sMask!==void 0){var $t="/Predictor "+S.predictor+" /Colors 1 /BitsPerComponent "+S.bitsPerComponent+" /Columns "+S.width,R={width:S.width,height:S.height,colorSpace:"DeviceGray",bitsPerComponent:S.bitsPerComponent,decodeParameters:$t,data:S.sMask};"filter"in S&&(R.filter=S.filter),x.call(this,R)}if(S.colorSpace===M.INDEXED){var H=this.internal.newObject();Q({data:b(new Uint8Array(S.palette)),objectId:H}),A("endobj")}},s=function(){var x=this.internal.collections.addImage_images;for(var S in x)i.call(this,x[S])},o=function(){var x,S=this.internal.collections.addImage_images,A=this.internal.write;for(var Q in S)A("/I"+(x=S[Q]).index,x.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var x=this.internal.collections.addImage_images;return a.call(this),x},h=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(x){return typeof e["process"+x.toUpperCase()]=="function"},g=function(x){return Qe(x)==="object"&&x.nodeType===1},_=function(x,S){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var A=""+x.getAttribute("src");if(A.indexOf("data:image/")===0)return Ru(unescape(A).split("base64,").pop());var Q=e.loadFile(A,!0);if(Q!==void 0)return Q}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var mt;switch(S){case"PNG":mt="image/png";break;case"WEBP":mt="image/webp";break;case"JPEG":case"JPG":default:mt="image/jpeg"}return Ru(x.toDataURL(mt,1).split("base64,").pop())}},m=function(x){var S=this.internal.collections.addImage_images;if(S){for(var A in S)if(x===S[A].alias)return S[A]}},N=function(x,S,A){return x||S||(x=-96,S=-96),x<0&&(x=-1*A.width*72/x/this.internal.scaleFactor),S<0&&(S=-1*A.height*72/S/this.internal.scaleFactor),x===0&&(x=S*A.width/A.height),S===0&&(S=x*A.height/A.width),[x,S]},T=function(x,S,A,Q,mt,et){var dt=N.call(this,A,Q,mt),ut=this.internal.getCoordinateString,xt=this.internal.getVerticalCoordinateString,Pt=u.call(this);if(A=dt[0],Q=dt[1],Pt[mt.index]=mt,et){et*=Math.PI/180;var $t=Math.cos(et),R=Math.sin(et),H=function(st){return st.toFixed(4)},J=[H($t),H(R),H(-1*R),H($t),0,0,"cm"]}this.internal.write("q"),et?(this.internal.write([1,"0","0",1,ut(x),xt(S+Q),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ut(A),"0","0",ut(Q),"0","0","cm"].join(" "))):this.internal.write([ut(A),"0","0",ut(Q),ut(x),xt(S+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+mt.index+" Do"),this.internal.write("Q")},M=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(x){var S,A,Q=0;if(typeof x=="string")for(A=x.length,S=0;S<A;S++)Q=(Q<<5)-Q+x.charCodeAt(S),Q|=0;else if(Tt(x))for(A=x.byteLength/2,S=0;S<A;S++)Q=(Q<<5)-Q+x[S],Q|=0;return Q},K=e.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var S=!0;return x.length===0&&(S=!1),x.length%4!=0&&(S=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(S=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(S=!1),S},Z=e.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var S=x.indexOf(",");return S<0?null:x.substring(0,S).trim().endsWith("base64")?x.substring(S+1):null},yt=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(x){return yt()&&x instanceof ArrayBuffer};var Tt=e.__addimage__.isArrayBufferView=function(x){return yt()&&typeof Uint32Array<"u"&&(x instanceof Int8Array||x instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)},O=e.__addimage__.binaryStringToUint8Array=function(x){for(var S=x.length,A=new Uint8Array(S),Q=0;Q<S;Q++)A[Q]=x.charCodeAt(Q);return A},b=e.__addimage__.arrayBufferToBinaryString=function(x){for(var S="",A=Tt(x)?x:new Uint8Array(x),Q=0;Q<A.length;Q+=8192)S+=String.fromCharCode.apply(null,A.subarray(Q,Q+8192));return S};e.addImage=function(){var x,S,A,Q,mt,et,dt,ut,xt;if(typeof arguments[1]=="number"?(S=t,A=arguments[1],Q=arguments[2],mt=arguments[3],et=arguments[4],dt=arguments[5],ut=arguments[6],xt=arguments[7]):(S=arguments[1],A=arguments[2],Q=arguments[3],mt=arguments[4],et=arguments[5],dt=arguments[6],ut=arguments[7],xt=arguments[8]),Qe(x=arguments[0])==="object"&&!g(x)&&"imageData"in x){var Pt=x;x=Pt.imageData,S=Pt.format||S||t,A=Pt.x||A||0,Q=Pt.y||Q||0,mt=Pt.w||Pt.width||mt,et=Pt.h||Pt.height||et,dt=Pt.alias||dt,ut=Pt.compression||ut,xt=Pt.rotation||Pt.angle||xt}var $t=this.internal.getFilters();if(ut===void 0&&$t.indexOf("FlateEncode")!==-1&&(ut="SLOW"),isNaN(A)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var R=I.call(this,x,S,dt,ut);return T.call(this,A,Q,mt,et,R,xt),this};var I=function(x,S,A,Q){var mt,et,dt;if(typeof x=="string"&&r(x)===t){x=unescape(x);var ut=U(x,!1);(ut!==""||(ut=e.loadFile(x,!0))!==void 0)&&(x=ut)}if(g(x)&&(x=_(x,S)),S=r(x,S),!d(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(((dt=A)==null||dt.length===0)&&(A=function(xt){return typeof xt=="string"||Tt(xt)?k(xt):Tt(xt.data)?k(xt.data):null}(x)),(mt=m.call(this,A))||(yt()&&(x instanceof Uint8Array||S==="RGBA"||(et=x,x=O(x))),mt=this["process"+S.toUpperCase()](x,h.call(this),A,function(xt){return xt&&typeof xt=="string"&&(xt=xt.toUpperCase()),xt in e.image_compression?xt:P.NONE}(Q),et)),!mt)throw new Error("An unknown error occurred whilst processing the image.");return mt},U=e.__addimage__.convertBase64ToBinaryString=function(x,S){S=typeof S!="boolean"||S;var A,Q="";if(typeof x=="string"){var mt;A=(mt=Z(x))!==null&&mt!==void 0?mt:x;try{Q=Ru(A)}catch(et){if(S)throw K(A)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+et.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};e.getImageProperties=function(x){var S,A,Q="";if(g(x)&&(x=_(x)),typeof x=="string"&&r(x)===t&&((Q=U(x,!1))===""&&(Q=e.loadFile(x)||""),x=Q),A=r(x),!d(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(!yt()||x instanceof Uint8Array||(x=O(x)),!(S=this["process"+A.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return S.fileType=A,S}})(ue.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ue.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,d=!1,g=0;g<h.length&&!d;g++)switch((r=h[g]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var _=0;_<h.length;_++){r=h[_];var m=this.internal.pdfEscape,N=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(T.objId),k=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(P(r.contents))+")",s+=" /Popup "+M.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+m(P(k))+") >>",T.content=s;var K=T.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+K,r.open&&(s+=" /Open true"),s+=" >>",M.content=s,this.internal.write(T.objId,"0 R",M.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var Z=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(N(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Z+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var yt=this.annotations._nameMap[r.options.name];r.options.pageNumber=yt.page,r.options.top=yt.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Tt=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Tt+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:u(n),y:h(r),w:u(n+i),h:h(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,u=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(n,a).length;o=Math.ceil(h*d)}else a=u,o=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=u/2),s.align==="right"&&(r-=u),this.link(r,i-h,a,o,s),u},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ue.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(T){return t[T.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},a=e.__arabicParser__.isArabicEndLetter=function(T){return o(T)&&s(T)&&t[T.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(T){return o(T)&&i.indexOf(T.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return o(T)&&s(T)&&t[T.charCodeAt(0)].length>=1};var h=e.__arabicParser__.arabicLetterHasFinalForm=function(T){return o(T)&&s(T)&&t[T.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(T){return o(T)&&s(T)&&t[T.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(T){return o(T)&&s(T)&&t[T.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(T){var M=0,P=n,k="",K=0;for(M=0;M<T.length;M+=1)P[T.charCodeAt(M)]!==void 0?(K++,typeof(P=P[T.charCodeAt(M)])=="number"&&(k+=String.fromCharCode(P),P=n,K=0),M===T.length-1&&(P=n,k+=T.charAt(M-(K-1)),M-=K-1,K=0)):(P=n,k+=T.charAt(M-K),M-=K,K=0);return k};e.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&r[T.charCodeAt(0)]!==void 0};var _=e.__arabicParser__.getCorrectForm=function(T,M,P){return o(T)?s(T)===!1?-1:!h(T)||!o(M)&&!o(P)||!o(P)&&a(M)||a(T)&&!o(M)||a(T)&&u(M)||a(T)&&a(M)?0:d(T)&&o(M)&&!a(M)&&o(P)&&h(P)?3:a(T)||!o(P)?1:2:-1},m=function(T){var M=0,P=0,k=0,K="",Z="",yt="",Tt=(T=T||"").split("\\s+"),O=[];for(M=0;M<Tt.length;M+=1){for(O.push(""),P=0;P<Tt[M].length;P+=1)K=Tt[M][P],Z=Tt[M][P-1],yt=Tt[M][P+1],o(K)?(k=_(K,Z,yt),O[M]+=k!==-1?String.fromCharCode(t[K.charCodeAt(0)][k]):K):O[M]+=K;O[M]=g(O[M])}return O.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var T,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(M)){var k=0;for(P=[],k=0;k<M.length;k+=1)Array.isArray(M[k])?P.push([m(M[k][0]),M[k][1],M[k][2]]):P.push([m(M[k])]);T=P}else T=m(M);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};e.events.push(["preProcessText",N])}(ue.API),ue.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ue.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(T){u=T}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(T){h=T}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(T){d=T}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(T){g=T}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(T){_=T}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(T){m=T}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(T){N=T}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,h){r.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),_=h.scaleFactor||this.internal.scaleFactor,m=0,N=0,T=0,M=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var P=h.maxWidth;P>0?typeof u=="string"?u=this.splitTextToSize(u,P):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(K,Z){return K.concat(M.splitTextToSize(Z,P))},[])):u=Array.isArray(u)?u:[u];for(var k=0;k<u.length;k++)m<(T=this.getStringUnitWidth(u[k],{font:g})*d)&&(m=T);return m!==0&&(N=u.length),{w:m/=_,h:Math.max((N*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/_,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,_=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,m&&_&&(this.printHeaderRow(u.lineNumber,!0),u.y+=_[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-d,u.y+d,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+d,{align:"center",baseline:"top",maxWidth:u.width-d-d}):this.text(u.text,u.x+d,u.y+d,{align:"left",baseline:"top",maxWidth:u.width-d-d})),this.internal.__cell__.lastCell=u,this};e.table=function(u,h,d,g,_){if(r.call(this),!d)throw new Error("No data for PDF table.");var m,N,T,M,P=[],k=[],K=[],Z={},yt={},Tt=[],O=[],b=(_=_||{}).autoSize||!1,I=_.printHeaders!==!1,U=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,x=_.margins||Object.assign({width:this.getPageWidth()},t),S=typeof _.padding=="number"?_.padding:3,A=_.headerBackgroundColor||"#c8c8c8",Q=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=Q,this.setFontSize(U),g==null)k=P=Object.keys(d[0]),K=P.map(function(){return"left"});else if(Array.isArray(g)&&Qe(g[0])==="object")for(P=g.map(function(Pt){return Pt.name}),k=g.map(function(Pt){return Pt.prompt||Pt.name||""}),K=g.map(function(Pt){return Pt.align||"left"}),m=0;m<g.length;m+=1)yt[g[m].name]=g[m].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(k=P=g,K=P.map(function(){return"left"}));if(b||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<P.length;m+=1){for(Z[M=P[m]]=d.map(function(Pt){return Pt[M]}),this.setFont(void 0,"bold"),Tt.push(this.getTextDimensions(k[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=Z[M],this.setFont(void 0,"normal"),T=0;T<N.length;T+=1)Tt.push(this.getTextDimensions(N[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);yt[M]=Math.max.apply(null,Tt)+S+S,Tt=[]}if(I){var mt={};for(m=0;m<P.length;m+=1)mt[P[m]]={},mt[P[m]].text=k[m],mt[P[m]].align=K[m];var et=a.call(this,mt,yt);O=P.map(function(Pt){return new s(u,h,yt[Pt],et,mt[Pt].text,void 0,mt[Pt].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var dt=g.reduce(function(Pt,$t){return Pt[$t.name]=$t.align,Pt},{});for(m=0;m<d.length;m+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:m,data:d[m]},this);var ut=a.call(this,d[m],yt);for(T=0;T<P.length;T+=1){var xt=d[m][P[T]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:m,col:T,data:xt},this),o.call(this,new s(u,h,yt[P[T]],ut,xt,m+2,dt[P[T]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var a=function(u,h){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(u).map(function(m){var N=u[m];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,h[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/_+d+d},this).reduce(function(m,N){return Math.max(m,N)},0)};e.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,_.push(d)),d.lineNumber=u;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(N)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),n=!1}}(ue.API);var Ov={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Fv=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],rp=Dv(Fv),Mv=[100,200,300,400,500,600,700,800,900],px=Dv(Mv);function ip(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Ov[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof rp[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Jm(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var gx={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Xm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Zm(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function mx(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},gx,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=ip(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+Zm(s)+"' and default family '"+r+"'.");if(o=function(u,h){if(h[u])return h[u];var d=rp[u],g=d<=rp.normal?-1:1,_=Jm(h,Fv,d,g);if(!_)throw new Error("Could not find a matching font-stretch value for "+u);return _}(s.stretch,o),o=function(u,h){if(h[u])return h[u];for(var d=Ov[u],g=0;g<d.length;++g)if(h[d[g]])return h[d[g]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,h){if(h[u])return h[u];if(u===400&&h[500])return h[500];if(u===500&&h[400])return h[400];var d=px[u],g=Jm(h,Mv,d,u<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+u);return g}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Zm(s)+"'.");return o}function t2(e){return e.trimLeft()}function vx(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function yx(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Mc,e2,n2,od=["times"];(function(e){var t,n,r,i,s,o,a,u,h,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new u,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,u=this.internal.Matrix,h=new d}]);var g=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=R;Object.defineProperty(this,"pdf",{get:function(){return H}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(X){J=!!X}});var st=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return st},set:function(X){st=!!X}});var tt=0;Object.defineProperty(this,"posX",{get:function(){return tt},set:function(X){isNaN(X)||(tt=X)}});var G=0;Object.defineProperty(this,"posY",{get:function(){return G},set:function(X){isNaN(X)||(G=X)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(X){var j;typeof X=="number"?j=[X,X,X,X]:((j=new Array(4))[0]=X[0],j[1]=X.length>=2?X[1]:j[0],j[2]=X.length>=3?X[2]:j[0],j[3]=X.length>=4?X[3]:j[1]),h.margin=j}});var rt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return rt},set:function(X){rt=X}});var nt=0;Object.defineProperty(this,"lastBreak",{get:function(){return nt},set:function(X){nt=X}});var It=[];Object.defineProperty(this,"pageBreaks",{get:function(){return It},set:function(X){It=X}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(X){X instanceof d&&(h=X)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(X){h.path=X}});var Nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Nt},set:function(X){Nt=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var j;j=_(X),this.ctx.fillStyle=j.style,this.ctx.isFillTransparent=j.a===0,this.ctx.fillOpacity=j.a,this.pdf.setFillColor(j.r,j.g,j.b,{a:j.a}),this.pdf.setTextColor(j.r,j.g,j.b,{a:j.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var j=_(X);this.ctx.strokeStyle=j.style,this.ctx.isStrokeTransparent=j.a===0,this.ctx.strokeOpacity=j.a,j.a===0?this.pdf.setDrawColor(255,255,255):(j.a,this.pdf.setDrawColor(j.r,j.g,j.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var z=null;function $(X,j){if(z===null){var bt=function(Lt){var vt=[];return Object.keys(Lt).forEach(function(wt){Lt[wt].forEach(function(_t){var Dt=null;switch(_t){case"bold":Dt={family:wt,weight:"bold"};break;case"italic":Dt={family:wt,style:"italic"};break;case"bolditalic":Dt={family:wt,weight:"bold",style:"italic"};break;case"":case"normal":Dt={family:wt}}Dt!==null&&(Dt.ref={name:wt,style:_t},vt.push(Dt))})}),vt}(X.getFontList());z=function(Lt){for(var vt={},wt=0;wt<Lt.length;++wt){var _t=ip(Lt[wt]),Dt=_t.family,kt=_t.stretch,Ut=_t.style,Ht=_t.weight;vt[Dt]=vt[Dt]||{},vt[Dt][kt]=vt[Dt][kt]||{},vt[Dt][kt][Ut]=vt[Dt][kt][Ut]||{},vt[Dt][kt][Ut][Ht]=_t}return vt}(bt.concat(j))}return z}var it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(X){z=null,it=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var j;if(this.ctx.font=X,(j=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(X))!==null){var bt=j[1];j[2];var Lt=j[3],vt=j[4];j[5];var wt=j[6],_t=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(vt)[2];vt=Math.floor(_t==="px"?parseFloat(vt)*this.pdf.internal.scaleFactor:_t==="em"?parseFloat(vt)*this.pdf.getFontSize():parseFloat(vt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(vt);var Dt=function(ee){var se,Gt,Re=[],Ae=ee.trim();if(Ae==="")return od;if(Ae in Xm)return[Xm[Ae]];for(;Ae!=="";){switch(Gt=null,se=(Ae=t2(Ae)).charAt(0)){case'"':case"'":Gt=vx(Ae.substring(1),se);break;default:Gt=yx(Ae)}if(Gt===null||(Re.push(Gt[0]),(Ae=t2(Gt[1]))!==""&&Ae.charAt(0)!==","))return od;Ae=Ae.replace(/^,/,"")}return Re}(wt);if(this.fontFaces){var kt=mx($(this.pdf,this.fontFaces),Dt.map(function(ee){return{family:ee,stretch:"normal",weight:Lt,style:bt}}));this.pdf.setFont(kt.ref.name,kt.ref.style)}else{var Ut="";(Lt==="bold"||parseInt(Lt,10)>=700||bt==="bold")&&(Ut="bold"),bt==="italic"&&(Ut+="italic"),Ut.length===0&&(Ut="normal");for(var Ht="",Wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Yt=0;Yt<Dt.length;Yt++){if(this.pdf.internal.getFont(Dt[Yt],Ut,{noFallback:!0,disableWarning:!0})!==void 0){Ht=Dt[Yt];break}if(Ut==="bolditalic"&&this.pdf.internal.getFont(Dt[Yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ht=Dt[Yt],Ut="bold";else if(this.pdf.internal.getFont(Dt[Yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ht=Dt[Yt],Ut="normal";break}}if(Ht===""){for(var re=0;re<Dt.length;re++)if(Wt[Dt[re]]){Ht=Wt[Dt[re]];break}}Ht=Ht===""?"Times":Ht,this.pdf.setFont(Ht,Ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,$t.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,$t.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};g.prototype.setLineDash=function(R){this.lineDash=R},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){Z.call(this,"fill",!1)},g.prototype.stroke=function(){Z.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(R,H){if(isNaN(R)||isNaN(H))throw tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(R,H));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(R,H)},g.prototype.closePath=function(){var R=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Qe(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){R=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},g.prototype.lineTo=function(R,H){if(isNaN(R)||isNaN(H))throw tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(R,H));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Z.call(this,null,!0)},g.prototype.quadraticCurveTo=function(R,H,J,st){if(isNaN(J)||isNaN(st)||isNaN(R)||isNaN(H))throw tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var tt=this.ctx.transform.applyToPoint(new o(J,st)),G=this.ctx.transform.applyToPoint(new o(R,H));this.path.push({type:"qct",x1:G.x,y1:G.y,x:tt.x,y:tt.y}),this.ctx.lastPoint=new o(tt.x,tt.y)},g.prototype.bezierCurveTo=function(R,H,J,st,tt,G){if(isNaN(tt)||isNaN(G)||isNaN(R)||isNaN(H)||isNaN(J)||isNaN(st))throw tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var rt=this.ctx.transform.applyToPoint(new o(tt,G)),nt=this.ctx.transform.applyToPoint(new o(R,H)),It=this.ctx.transform.applyToPoint(new o(J,st));this.path.push({type:"bct",x1:nt.x,y1:nt.y,x2:It.x,y2:It.y,x:rt.x,y:rt.y}),this.ctx.lastPoint=new o(rt.x,rt.y)},g.prototype.arc=function(R,H,J,st,tt,G){if(isNaN(R)||isNaN(H)||isNaN(J)||isNaN(st)||isNaN(tt))throw tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(G=!!G,!this.ctx.transform.isIdentity){var rt=this.ctx.transform.applyToPoint(new o(R,H));R=rt.x,H=rt.y;var nt=this.ctx.transform.applyToPoint(new o(0,J)),It=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(nt.x-It.x,2)+Math.pow(nt.y-It.y,2))}Math.abs(tt-st)>=2*Math.PI&&(st=0,tt=2*Math.PI),this.path.push({type:"arc",x:R,y:H,radius:J,startAngle:st,endAngle:tt,counterclockwise:G})},g.prototype.arcTo=function(R,H,J,st,tt){throw new Error("arcTo not implemented.")},g.prototype.rect=function(R,H,J,st){if(isNaN(R)||isNaN(H)||isNaN(J)||isNaN(st))throw tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,H),this.lineTo(R+J,H),this.lineTo(R+J,H+st),this.lineTo(R,H+st),this.lineTo(R,H),this.lineTo(R+J,H),this.lineTo(R,H)},g.prototype.fillRect=function(R,H,J,st){if(isNaN(R)||isNaN(H)||isNaN(J)||isNaN(st))throw tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var tt={};this.lineCap!=="butt"&&(tt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(tt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,H,J,st),this.fill(),tt.hasOwnProperty("lineCap")&&(this.lineCap=tt.lineCap),tt.hasOwnProperty("lineJoin")&&(this.lineJoin=tt.lineJoin)}},g.prototype.strokeRect=function(R,H,J,st){if(isNaN(R)||isNaN(H)||isNaN(J)||isNaN(st))throw tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(R,H,J,st),this.stroke())},g.prototype.clearRect=function(R,H,J,st){if(isNaN(R)||isNaN(H)||isNaN(J)||isNaN(st))throw tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,H,J,st))},g.prototype.save=function(R){R=typeof R!="boolean"||R;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var st=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=st}},g.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(H),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(R){var H,J,st,tt;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))H=0,J=0,st=0,tt=0;else{var G=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(G!==null)H=parseInt(G[1]),J=parseInt(G[2]),st=parseInt(G[3]),tt=1;else if((G=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)H=parseInt(G[1]),J=parseInt(G[2]),st=parseInt(G[3]),tt=parseFloat(G[4]);else{if(tt=1,typeof R=="string"&&R.charAt(0)!=="#"){var rt=new Pv(R);R=rt.ok?rt.toHex():"#000000"}R.length===4?(H=R.substring(1,2),H+=H,J=R.substring(2,3),J+=J,st=R.substring(3,4),st+=st):(H=R.substring(1,3),J=R.substring(3,5),st=R.substring(5,7)),H=parseInt(H,16),J=parseInt(J,16),st=parseInt(st,16)}}return{r:H,g:J,b:st,a:tt,style:R}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(R,H,J,st){if(isNaN(H)||isNaN(J)||typeof R!="string")throw tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(st=isNaN(st)?void 0:st,!m.call(this)){var tt=ut(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;S.call(this,{text:R,x:H,y:J,scale:G,angle:tt,align:this.textAlign,maxWidth:st})}},g.prototype.strokeText=function(R,H,J,st){if(isNaN(H)||isNaN(J)||typeof R!="string")throw tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){st=isNaN(st)?void 0:st;var tt=ut(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;S.call(this,{text:R,x:H,y:J,scale:G,renderingMode:"stroke",angle:tt,align:this.textAlign,maxWidth:st})}},g.prototype.measureText=function(R){if(typeof R!="string")throw tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,J=this.pdf.internal.scaleFactor,st=H.internal.getFontSize(),tt=H.getStringUnitWidth(R)*st/H.internal.scaleFactor,G=function(rt){var nt=(rt=rt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return nt}}),this};return new G({width:tt*=Math.round(96*J/72*1e4)/1e4})},g.prototype.scale=function(R,H){if(isNaN(R)||isNaN(H))throw tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new u(R,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},g.prototype.rotate=function(R){if(isNaN(R))throw tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new u(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},g.prototype.translate=function(R,H){if(isNaN(R)||isNaN(H))throw tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new u(1,0,0,1,R,H);this.ctx.transform=this.ctx.transform.multiply(J)},g.prototype.transform=function(R,H,J,st,tt,G){if(isNaN(R)||isNaN(H)||isNaN(J)||isNaN(st)||isNaN(tt)||isNaN(G))throw tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var rt=new u(R,H,J,st,tt,G);this.ctx.transform=this.ctx.transform.multiply(rt)},g.prototype.setTransform=function(R,H,J,st,tt,G){R=isNaN(R)?1:R,H=isNaN(H)?0:H,J=isNaN(J)?0:J,st=isNaN(st)?1:st,tt=isNaN(tt)?0:tt,G=isNaN(G)?0:G,this.ctx.transform=new u(R,H,J,st,tt,G)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(R,H,J,st,tt,G,rt,nt,It){var Nt=this.pdf.getImageProperties(R),z=1,$=1,it=1,X=1;st!==void 0&&nt!==void 0&&(it=nt/st,X=It/tt,z=Nt.width/st*nt/st,$=Nt.height/tt*It/tt),G===void 0&&(G=H,rt=J,H=0,J=0),st!==void 0&&nt===void 0&&(nt=st,It=tt),st===void 0&&nt===void 0&&(nt=Nt.width,It=Nt.height);for(var j,bt=this.ctx.transform.decompose(),Lt=ut(bt.rotate.shx),vt=new u,wt=(vt=(vt=(vt=vt.multiply(bt.translate)).multiply(bt.skew)).multiply(bt.scale)).applyToRectangle(new a(G-H*it,rt-J*X,st*z,tt*$)),_t=M.call(this,wt),Dt=[],kt=0;kt<_t.length;kt+=1)Dt.indexOf(_t[kt])===-1&&Dt.push(_t[kt]);if(K(Dt),this.autoPaging)for(var Ut=Dt[0],Ht=Dt[Dt.length-1],Wt=Ut;Wt<Ht+1;Wt++){this.pdf.setPage(Wt);var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],re=Wt===1?this.posY+this.margin[0]:this.margin[0],ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gt=Wt===1?0:ee+(Wt-2)*se;if(this.ctx.clip_path.length!==0){var Re=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(j,this.posX+this.margin[3],-Gt+re+this.ctx.prevPageLastElemOffset),yt.call(this,"fill",!0),this.path=Re}var Ae=JSON.parse(JSON.stringify(wt));Ae=k([Ae],this.posX+this.margin[3],-Gt+re+this.ctx.prevPageLastElemOffset)[0];var Hn=(Wt>Ut||Wt<Ht)&&T.call(this);Hn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,se,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Ae.x,Ae.y,Ae.w,Ae.h,null,null,Lt),Hn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,Lt)};var M=function(R,H,J){var st=[];H=H||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var tt=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":st.push(Math.floor((R.y+tt)/J)+1);break;case"arc":st.push(Math.floor((R.y+tt-R.radius)/J)+1),st.push(Math.floor((R.y+tt+R.radius)/J)+1);break;case"qct":var G=xt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);st.push(Math.floor((G.y+tt)/J)+1),st.push(Math.floor((G.y+G.h+tt)/J)+1);break;case"bct":var rt=Pt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);st.push(Math.floor((rt.y+tt)/J)+1),st.push(Math.floor((rt.y+rt.h+tt)/J)+1);break;case"rect":st.push(Math.floor((R.y+tt)/J)+1),st.push(Math.floor((R.y+R.h+tt)/J)+1)}for(var nt=0;nt<st.length;nt+=1)for(;this.pdf.internal.getNumberOfPages()<st[nt];)P.call(this);return st},P=function(){var R=this.fillStyle,H=this.strokeStyle,J=this.font,st=this.lineCap,tt=this.lineWidth,G=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=H,this.font=J,this.lineCap=st,this.lineWidth=tt,this.lineJoin=G},k=function(R,H,J){for(var st=0;st<R.length;st++)switch(R[st].type){case"bct":R[st].x2+=H,R[st].y2+=J;case"qct":R[st].x1+=H,R[st].y1+=J;case"mt":case"lt":case"arc":default:R[st].x+=H,R[st].y+=J}return R},K=function(R){return R.sort(function(H,J){return H-J})},Z=function(R,H){for(var J,st,tt=this.fillStyle,G=this.strokeStyle,rt=this.lineCap,nt=this.lineWidth,It=Math.abs(nt*this.ctx.transform.scaleX),Nt=this.lineJoin,z=JSON.parse(JSON.stringify(this.path)),$=JSON.parse(JSON.stringify(this.path)),it=[],X=0;X<$.length;X++)if($[X].x!==void 0)for(var j=M.call(this,$[X]),bt=0;bt<j.length;bt+=1)it.indexOf(j[bt])===-1&&it.push(j[bt]);for(var Lt=0;Lt<it.length;Lt++)for(;this.pdf.internal.getNumberOfPages()<it[Lt];)P.call(this);if(K(it),this.autoPaging)for(var vt=it[0],wt=it[it.length-1],_t=vt;_t<wt+1;_t++){this.pdf.setPage(_t),this.fillStyle=tt,this.strokeStyle=G,this.lineCap=rt,this.lineWidth=It,this.lineJoin=Nt;var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=_t===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=_t===1?0:Ut+(_t-2)*Ht;if(this.ctx.clip_path.length!==0){var Yt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(J,this.posX+this.margin[3],-Wt+kt+this.ctx.prevPageLastElemOffset),yt.call(this,R,!0),this.path=Yt}if(st=JSON.parse(JSON.stringify(z)),this.path=k(st,this.posX+this.margin[3],-Wt+kt+this.ctx.prevPageLastElemOffset),H===!1||_t===0){var re=(_t>vt||_t<wt)&&T.call(this);re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,Ht,null).clip().discardPath()),yt.call(this,R,H),re&&this.pdf.restoreGraphicsState()}this.lineWidth=nt}else this.lineWidth=It,yt.call(this,R,H),this.lineWidth=nt;this.path=z},yt=function(R,H){if((R!=="stroke"||H||!N.call(this))&&(R==="stroke"||H||!m.call(this))){for(var J,st,tt=[],G=this.path,rt=0;rt<G.length;rt++){var nt=G[rt];switch(nt.type){case"begin":tt.push({begin:!0});break;case"close":tt.push({close:!0});break;case"mt":tt.push({start:nt,deltas:[],abs:[]});break;case"lt":var It=tt.length;if(G[rt-1]&&!isNaN(G[rt-1].x)&&(J=[nt.x-G[rt-1].x,nt.y-G[rt-1].y],It>0)){for(;It>=0;It--)if(tt[It-1].close!==!0&&tt[It-1].begin!==!0){tt[It-1].deltas.push(J),tt[It-1].abs.push(nt);break}}break;case"bct":J=[nt.x1-G[rt-1].x,nt.y1-G[rt-1].y,nt.x2-G[rt-1].x,nt.y2-G[rt-1].y,nt.x-G[rt-1].x,nt.y-G[rt-1].y],tt[tt.length-1].deltas.push(J);break;case"qct":var Nt=G[rt-1].x+2/3*(nt.x1-G[rt-1].x),z=G[rt-1].y+2/3*(nt.y1-G[rt-1].y),$=nt.x+2/3*(nt.x1-nt.x),it=nt.y+2/3*(nt.y1-nt.y),X=nt.x,j=nt.y;J=[Nt-G[rt-1].x,z-G[rt-1].y,$-G[rt-1].x,it-G[rt-1].y,X-G[rt-1].x,j-G[rt-1].y],tt[tt.length-1].deltas.push(J);break;case"arc":tt.push({deltas:[],abs:[],arc:!0}),Array.isArray(tt[tt.length-1].abs)&&tt[tt.length-1].abs.push(nt)}}st=H?null:R==="stroke"?"stroke":"fill";for(var bt=!1,Lt=0;Lt<tt.length;Lt++)if(tt[Lt].arc)for(var vt=tt[Lt].abs,wt=0;wt<vt.length;wt++){var _t=vt[wt];_t.type==="arc"?b.call(this,_t.x,_t.y,_t.radius,_t.startAngle,_t.endAngle,_t.counterclockwise,void 0,H,!bt):A.call(this,_t.x,_t.y),bt=!0}else if(tt[Lt].close===!0)this.pdf.internal.out("h"),bt=!1;else if(tt[Lt].begin!==!0){var Dt=tt[Lt].start.x,kt=tt[Lt].start.y;Q.call(this,tt[Lt].deltas,Dt,kt),bt=!0}st&&I.call(this,st),H&&U.call(this)}},Tt=function(R){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-J;case"top":return R+H-J;case"hanging":return R+H-2*J;case"middle":return R+H/2-J;case"ideographic":return R;case"alphabetic":default:return R}},O=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(H,J){this.colorStops.push([H,J])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var b=function(R,H,J,st,tt,G,rt,nt,It){for(var Nt=et.call(this,J,st,tt,G),z=0;z<Nt.length;z++){var $=Nt[z];z===0&&(It?x.call(this,$.x1+R,$.y1+H):A.call(this,$.x1+R,$.y1+H)),mt.call(this,R,H,$.x2,$.y2,$.x3,$.y3,$.x4,$.y4)}nt?U.call(this):I.call(this,rt)},I=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(R,H){this.pdf.internal.out(n(R)+" "+r(H)+" m")},S=function(R){var H;switch(R.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var J=this.pdf.getTextDimensions(R.text),st=Tt.call(this,R.y),tt=O.call(this,st)-J.h,G=this.ctx.transform.applyToPoint(new o(R.x,st)),rt=this.ctx.transform.decompose(),nt=new u;nt=(nt=(nt=nt.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale);for(var It,Nt,z,$=this.ctx.transform.applyToRectangle(new a(R.x,st,J.w,J.h)),it=nt.applyToRectangle(new a(R.x,tt,J.w,J.h)),X=M.call(this,it),j=[],bt=0;bt<X.length;bt+=1)j.indexOf(X[bt])===-1&&j.push(X[bt]);if(K(j),this.autoPaging)for(var Lt=j[0],vt=j[j.length-1],wt=Lt;wt<vt+1;wt++){this.pdf.setPage(wt);var _t=wt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],Ut=kt-this.margin[0],Ht=this.pdf.internal.pageSize.width-this.margin[1],Wt=Ht-this.margin[3],Yt=wt===1?0:Dt+(wt-2)*Ut;if(this.ctx.clip_path.length!==0){var re=this.path;It=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(It,this.posX+this.margin[3],-1*Yt+_t),yt.call(this,"fill",!0),this.path=re}var ee=k([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Yt+_t+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*R.scale),z=this.lineWidth,this.lineWidth=z*R.scale);var se=this.autoPaging!=="text";if(se||ee.y+ee.h<=kt){if(se||ee.y>=_t&&ee.x<=Ht){var Gt=se?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Ht-ee.x)[0],Re=k([JSON.parse(JSON.stringify($))],this.posX+this.margin[3],-Yt+_t+this.ctx.prevPageLastElemOffset)[0],Ae=se&&(wt>Lt||wt<vt)&&T.call(this);Ae&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,Ut,null).clip().discardPath()),this.pdf.text(Gt,Re.x,Re.y,{angle:R.angle,align:H,renderingMode:R.renderingMode}),Ae&&this.pdf.restoreGraphicsState()}}else ee.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-ee.y);R.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=z)}else R.scale>=.01&&(Nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Nt*R.scale),z=this.lineWidth,this.lineWidth=z*R.scale),this.pdf.text(R.text,G.x+this.posX,G.y+this.posY,{angle:R.angle,align:H,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Nt),this.lineWidth=z)},A=function(R,H,J,st){J=J||0,st=st||0,this.pdf.internal.out(n(R+J)+" "+r(H+st)+" l")},Q=function(R,H,J){return this.pdf.lines(R,H,J,null,null)},mt=function(R,H,J,st,tt,G,rt,nt){this.pdf.internal.out([t(i(J+R)),t(s(st+H)),t(i(tt+R)),t(s(G+H)),t(i(rt+R)),t(s(nt+H)),"c"].join(" "))},et=function(R,H,J,st){for(var tt=2*Math.PI,G=Math.PI/2;H>J;)H-=tt;var rt=Math.abs(J-H);rt<tt&&st&&(rt=tt-rt);for(var nt=[],It=st?-1:1,Nt=H;rt>1e-5;){var z=Nt+It*Math.min(rt,G);nt.push(dt.call(this,R,Nt,z)),rt-=Math.abs(z-Nt),Nt=z}return nt},dt=function(R,H,J){var st=(J-H)/2,tt=R*Math.cos(st),G=R*Math.sin(st),rt=tt,nt=-G,It=rt*rt+nt*nt,Nt=It+rt*tt+nt*G,z=4/3*(Math.sqrt(2*It*Nt)-Nt)/(rt*G-nt*tt),$=rt-z*nt,it=nt+z*rt,X=$,j=-it,bt=st+H,Lt=Math.cos(bt),vt=Math.sin(bt);return{x1:R*Math.cos(H),y1:R*Math.sin(H),x2:$*Lt-it*vt,y2:$*vt+it*Lt,x3:X*Lt-j*vt,y3:X*vt+j*Lt,x4:R*Math.cos(J),y4:R*Math.sin(J)}},ut=function(R){return 180*R/Math.PI},xt=function(R,H,J,st,tt,G){var rt=R+.5*(J-R),nt=H+.5*(st-H),It=tt+.5*(J-tt),Nt=G+.5*(st-G),z=Math.min(R,tt,rt,It),$=Math.max(R,tt,rt,It),it=Math.min(H,G,nt,Nt),X=Math.max(H,G,nt,Nt);return new a(z,it,$-z,X-it)},Pt=function(R,H,J,st,tt,G,rt,nt){var It,Nt,z,$,it,X,j,bt,Lt,vt,wt,_t,Dt,kt,Ut=J-R,Ht=st-H,Wt=tt-J,Yt=G-st,re=rt-tt,ee=nt-G;for(Nt=0;Nt<41;Nt++)Lt=(j=(z=R+(It=Nt/40)*Ut)+It*((it=J+It*Wt)-z))+It*(it+It*(tt+It*re-it)-j),vt=(bt=($=H+It*Ht)+It*((X=st+It*Yt)-$))+It*(X+It*(G+It*ee-X)-bt),Nt==0?(wt=Lt,_t=vt,Dt=Lt,kt=vt):(wt=Math.min(wt,Lt),_t=Math.min(_t,vt),Dt=Math.max(Dt,Lt),kt=Math.max(kt,vt));return new a(Math.round(wt),Math.round(_t),Math.round(Dt-wt),Math.round(kt-_t))},$t=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,H,J=(R=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:H}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(ue.API),function(e){var t=function(s){var o,a,u,h,d,g,_,m,N,T;for(a=[],u=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>u;u+=4)(d=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(g=(d=((d=((d=((d=(d-(T=d%85))/85)-(N=d%85))/85)-(m=d%85))/85)-(_=d%85))/85)%85,a.push(g+33,_+33,m+33,N+33,T+33)):a.push(122);return function(M,P){for(var k=P;k>0;k--)M.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,u,h,d,g=String,_="length",m=255,N="charCodeAt",T="slice",M="replace";for(s[T](-2),s=s[T](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),u=[],h=0,d=(s+=o="uuuuu"[T](s[_]%5||5))[_];d>h;h+=5)a=52200625*(s[N](h)-33)+614125*(s[N](h+1)-33)+7225*(s[N](h+2)-33)+85*(s[N](h+3)-33)+(s[N](h+4)-33),u.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(P,k){for(var K=k;K>0;K--)P.pop()}(u,o[_]),g.fromCharCode.apply(g,u)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",u=0;u<s.length;u+=2)a+=String.fromCharCode("0x"+(s[u]+s[u+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Xd(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};e.processDataByFilters=function(s,o){var a=0,u=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(ue.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(u,h,d){var g=new XMLHttpRequest,_=0,m=function(N){var T=N.length,M=[],P=String.fromCharCode;for(_=0;_<T;_+=1)M.push(P(255&N.charCodeAt(_)));return M.join("")};if(g.open("GET",u,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?d(m(this.responseText)):d(void 0)}),g.send(null),h&&g.status===200)return m(g.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(ue.API),function(e){function t(){return(ce.html2canvas?Promise.resolve(ce.html2canvas):Gd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ce.DOMPurify?Promise.resolve(ce.DOMPurify):Gd(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Qe(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var u=document.createElement(o);for(var h in a.className&&(u.className=a.className),a.innerHTML&&a.dompurify&&(u.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)u.style[h]=a.style[h];return u},s=function o(a){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return h=(h=h.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function u(h,d){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),_=h.firstChild;_;_=_.nextSibling)d!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||g.appendChild(u(_,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,a(this.prop.container,u)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var u=this.opt.jsPDF,h=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var _=0;_<h.length;++_){var m=h[_],N=m.src.find(function(T){return T.format==="truetype"});N&&u.addFont(N.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),a(this.prop.container,g)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||ue.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,u,h){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,u,h){return this.setProgress(o?this.progress.val+o:null,a||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,a){var u=this;return this.thenCore(o,a,function(h,d){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,h),g}).then(h,d).then(function(g){return u.updateProgress(1),g})})},s.prototype.thenCore=function(o,a,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=u.call(h,o,a);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(u){a=a.thenCore(u)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ue.getPageSize=function(o,a,u){if(Qe(o)==="object"){var h=o;o=h.orientation,a=h.unit||a,u=h.format||u}a=a||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var d,g=(""+u).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var m,N=0,T=0;if(_.hasOwnProperty(g))N=_[g][1]/d,T=_[g][0]/d;else try{N=u[1],T=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",T>N&&(m=T,T=N,N=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>T&&(m=T,T=N,N=m)}return{width:T,height:N,unit:a,k:d,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(ip):null;var u=new s(a);return a.worker?u:u.from(o).doCallback()}}(ue.API),ue.API.addJS=function(e){return n2=e,this.internal.events.subscribe("postPutResources",function(){Mc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Mc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),e2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Mc!==void 0&&e2!==void 0&&this.internal.out("/Names <</JavaScript "+Mc+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var u=a[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(s=0;s<h;s++){var g=n.internal.newObject();d.push(g);var _=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var u=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ue.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var u,h=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(g){for(var _,m=256*g.charCodeAt(4)+g.charCodeAt(5),N=g.length,T={width:0,height:0,numcomponents:1},M=4;M<N;M+=2){if(M+=m,t.indexOf(g.charCodeAt(M+1))!==-1){_=256*g.charCodeAt(M+5)+g.charCodeAt(M+6),T={width:256*g.charCodeAt(M+7)+g.charCodeAt(M+8),height:_,numcomponents:g.charCodeAt(M+9)};break}m=256*g.charCodeAt(M+2)+g.charCodeAt(M+3)}return T}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:u.width,height:u.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return d}}(ue.API);var Za,Vc,r2,i2,s2,_x=function(){var e,t,n;function r(s){var o,a,u,h,d,g,_,m,N,T,M,P,k,K;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(o=this.readUInt32(),N=(function(){var Z,yt;for(yt=[],Z=0;Z<4;++Z)yt.push(String.fromCharCode(this.data[this.pos++]));return yt}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),h=this.readUInt16()||100,g.delay=1e3*d/h,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),s=(g!=null?g.data:void 0)||this.imgData,P=0;0<=o?P<o:P>o;0<=o?++P:--P)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((T=u-this.transparency.indexed.length)>0)for(k=0;0<=T?k<T:k>T;0<=T?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":_=(M=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,M.slice(0,_)),this.text[m]=String.fromCharCode.apply(String,M.slice(_+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(K=this.colorType)===4||K===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),u=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(g,_,m,N){var T,M,P,k,K,Z,yt,Tt,O,b,I,U,x,S,A,Q,mt,et,dt,ut,xt,Pt=Math.ceil((h.width-g)/m),$t=Math.ceil((h.height-_)/N),R=h.width==Pt&&h.height==$t;for(S=o*Pt,U=R?a:new Uint8Array(S*$t),Z=s.length,x=0,M=0;x<$t&&u<Z;){switch(s[u++]){case 0:for(k=mt=0;mt<S;k=mt+=1)U[M++]=s[u++];break;case 1:for(k=et=0;et<S;k=et+=1)T=s[u++],K=k<o?0:U[M-o],U[M++]=(T+K)%256;break;case 2:for(k=dt=0;dt<S;k=dt+=1)T=s[u++],P=(k-k%o)/o,A=x&&U[(x-1)*S+P*o+k%o],U[M++]=(A+T)%256;break;case 3:for(k=ut=0;ut<S;k=ut+=1)T=s[u++],P=(k-k%o)/o,K=k<o?0:U[M-o],A=x&&U[(x-1)*S+P*o+k%o],U[M++]=(T+Math.floor((K+A)/2))%256;break;case 4:for(k=xt=0;xt<S;k=xt+=1)T=s[u++],P=(k-k%o)/o,K=k<o?0:U[M-o],x===0?A=Q=0:(A=U[(x-1)*S+P*o+k%o],Q=P&&U[(x-1)*S+(P-1)*o+k%o]),yt=K+A-Q,Tt=Math.abs(yt-K),b=Math.abs(yt-A),I=Math.abs(yt-Q),O=Tt<=b&&Tt<=I?K:b<=I?A:Q,U[M++]=(T+O)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!R){var H=((_+x*N)*h.width+g)*o,J=x*S;for(k=0;k<Pt;k+=1){for(var st=0;st<o;st+=1)a[H++]=U[J++];H+=(m-1)*o}}x++}}return s=JS(s),h.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,u,h,d,g,_,m;for(a=this.palette,d=this.transparency.indexed||[],h=new Uint8Array((d.length||0)+a.length),u=0,s=0,o=g=0,_=a.length;g<_;o=g+=3)h[u++]=a[o],h[u++]=a[o+1],h[u++]=a[o+2],h[u++]=(m=d[s++])!=null?m:255;return h},r.prototype.copyToImageData=function(s,o){var a,u,h,d,g,_,m,N,T,M,P;if(u=this.colors,T=null,a=this.hasAlphaChannel,this.palette.length&&(T=(P=this._decodedPalette)!=null?P:this._decodedPalette=this.decodePalette(),u=4,a=!0),N=(h=s.data||s).length,g=T||o,d=_=0,u===1)for(;d<N;)m=T?4*o[d/4]:_,M=g[m++],h[d++]=M,h[d++]=M,h[d++]=M,h[d++]=a?g[m++]:255,_=m;else for(;d<N;)m=T?4*o[d/4]:_,h[d++]=g[m++],h[d++]=g[m++],h[d++]=g[m++],h[d++]=a?g[m++]:255,_=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ce)==="[object Window]"){try{t=ce.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,u,h,d,g,_,m;if(this.animation){for(m=[],a=d=0,g=(_=this.animation.frames).length;d<g;a=++d)o=_[a],u=s.createImageData(o.width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,h),o.imageData=u,m.push(o.image=e(u));return m}},r.prototype.renderFrame=function(s,o){var a,u,h;return a=(u=this.animation.frames)[o],h=u[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,u,h,d,g,_=this;return a=0,g=this.animation,h=g.numFrames,u=g.frames,d=g.numPlays,(o=function(){var m,N;if(m=a++%h,N=u[m],_.renderFrame(s,m),h>1&&a/h<d)return _.animation._timeout=setTimeout(o,N.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function bx(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,u=null;s&&(a=t,u=o,t+=3*o);var h=!0,d=[],g=0,_=null,m=0,N=null;for(this.width=n,this.height=r;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var T=e[t++];g=e[t++]|e[t++]<<8,_=e[t++],(1&T)==0&&(_=null),m=T>>2&7,t++;break;case 254:for(;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var M=e[t++]|e[t++]<<8,P=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,K=e[t++]|e[t++]<<8,Z=e[t++],yt=Z>>6&1,Tt=1<<(7&Z)+1,O=a,b=u,I=!1;Z>>7&&(I=!0,O=t,b=Tt,t+=3*Tt);var U=t;for(t++;;){var x;if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}d.push({x:M,y:P,width:k,height:K,has_local_palette:I,palette_offset:O,palette_size:b,data_offset:U,data_length:t-U,transparent_index:_,interlaced:!!yt,delay:g,disposal:m});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return N},this.frameInfo=function(S){if(S<0||S>=d.length)throw new Error("Frame index out of range.");return d[S]},this.decodeAndBlitFrameBGRA=function(S,A){var Q=this.frameInfo(S),mt=Q.width*Q.height,et=new Uint8Array(mt);o2(e,Q.data_offset,et,mt);var dt=Q.palette_offset,ut=Q.transparent_index;ut===null&&(ut=256);var xt=Q.width,Pt=n-xt,$t=xt,R=4*(Q.y*n+Q.x),H=4*((Q.y+Q.height)*n+Q.x),J=R,st=4*Pt;Q.interlaced===!0&&(st+=4*n*7);for(var tt=8,G=0,rt=et.length;G<rt;++G){var nt=et[G];if($t===0&&($t=xt,(J+=st)>=H&&(st=4*Pt+4*n*(tt-1),J=R+(xt+Pt)*(tt<<1),tt>>=1)),nt===ut)J+=4;else{var It=e[dt+3*nt],Nt=e[dt+3*nt+1],z=e[dt+3*nt+2];A[J++]=z,A[J++]=Nt,A[J++]=It,A[J++]=255}--$t}},this.decodeAndBlitFrameRGBA=function(S,A){var Q=this.frameInfo(S),mt=Q.width*Q.height,et=new Uint8Array(mt);o2(e,Q.data_offset,et,mt);var dt=Q.palette_offset,ut=Q.transparent_index;ut===null&&(ut=256);var xt=Q.width,Pt=n-xt,$t=xt,R=4*(Q.y*n+Q.x),H=4*((Q.y+Q.height)*n+Q.x),J=R,st=4*Pt;Q.interlaced===!0&&(st+=4*n*7);for(var tt=8,G=0,rt=et.length;G<rt;++G){var nt=et[G];if($t===0&&($t=xt,(J+=st)>=H&&(st=4*Pt+4*n*(tt-1),J=R+(xt+Pt)*(tt<<1),tt>>=1)),nt===ut)J+=4;else{var It=e[dt+3*nt],Nt=e[dt+3*nt+1],z=e[dt+3*nt+2];A[J++]=It,A[J++]=Nt,A[J++]=z,A[J++]=255}--$t}}}function o2(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,u=i+1,h=(1<<u)-1,d=0,g=0,_=0,m=e[t++],N=new Int32Array(4096),T=null;;){for(;d<16&&m!==0;)g|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<u)break;var M=g&h;if(g>>=u,d-=u,M!==s){if(M===o)break;for(var P=M<a?M:T,k=0,K=P;K>s;)K=N[K]>>8,++k;var Z=K;if(_+k+(P!==M?1:0)>r)return void tn.log("Warning, gif stream longer than expected.");n[_++]=Z;var yt=_+=k;for(P!==M&&(n[_++]=Z),K=P;k--;)K=N[K],n[--yt]=255&K,K>>=8;T!==null&&a<4096&&(N[a++]=T<<8|Z,a>=h+1&&u<12&&(++u,h=h<<1|1)),T=M}else a=o+1,h=(1<<(u=i+1))-1,T=null}return _!==r&&tn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ad(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),u=new Array(64),h=new Array(64),d=new Array(64),g=new Array(65535),_=new Array(65535),m=new Array(64),N=new Array(64),T=[],M=0,P=7,k=new Array(64),K=new Array(64),Z=new Array(64),yt=new Array(256),Tt=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],b=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],mt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function et(R,H){for(var J=0,st=0,tt=new Array,G=1;G<=16;G++){for(var rt=1;rt<=R[G];rt++)tt[H[st]]=[],tt[H[st]][0]=J,tt[H[st]][1]=G,st++,J++;J*=2}return tt}function dt(R){for(var H=R[0],J=R[1]-1;J>=0;)H&1<<J&&(M|=1<<P),J--,--P<0&&(M==255?(ut(255),ut(0)):ut(M),P=7,M=0)}function ut(R){T.push(R)}function xt(R){ut(R>>8&255),ut(255&R)}function Pt(R,H,J,st,tt){for(var G,rt=tt[0],nt=tt[240],It=function(vt,wt){var _t,Dt,kt,Ut,Ht,Wt,Yt,re,ee,se,Gt=0;for(ee=0;ee<8;++ee){_t=vt[Gt],Dt=vt[Gt+1],kt=vt[Gt+2],Ut=vt[Gt+3],Ht=vt[Gt+4],Wt=vt[Gt+5],Yt=vt[Gt+6];var Re=_t+(re=vt[Gt+7]),Ae=_t-re,Hn=Dt+Yt,pe=Dt-Yt,Se=kt+Wt,yr=kt-Wt,Pe=Ut+Ht,Ci=Ut-Ht,ln=Re+Pe,Wn=Re-Pe,Vr=Hn+Se,nn=Hn-Se;vt[Gt]=ln+Vr,vt[Gt+4]=ln-Vr;var oe=.707106781*(nn+Wn);vt[Gt+2]=Wn+oe,vt[Gt+6]=Wn-oe;var ke=.382683433*((ln=Ci+yr)-(nn=pe+Ae)),ei=.5411961*ln+ke,Nn=1.306562965*nn+ke,er=.707106781*(Vr=yr+pe),jr=Ae+er,te=Ae-er;vt[Gt+5]=te+ei,vt[Gt+3]=te-ei,vt[Gt+1]=jr+Nn,vt[Gt+7]=jr-Nn,Gt+=8}for(Gt=0,ee=0;ee<8;++ee){_t=vt[Gt],Dt=vt[Gt+8],kt=vt[Gt+16],Ut=vt[Gt+24],Ht=vt[Gt+32],Wt=vt[Gt+40],Yt=vt[Gt+48];var Pr=_t+(re=vt[Gt+56]),nr=_t-re,Ln=Dt+Yt,_n=Dt-Yt,gn=kt+Wt,Cn=kt-Wt,Bs=Ut+Ht,fi=Ut-Ht,rr=Pr+Bs,Nr=Pr-Bs,_r=Ln+gn,br=Ln-gn;vt[Gt]=rr+_r,vt[Gt+32]=rr-_r;var bn=.707106781*(br+Nr);vt[Gt+16]=Nr+bn,vt[Gt+48]=Nr-bn;var Br=.382683433*((rr=fi+Cn)-(br=_n+nr)),Ri=.5411961*rr+Br,ki=1.306562965*br+Br,Di=.707106781*(_r=Cn+_n),as=nr+Di,ls=nr-Di;vt[Gt+40]=ls+Ri,vt[Gt+24]=ls-Ri,vt[Gt+8]=as+ki,vt[Gt+56]=as-ki,Gt++}for(ee=0;ee<64;++ee)se=vt[ee]*wt[ee],m[ee]=se>0?se+.5|0:se-.5|0;return m}(R,H),Nt=0;Nt<64;++Nt)N[O[Nt]]=It[Nt];var z=N[0]-J;J=N[0],z==0?dt(st[0]):(dt(st[_[G=32767+z]]),dt(g[G]));for(var $=63;$>0&&N[$]==0;)$--;if($==0)return dt(rt),J;for(var it,X=1;X<=$;){for(var j=X;N[X]==0&&X<=$;)++X;var bt=X-j;if(bt>=16){it=bt>>4;for(var Lt=1;Lt<=it;++Lt)dt(nt);bt&=15}G=32767+N[X],dt(tt[(bt<<4)+_[G]]),dt(g[G]),X++}return $!=63&&dt(rt),J}function $t(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(H){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],st=0;st<64;st++){var tt=o((J[st]*H+50)/100);tt=Math.min(Math.max(tt,1),255),a[O[st]]=tt}for(var G=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],rt=0;rt<64;rt++){var nt=o((G[rt]*H+50)/100);nt=Math.min(Math.max(nt,1),255),u[O[rt]]=nt}for(var It=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Nt=0,z=0;z<8;z++)for(var $=0;$<8;$++)h[Nt]=1/(a[O[Nt]]*It[z]*It[$]*8),d[Nt]=1/(u[O[Nt]]*It[z]*It[$]*8),Nt++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,H){H&&$t(H),T=new Array,M=0,P=7,xt(65496),xt(65504),xt(16),ut(74),ut(70),ut(73),ut(70),ut(0),ut(1),ut(1),ut(0),xt(1),xt(1),ut(0),ut(0),function(){xt(65499),xt(132),ut(0);for(var Dt=0;Dt<64;Dt++)ut(a[Dt]);ut(1);for(var kt=0;kt<64;kt++)ut(u[kt])}(),function(Dt,kt){xt(65472),xt(17),ut(8),xt(kt),xt(Dt),ut(3),ut(1),ut(17),ut(0),ut(2),ut(17),ut(1),ut(3),ut(17),ut(1)}(R.width,R.height),function(){xt(65476),xt(418),ut(0);for(var Dt=0;Dt<16;Dt++)ut(b[Dt+1]);for(var kt=0;kt<=11;kt++)ut(I[kt]);ut(16);for(var Ut=0;Ut<16;Ut++)ut(U[Ut+1]);for(var Ht=0;Ht<=161;Ht++)ut(x[Ht]);ut(1);for(var Wt=0;Wt<16;Wt++)ut(S[Wt+1]);for(var Yt=0;Yt<=11;Yt++)ut(A[Yt]);ut(17);for(var re=0;re<16;re++)ut(Q[re+1]);for(var ee=0;ee<=161;ee++)ut(mt[ee])}(),xt(65498),xt(12),ut(3),ut(1),ut(0),ut(2),ut(17),ut(3),ut(17),ut(0),ut(63),ut(0);var J=0,st=0,tt=0;M=0,P=7,this.encode.displayName="_encode_";for(var G,rt,nt,It,Nt,z,$,it,X,j=R.data,bt=R.width,Lt=R.height,vt=4*bt,wt=0;wt<Lt;){for(G=0;G<vt;){for(Nt=vt*wt+G,$=-1,it=0,X=0;X<64;X++)z=Nt+(it=X>>3)*vt+($=4*(7&X)),wt+it>=Lt&&(z-=vt*(wt+1+it-Lt)),G+$>=vt&&(z-=G+$-vt+4),rt=j[z++],nt=j[z++],It=j[z++],k[X]=(Tt[rt]+Tt[nt+256>>0]+Tt[It+512>>0]>>16)-128,K[X]=(Tt[rt+768>>0]+Tt[nt+1024>>0]+Tt[It+1280>>0]>>16)-128,Z[X]=(Tt[rt+1280>>0]+Tt[nt+1536>>0]+Tt[It+1792>>0]>>16)-128;J=Pt(k,h,J,t,r),st=Pt(K,d,st,n,i),tt=Pt(Z,d,tt,n,i),G+=32}wt+=8}if(P>=0){var _t=[];_t[1]=P+1,_t[0]=(1<<P+1)-1,dt(_t)}return xt(65497),new Uint8Array(T)},e=e||50,function(){for(var R=String.fromCharCode,H=0;H<256;H++)yt[H]=R(H)}(),t=et(b,I),n=et(S,A),r=et(U,x),i=et(Q,mt),function(){for(var R=1,H=2,J=1;J<=15;J++){for(var st=R;st<H;st++)_[32767+st]=J,g[32767+st]=[],g[32767+st][1]=J,g[32767+st][0]=st;for(var tt=-(H-1);tt<=-R;tt++)_[32767+tt]=J,g[32767+tt]=[],g[32767+tt][1]=J,g[32767+tt][0]=H-1+tt;R<<=1,H<<=1}}(),function(){for(var R=0;R<256;R++)Tt[R]=19595*R,Tt[R+256>>0]=38470*R,Tt[R+512>>0]=7471*R+32768,Tt[R+768>>0]=-11059*R,Tt[R+1024>>0]=-21709*R,Tt[R+1280>>0]=32768*R+8421375,Tt[R+1536>>0]=-27439*R,Tt[R+1792>>0]=-5329*R}(),$t(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Si(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function a2(e){function t(b){if(!b)throw Error("assert :P")}function n(b,I,U){for(var x=0;4>x;x++)if(b[I+x]!=U.charCodeAt(x))return!0;return!1}function r(b,I,U,x,S){for(var A=0;A<S;A++)b[I+A]=U[x+A]}function i(b,I,U,x){for(var S=0;S<x;S++)b[I+S]=U}function s(b){return new Int32Array(b)}function o(b,I){for(var U=[],x=0;x<b;x++)U.push(new I);return U}function a(b,I){var U=[];return function x(S,A,Q){for(var mt=Q[A],et=0;et<mt&&(S.push(Q.length>A+1?[]:new I),!(Q.length<A+1));et++)x(S[et],A+1,Q)}(U,0,b),U}var u=function(){var b=this;function I(l,f){for(var v=1<<f-1>>>0;l&v;)v>>>=1;return v?(l&v-1)+v:l}function U(l,f,v,w,C){t(!(w%v));do l[f+(w-=v)]=C;while(0<w)}function x(l,f,v,w,C){if(t(2328>=C),512>=C)var D=s(512);else if((D=s(C))==null)return 0;return function(F,B,q,W,at,At){var Et,gt,Mt=B,Ct=1<<q,lt=s(16),ht=s(16);for(t(at!=0),t(W!=null),t(F!=null),t(0<q),gt=0;gt<at;++gt){if(15<W[gt])return 0;++lt[W[gt]]}if(lt[0]==at)return 0;for(ht[1]=0,Et=1;15>Et;++Et){if(lt[Et]>1<<Et)return 0;ht[Et+1]=ht[Et]+lt[Et]}for(gt=0;gt<at;++gt)Et=W[gt],0<W[gt]&&(At[ht[Et]++]=gt);if(ht[15]==1)return(W=new S).g=0,W.value=At[0],U(F,Mt,1,Ct,W),Ct;var Ot,jt=-1,Ft=Ct-1,Xt=0,Kt=1,ae=1,Jt=1<<q;for(gt=0,Et=1,at=2;Et<=q;++Et,at<<=1){if(Kt+=ae<<=1,0>(ae-=lt[Et]))return 0;for(;0<lt[Et];--lt[Et])(W=new S).g=Et,W.value=At[gt++],U(F,Mt+Xt,at,Jt,W),Xt=I(Xt,Et)}for(Et=q+1,at=2;15>=Et;++Et,at<<=1){if(Kt+=ae<<=1,0>(ae-=lt[Et]))return 0;for(;0<lt[Et];--lt[Et]){if(W=new S,(Xt&Ft)!=jt){for(Mt+=Jt,Ot=1<<(jt=Et)-q;15>jt&&!(0>=(Ot-=lt[jt]));)++jt,Ot<<=1;Ct+=Jt=1<<(Ot=jt-q),F[B+(jt=Xt&Ft)].g=Ot+q,F[B+jt].value=Mt-B-jt}W.g=Et-q,W.value=At[gt++],U(F,Mt+(Xt>>q),at,Jt,W),Xt=I(Xt,Et)}}return Kt!=2*ht[15]-1?0:Ct}(l,f,v,w,C,D)}function S(){this.value=this.g=0}function A(){this.value=this.g=0}function Q(){this.G=o(5,S),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Qn,A)}function mt(l,f,v,w){t(l!=null),t(f!=null),t(2147483648>w),l.Ca=254,l.I=0,l.b=-8,l.Ka=0,l.oa=f,l.pa=v,l.Jd=f,l.Yc=v+w,l.Zc=4<=w?v+w-4+1:v,G(l)}function et(l,f){for(var v=0;0<f--;)v|=nt(l,128)<<f;return v}function dt(l,f){var v=et(l,f);return rt(l)?-v:v}function ut(l,f,v,w){var C,D=0;for(t(l!=null),t(f!=null),t(4294967288>w),l.Sb=w,l.Ra=0,l.u=0,l.h=0,4<w&&(w=4),C=0;C<w;++C)D+=f[v+C]<<8*C;l.Ra=D,l.bb=w,l.oa=f,l.pa=v}function xt(l){for(;8<=l.u&&l.bb<l.Sb;)l.Ra>>>=8,l.Ra+=l.oa[l.pa+l.bb]<<qa-8>>>0,++l.bb,l.u-=8;J(l)&&(l.h=1,l.u=0)}function Pt(l,f){if(t(0<=f),!l.h&&f<=Ba){var v=H(l)&ja[f];return l.u+=f,xt(l),v}return l.h=1,l.u=0}function $t(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(l){return l.Ra>>>(l.u&qa-1)>>>0}function J(l){return t(l.bb<=l.Sb),l.h||l.bb==l.Sb&&l.u>qa}function st(l,f){l.u=f,l.h=J(l)}function tt(l){l.u>=Ql&&(t(l.u>=Ql),xt(l))}function G(l){t(l!=null&&l.oa!=null),l.pa<l.Zc?(l.I=(l.oa[l.pa++]|l.I<<8)>>>0,l.b+=8):(t(l!=null&&l.oa!=null),l.pa<l.Yc?(l.b+=8,l.I=l.oa[l.pa++]|l.I<<8):l.Ka?l.b=0:(l.I<<=8,l.b+=8,l.Ka=1))}function rt(l){return et(l,1)}function nt(l,f){var v=l.Ca;0>l.b&&G(l);var w=l.b,C=v*f>>>8,D=(l.I>>>w>C)+0;for(D?(v-=C,l.I-=C+1<<w>>>0):v=C+1,w=v,C=0;256<=w;)C+=8,w>>=8;return w=7^C+Cr[w],l.b-=w,l.Ca=(v<<w)-1,D}function It(l,f,v){l[f+0]=v>>24&255,l[f+1]=v>>16&255,l[f+2]=v>>8&255,l[f+3]=v>>0&255}function Nt(l,f){return l[f+0]<<0|l[f+1]<<8}function z(l,f){return Nt(l,f)|l[f+2]<<16}function $(l,f){return Nt(l,f)|Nt(l,f+2)<<16}function it(l,f){var v=1<<f;return t(l!=null),t(0<f),l.X=s(v),l.X==null?0:(l.Mb=32-f,l.Xa=f,1)}function X(l,f){t(l!=null),t(f!=null),t(l.Xa==f.Xa),r(f.X,0,l.X,0,1<<f.Xa)}function j(){this.X=[],this.Xa=this.Mb=0}function bt(l,f,v,w){t(v!=null),t(w!=null);var C=v[0],D=w[0];return C==0&&(C=(l*D+f/2)/f),D==0&&(D=(f*C+l/2)/l),0>=C||0>=D?0:(v[0]=C,w[0]=D,1)}function Lt(l,f){return l+(1<<f)-1>>>f}function vt(l,f){return((4278255360&l)+(4278255360&f)>>>0&4278255360)+((16711935&l)+(16711935&f)>>>0&16711935)>>>0}function wt(l,f){b[f]=function(v,w,C,D,F,B,q){var W;for(W=0;W<F;++W){var at=b[l](B[q+W-1],C,D+W);B[q+W]=vt(v[w+W],at)}}}function _t(){this.ud=this.hd=this.jd=0}function Dt(l,f){return((4278124286&(l^f))>>>1)+(l&f)>>>0}function kt(l){return 0<=l&&256>l?l:0>l?0:255<l?255:void 0}function Ut(l,f){return kt(l+(l-f+.5>>1))}function Ht(l,f,v){return Math.abs(f-v)-Math.abs(l-v)}function Wt(l,f,v,w,C,D,F){for(w=D[F-1],v=0;v<C;++v)D[F+v]=w=vt(l[f+v],w)}function Yt(l,f,v,w,C){var D;for(D=0;D<v;++D){var F=l[f+D],B=F>>8&255,q=16711935&(q=(q=16711935&F)+((B<<16)+B));w[C+D]=(4278255360&F)+q>>>0}}function re(l,f){f.jd=l>>0&255,f.hd=l>>8&255,f.ud=l>>16&255}function ee(l,f,v,w,C,D){var F;for(F=0;F<w;++F){var B=f[v+F],q=B>>>8,W=B,at=255&(at=(at=B>>>16)+((l.jd<<24>>24)*(q<<24>>24)>>>5));W=255&(W=(W=W+((l.hd<<24>>24)*(q<<24>>24)>>>5))+((l.ud<<24>>24)*(at<<24>>24)>>>5)),C[D+F]=(4278255360&B)+(at<<16)+W}}function se(l,f,v,w,C){b[f]=function(D,F,B,q,W,at,At,Et,gt){for(q=At;q<Et;++q)for(At=0;At<gt;++At)W[at++]=C(B[w(D[F++])])},b[l]=function(D,F,B,q,W,at,At){var Et=8>>D.b,gt=D.Ea,Mt=D.K[0],Ct=D.w;if(8>Et)for(D=(1<<D.b)-1,Ct=(1<<Et)-1;F<B;++F){var lt,ht=0;for(lt=0;lt<gt;++lt)lt&D||(ht=w(q[W++])),at[At++]=C(Mt[ht&Ct]),ht>>=Et}else b["VP8LMapColor"+v](q,W,Mt,Ct,at,At,F,B,gt)}}function Gt(l,f,v,w,C){for(v=f+v;f<v;){var D=l[f++];w[C++]=D>>16&255,w[C++]=D>>8&255,w[C++]=D>>0&255}}function Re(l,f,v,w,C){for(v=f+v;f<v;){var D=l[f++];w[C++]=D>>16&255,w[C++]=D>>8&255,w[C++]=D>>0&255,w[C++]=D>>24&255}}function Ae(l,f,v,w,C){for(v=f+v;f<v;){var D=(F=l[f++])>>16&240|F>>12&15,F=F>>0&240|F>>28&15;w[C++]=D,w[C++]=F}}function Hn(l,f,v,w,C){for(v=f+v;f<v;){var D=(F=l[f++])>>16&248|F>>13&7,F=F>>5&224|F>>3&31;w[C++]=D,w[C++]=F}}function pe(l,f,v,w,C){for(v=f+v;f<v;){var D=l[f++];w[C++]=D>>0&255,w[C++]=D>>8&255,w[C++]=D>>16&255}}function Se(l,f,v,w,C,D){if(D==0)for(v=f+v;f<v;)It(w,((D=l[f++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),C+=32;else r(w,C,l,f,v)}function yr(l,f){b[f][0]=b[l+"0"],b[f][1]=b[l+"1"],b[f][2]=b[l+"2"],b[f][3]=b[l+"3"],b[f][4]=b[l+"4"],b[f][5]=b[l+"5"],b[f][6]=b[l+"6"],b[f][7]=b[l+"7"],b[f][8]=b[l+"8"],b[f][9]=b[l+"9"],b[f][10]=b[l+"10"],b[f][11]=b[l+"11"],b[f][12]=b[l+"12"],b[f][13]=b[l+"13"],b[f][14]=b[l+"0"],b[f][15]=b[l+"0"]}function Pe(l){return l==gf||l==mf||l==fc||l==vf}function Ci(){this.eb=[],this.size=this.A=this.fb=0}function ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ci,this.f.kb=new ln,this.sd=null}function Vr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function oe(l){return alert("todo:WebPSamplerProcessPlane"),l.T}function ke(l,f){var v=l.T,w=f.ba.f.RGBA,C=w.eb,D=w.fb+l.ka*w.A,F=li[f.ba.S],B=l.y,q=l.O,W=l.f,at=l.N,At=l.ea,Et=l.W,gt=f.cc,Mt=f.dc,Ct=f.Mc,lt=f.Nc,ht=l.ka,Ot=l.ka+l.T,jt=l.U,Ft=jt+1>>1;for(ht==0?F(B,q,null,null,W,at,At,Et,W,at,At,Et,C,D,null,null,jt):(F(f.ec,f.fc,B,q,gt,Mt,Ct,lt,W,at,At,Et,C,D-w.A,C,D,jt),++v);ht+2<Ot;ht+=2)gt=W,Mt=at,Ct=At,lt=Et,at+=l.Rc,Et+=l.Rc,D+=2*w.A,F(B,(q+=2*l.fa)-l.fa,B,q,gt,Mt,Ct,lt,W,at,At,Et,C,D-w.A,C,D,jt);return q+=l.fa,l.j+Ot<l.o?(r(f.ec,f.fc,B,q,jt),r(f.cc,f.dc,W,at,Ft),r(f.Mc,f.Nc,At,Et,Ft),v--):1&Ot||F(B,q,null,null,W,at,At,Et,W,at,At,Et,C,D+w.A,null,null,jt),v}function ei(l,f,v){var w=l.F,C=[l.J];if(w!=null){var D=l.U,F=f.ba.S,B=F==hc||F==fc;f=f.ba.f.RGBA;var q=[0],W=l.ka;q[0]=l.T,l.Kb&&(W==0?--q[0]:(--W,C[0]-=l.width),l.j+l.ka+l.T==l.o&&(q[0]=l.o-l.j-W));var at=f.eb;W=f.fb+W*f.A,l=sn(w,C[0],l.width,D,q,at,W+(B?0:3),f.A),t(v==q),l&&Pe(F)&&oi(at,W,B,D,q,f.A)}return 0}function Nn(l){var f=l.ma,v=f.ba.S,w=11>v,C=v==uc||v==cc||v==hc||v==pf||v==12||Pe(v);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Gl(f.Oa,l,C?11:12))return 0;if(C&&Pe(v)&&Bt(),l.da)alert("todo:use_scaling");else{if(w){if(f.Ib=oe,l.Kb){if(v=l.U+1>>1,f.memory=s(l.U+2*v),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+l.U,f.Mc=f.cc,f.Nc=f.dc+v,f.Ib=ke,Bt()}}else alert("todo:EmitYUV");C&&(f.Jb=ei,w&&pt())}if(w&&!_1){for(l=0;256>l;++l)sy[l]=89858*(l-128)+pc>>dc,ly[l]=-22014*(l-128)+pc,ay[l]=-45773*(l-128),oy[l]=113618*(l-128)+pc>>dc;for(l=nu;l<bf;++l)f=76283*(l-16)+pc>>dc,uy[l-nu]=Be(f,255),cy[l-nu]=Be(f+8>>4,15);_1=1}return 1}function er(l){var f=l.ma,v=l.U,w=l.T;return t(!(1&l.ka)),0>=v||0>=w?0:(v=f.Ib(l,f),f.Jb!=null&&f.Jb(l,f,v),f.Dc+=v,1)}function jr(l){l.ma.memory=null}function te(l,f,v,w){return Pt(l,8)!=47?0:(f[0]=Pt(l,14)+1,v[0]=Pt(l,14)+1,w[0]=Pt(l,1),Pt(l,3)!=0?0:!l.h)}function Pr(l,f){if(4>l)return l+1;var v=l-2>>1;return(2+(1&l)<<v)+Pt(f,v)+1}function nr(l,f){return 120<f?f-120:1<=(v=((v=Hv[f-1])>>4)*l+(8-(15&v)))?v:1;var v}function Ln(l,f,v){var w=H(v),C=l[f+=255&w].g-8;return 0<C&&(st(v,v.u+8),w=H(v),f+=l[f].value,f+=w&(1<<C)-1),st(v,v.u+l[f].g),l[f].value}function _n(l,f,v){return v.g+=l.g,v.value+=l.value<<f>>>0,t(8>=v.g),l.g}function gn(l,f,v){var w=l.xc;return t((f=w==0?0:l.vc[l.md*(v>>w)+(f>>w)])<l.Wb),l.Ya[f]}function Cn(l,f,v,w){var C=l.ab,D=l.c*f,F=l.C;f=F+f;var B=v,q=w;for(w=l.Ta,v=l.Ua;0<C--;){var W=l.gc[C],at=F,At=f,Et=B,gt=q,Mt=(q=w,B=v,W.Ea);switch(t(at<At),t(At<=W.nc),W.hc){case 2:nc(Et,gt,(At-at)*Mt,q,B);break;case 0:var Ct=at,lt=At,ht=q,Ot=B,jt=(Jt=W).Ea;Ct==0&&(ff(Et,gt,null,null,1,ht,Ot),Wt(Et,gt+1,0,0,jt-1,ht,Ot+1),gt+=jt,Ot+=jt,++Ct);for(var Ft=1<<Jt.b,Xt=Ft-1,Kt=Lt(jt,Jt.b),ae=Jt.K,Jt=Jt.w+(Ct>>Jt.b)*Kt;Ct<lt;){var Fe=ae,Ge=Jt,De=1;for(Yl(Et,gt,ht,Ot-jt,1,ht,Ot);De<jt;){var Ie=(De&~Xt)+Ft;Ie>jt&&(Ie=jt),(0,io[Fe[Ge++]>>8&15])(Et,gt+ +De,ht,Ot+De-jt,Ie-De,ht,Ot+De),De=Ie}gt+=jt,Ot+=jt,++Ct&Xt||(Jt+=Kt)}At!=W.nc&&r(q,B-Mt,q,B+(At-at-1)*Mt,Mt);break;case 1:for(Mt=Et,lt=gt,jt=(Et=W.Ea)-(Ot=Et&~(ht=(gt=1<<W.b)-1)),Ct=Lt(Et,W.b),Ft=W.K,W=W.w+(at>>W.b)*Ct;at<At;){for(Xt=Ft,Kt=W,ae=new _t,Jt=lt+Ot,Fe=lt+Et;lt<Jt;)re(Xt[Kt++],ae),ra(ae,Mt,lt,gt,q,B),lt+=gt,B+=gt;lt<Fe&&(re(Xt[Kt++],ae),ra(ae,Mt,lt,jt,q,B),lt+=jt,B+=jt),++at&ht||(W+=Ct)}break;case 3:if(Et==q&&gt==B&&0<W.b){for(lt=q,Et=Mt=B+(At-at)*Mt-(Ot=(At-at)*Lt(W.Ea,W.b)),gt=q,ht=B,Ct=[],Ot=(jt=Ot)-1;0<=Ot;--Ot)Ct[Ot]=gt[ht+Ot];for(Ot=jt-1;0<=Ot;--Ot)lt[Et+Ot]=Ct[Ot];ri(W,at,At,q,Mt,q,B)}else ri(W,at,At,Et,gt,q,B)}B=w,q=v}q!=v&&r(w,v,B,q,D)}function Bs(l,f){var v=l.V,w=l.Ba+l.c*l.C,C=f-l.C;if(t(f<=l.l.o),t(16>=C),0<C){var D=l.l,F=l.Ta,B=l.Ua,q=D.width;if(Cn(l,C,v,w),C=B=[B],t((v=l.C)<(w=f)),t(D.v<D.va),w>D.o&&(w=D.o),v<D.j){var W=D.j-v;v=D.j,C[0]+=W*q}if(v>=w?v=0:(C[0]+=4*D.v,D.ka=v-D.j,D.U=D.va-D.v,D.T=w-v,v=1),v){if(B=B[0],11>(v=l.ca).S){var at=v.f.RGBA,At=(w=v.S,C=D.U,D=D.T,W=at.eb,at.A),Et=D;for(at=at.fb+l.Ma*at.A;0<Et--;){var gt=F,Mt=B,Ct=C,lt=W,ht=at;switch(w){case lc:Rr(gt,Mt,Ct,lt,ht);break;case uc:Ar(gt,Mt,Ct,lt,ht);break;case gf:Ar(gt,Mt,Ct,lt,ht),oi(lt,ht,0,Ct,1,0);break;case c1:_s(gt,Mt,Ct,lt,ht);break;case cc:Se(gt,Mt,Ct,lt,ht,1);break;case mf:Se(gt,Mt,Ct,lt,ht,1),oi(lt,ht,0,Ct,1,0);break;case hc:Se(gt,Mt,Ct,lt,ht,0);break;case fc:Se(gt,Mt,Ct,lt,ht,0),oi(lt,ht,1,Ct,1,0);break;case pf:so(gt,Mt,Ct,lt,ht);break;case vf:so(gt,Mt,Ct,lt,ht),rn(lt,ht,Ct,1,0);break;case h1:ys(gt,Mt,Ct,lt,ht);break;default:t(0)}B+=q,at+=At}l.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");t(l.Ma<=v.height)}}l.C=f,t(l.C<=l.i)}function fi(l){var f;if(0<l.ua)return 0;for(f=0;f<l.Wb;++f){var v=l.Ya[f].G,w=l.Ya[f].H;if(0<v[1][w[1]+0].g||0<v[2][w[2]+0].g||0<v[3][w[3]+0].g)return 0}return 1}function rr(l,f,v,w,C,D){if(l.Z!=0){var F=l.qd,B=l.rd;for(t(uo[l.Z]!=null);f<v;++f)uo[l.Z](F,B,w,C,w,C,D),F=w,B=C,C+=D;l.qd=F,l.rd=B}}function Nr(l,f){var v=l.l.ma,w=v.Z==0||v.Z==1?l.l.j:l.C;if(w=l.C<w?w:l.C,t(f<=l.l.o),f>w){var C=l.l.width,D=v.ca,F=v.tb+C*w,B=l.V,q=l.Ba+l.c*w,W=l.gc;t(l.ab==1),t(W[0].hc==3),rc(W[0],w,f,B,q,D,F),rr(v,w,f,D,F,C)}l.C=l.Ma=f}function _r(l,f,v,w,C,D,F){var B=l.$/w,q=l.$%w,W=l.m,at=l.s,At=v+l.$,Et=At;C=v+w*C;var gt=v+w*D,Mt=280+at.ua,Ct=l.Pb?B:16777216,lt=0<at.ua?at.Wa:null,ht=at.wc,Ot=At<gt?gn(at,q,B):null;t(l.C<D),t(gt<=C);var jt=!1;t:for(;;){for(;jt||At<gt;){var Ft=0;if(B>=Ct){var Xt=At-v;t((Ct=l).Pb),Ct.wd=Ct.m,Ct.xd=Xt,0<Ct.s.ua&&X(Ct.s.Wa,Ct.s.vb),Ct=B+Gv}if(q&ht||(Ot=gn(at,q,B)),t(Ot!=null),Ot.Qb&&(f[At]=Ot.qb,jt=!0),!jt)if(tt(W),Ot.jc){Ft=W,Xt=f;var Kt=At,ae=Ot.pd[H(Ft)&Qn-1];t(Ot.jc),256>ae.g?(st(Ft,Ft.u+ae.g),Xt[Kt]=ae.value,Ft=0):(st(Ft,Ft.u+ae.g-256),t(256<=ae.value),Ft=ae.value),Ft==0&&(jt=!0)}else Ft=Ln(Ot.G[0],Ot.H[0],W);if(W.h)break;if(jt||256>Ft){if(!jt)if(Ot.nd)f[At]=(Ot.qb|Ft<<8)>>>0;else{if(tt(W),jt=Ln(Ot.G[1],Ot.H[1],W),tt(W),Xt=Ln(Ot.G[2],Ot.H[2],W),Kt=Ln(Ot.G[3],Ot.H[3],W),W.h)break;f[At]=(Kt<<24|jt<<16|Ft<<8|Xt)>>>0}if(jt=!1,++At,++q>=w&&(q=0,++B,F!=null&&B<=D&&!(B%16)&&F(l,B),lt!=null))for(;Et<At;)Ft=f[Et++],lt.X[(506832829*Ft&4294967295)>>>lt.Mb]=Ft}else if(280>Ft){if(Ft=Pr(Ft-256,W),Xt=Ln(Ot.G[4],Ot.H[4],W),tt(W),Xt=nr(w,Xt=Pr(Xt,W)),W.h)break;if(At-v<Xt||C-At<Ft)break t;for(Kt=0;Kt<Ft;++Kt)f[At+Kt]=f[At+Kt-Xt];for(At+=Ft,q+=Ft;q>=w;)q-=w,++B,F!=null&&B<=D&&!(B%16)&&F(l,B);if(t(At<=C),q&ht&&(Ot=gn(at,q,B)),lt!=null)for(;Et<At;)Ft=f[Et++],lt.X[(506832829*Ft&4294967295)>>>lt.Mb]=Ft}else{if(!(Ft<Mt))break t;for(jt=Ft-280,t(lt!=null);Et<At;)Ft=f[Et++],lt.X[(506832829*Ft&4294967295)>>>lt.Mb]=Ft;Ft=At,t(!(jt>>>(Xt=lt).Xa)),f[Ft]=Xt.X[jt],jt=!0}jt||t(W.h==J(W))}if(l.Pb&&W.h&&At<C)t(l.m.h),l.a=5,l.m=l.wd,l.$=l.xd,0<l.s.ua&&X(l.s.vb,l.s.Wa);else{if(W.h)break t;F!=null&&F(l,B>D?D:B),l.a=0,l.$=At-v}return 1}return l.a=3,0}function br(l){t(l!=null),l.vc=null,l.yc=null,l.Ya=null;var f=l.Wa;f!=null&&(f.X=null),l.vb=null,t(l!=null)}function bn(){var l=new Ma;return l==null?null:(l.a=0,l.xb=p1,yr("Predictor","VP8LPredictors"),yr("Predictor","VP8LPredictors_C"),yr("PredictorAdd","VP8LPredictorsAdd"),yr("PredictorAdd","VP8LPredictorsAdd_C"),nc=Yt,ra=ee,Rr=Gt,Ar=Re,so=Ae,ys=Hn,_s=pe,b.VP8LMapColor32b=Ua,b.VP8LMapColor8b=ic,l)}function Br(l,f,v,w,C){var D=1,F=[l],B=[f],q=w.m,W=w.s,at=null,At=0;t:for(;;){if(v)for(;D&&Pt(q,1);){var Et=F,gt=B,Mt=w,Ct=1,lt=Mt.m,ht=Mt.gc[Mt.ab],Ot=Pt(lt,2);if(Mt.Oc&1<<Ot)D=0;else{switch(Mt.Oc|=1<<Ot,ht.hc=Ot,ht.Ea=Et[0],ht.nc=gt[0],ht.K=[null],++Mt.ab,t(4>=Mt.ab),Ot){case 0:case 1:ht.b=Pt(lt,3)+2,Ct=Br(Lt(ht.Ea,ht.b),Lt(ht.nc,ht.b),0,Mt,ht.K),ht.K=ht.K[0];break;case 3:var jt,Ft=Pt(lt,8)+1,Xt=16<Ft?0:4<Ft?1:2<Ft?2:3;if(Et[0]=Lt(ht.Ea,Xt),ht.b=Xt,jt=Ct=Br(Ft,1,0,Mt,ht.K)){var Kt,ae=Ft,Jt=ht,Fe=1<<(8>>Jt.b),Ge=s(Fe);if(Ge==null)jt=0;else{var De=Jt.K[0],Ie=Jt.w;for(Ge[0]=Jt.K[0][0],Kt=1;Kt<1*ae;++Kt)Ge[Kt]=vt(De[Ie+Kt],Ge[Kt-1]);for(;Kt<4*Fe;++Kt)Ge[Kt]=0;Jt.K[0]=null,Jt.K[0]=Ge,jt=1}}Ct=jt;break;case 2:break;default:t(0)}D=Ct}}if(F=F[0],B=B[0],D&&Pt(q,1)&&!(D=1<=(At=Pt(q,4))&&11>=At)){w.a=3;break t}var Ze;if(Ze=D)e:{var Ye,we,Rn,kr=w,kn=F,Dr=B,Ke=At,Hr=v,Wr=kr.m,qn=kr.s,Yn=[null],Sr=1,ui=0,$i=Wv[Ke];n:for(;;){if(Hr&&Pt(Wr,1)){var Un=Pt(Wr,3)+2,Es=Lt(kn,Un),la=Lt(Dr,Un),Ga=Es*la;if(!Br(Es,la,0,kr,Yn))break n;for(Yn=Yn[0],qn.xc=Un,Ye=0;Ye<Ga;++Ye){var co=Yn[Ye]>>8&65535;Yn[Ye]=co,co>=Sr&&(Sr=co+1)}}if(Wr.h)break n;for(we=0;5>we;++we){var vn=f1[we];!we&&0<Ke&&(vn+=1<<Ke),ui<vn&&(ui=vn)}var wf=o(Sr*$i,S),A1=Sr,E1=o(A1,Q);if(E1==null)var mc=null;else t(65536>=A1),mc=E1;var ru=s(ui);if(mc==null||ru==null||wf==null){kr.a=1;break n}var vc=wf;for(Ye=Rn=0;Ye<Sr;++Ye){var Ai=mc[Ye],Ka=Ai.G,Qa=Ai.H,S1=0,yc=1,x1=0;for(we=0;5>we;++we){vn=f1[we],Ka[we]=vc,Qa[we]=Rn,!we&&0<Ke&&(vn+=1<<Ke);i:{var _c,Af=vn,bc=kr,iu=ru,dy=vc,py=Rn,Ef=0,ho=bc.m,gy=Pt(ho,1);if(i(iu,0,0,Af),gy){var my=Pt(ho,1)+1,vy=Pt(ho,1),I1=Pt(ho,vy==0?1:8);iu[I1]=1,my==2&&(iu[I1=Pt(ho,8)]=1);var wc=1}else{var T1=s(19),P1=Pt(ho,4)+4;if(19<P1){bc.a=3;var Ac=0;break i}for(_c=0;_c<P1;++_c)T1[$v[_c]]=Pt(ho,3);var Sf=void 0,su=void 0,N1=bc,yy=T1,Ec=Af,L1=iu,xf=0,fo=N1.m,C1=8,R1=o(128,S);r:for(;x(R1,0,7,yy,19);){if(Pt(fo,1)){var _y=2+2*Pt(fo,3);if((Sf=2+Pt(fo,_y))>Ec)break r}else Sf=Ec;for(su=0;su<Ec&&Sf--;){tt(fo);var k1=R1[0+(127&H(fo))];st(fo,fo.u+k1.g);var Ya=k1.value;if(16>Ya)L1[su++]=Ya,Ya!=0&&(C1=Ya);else{var by=Ya==16,D1=Ya-16,wy=Uv[D1],O1=Pt(fo,qv[D1])+wy;if(su+O1>Ec)break r;for(var Ay=by?C1:0;0<O1--;)L1[su++]=Ay}}xf=1;break r}xf||(N1.a=3),wc=xf}(wc=wc&&!ho.h)&&(Ef=x(dy,py,8,iu,Af)),wc&&Ef!=0?Ac=Ef:(bc.a=3,Ac=0)}if(Ac==0)break n;if(yc&&zv[we]==1&&(yc=vc[Rn].g==0),S1+=vc[Rn].g,Rn+=Ac,3>=we){var ou,If=ru[0];for(ou=1;ou<vn;++ou)ru[ou]>If&&(If=ru[ou]);x1+=If}}if(Ai.nd=yc,Ai.Qb=0,yc&&(Ai.qb=(Ka[3][Qa[3]+0].value<<24|Ka[1][Qa[1]+0].value<<16|Ka[2][Qa[2]+0].value)>>>0,S1==0&&256>Ka[0][Qa[0]+0].value&&(Ai.Qb=1,Ai.qb+=Ka[0][Qa[0]+0].value<<8)),Ai.jc=!Ai.Qb&&6>x1,Ai.jc){var Sc,Ss=Ai;for(Sc=0;Sc<Qn;++Sc){var po=Sc,go=Ss.pd[po],xc=Ss.G[0][Ss.H[0]+po];256<=xc.value?(go.g=xc.g+256,go.value=xc.value):(go.g=0,go.value=0,po>>=_n(xc,8,go),po>>=_n(Ss.G[1][Ss.H[1]+po],16,go),po>>=_n(Ss.G[2][Ss.H[2]+po],0,go),_n(Ss.G[3][Ss.H[3]+po],24,go))}}}qn.vc=Yn,qn.Wb=Sr,qn.Ya=mc,qn.yc=wf,Ze=1;break e}Ze=0}if(!(D=Ze)){w.a=3;break t}if(0<At){if(W.ua=1<<At,!it(W.Wa,At)){w.a=1,D=0;break t}}else W.ua=0;var Tf=w,F1=F,Ey=B,Pf=Tf.s,Nf=Pf.xc;if(Tf.c=F1,Tf.i=Ey,Pf.md=Lt(F1,Nf),Pf.wc=Nf==0?-1:(1<<Nf)-1,v){w.xb=ty;break t}if((at=s(F*B))==null){w.a=1,D=0;break t}D=(D=_r(w,at,0,F,B,B,null))&&!q.h;break t}return D?(C!=null?C[0]=at:(t(at==null),t(v)),w.$=0,v||br(W)):br(W),D}function Ri(l,f){var v=l.c*l.i,w=v+f+16*f;return t(l.c<=f),l.V=s(w),l.V==null?(l.Ta=null,l.Ua=0,l.a=1,0):(l.Ta=l.V,l.Ua=l.Ba+v+f,1)}function ki(l,f){var v=l.C,w=f-v,C=l.V,D=l.Ba+l.c*v;for(t(f<=l.l.o);0<w;){var F=16<w?16:w,B=l.l.ma,q=l.l.width,W=q*F,at=B.ca,At=B.tb+q*v,Et=l.Ta,gt=l.Ua;Cn(l,F,C,D),An(Et,gt,at,At,W),rr(B,v,v+F,at,At,q),w-=F,C+=F*l.c,v+=F}t(v==f),l.C=l.Ma=f}function Di(){this.ub=this.yd=this.td=this.Rb=0}function as(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ls(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ta(){this.Yb=function(){var l=[];return function f(v,w,C){for(var D=C[w],F=0;F<D&&(v.push(C.length>w+1?[]:0),!(C.length<w+1));F++)f(v[F],w+1,C)}(l,0,[3,11]),l}()}function qs(){this.jb=s(3),this.Wc=a([4,8],Ta),this.Xc=a([4,17],Ta)}function Pa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Oi(){this.ld=this.La=this.dd=this.tc=0}function Fi(){this.Na=this.la=0}function di(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function us(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Oi),this.Y=0,this.ya=Array(new us),this.aa=0,this.l=new cs}function zo(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Na(){this.cb=this.a=0,this.sc="",this.m=new $t,this.Od=new Di,this.Kc=new as,this.ed=new Pa,this.Qa=new ls,this.Ic=this.$c=this.Aa=0,this.D=new zl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,$t),this.ia=0,this.pb=o(4,di),this.Pa=new qs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zo),this.Hd=0,this.rb=Array(new Fi),this.sb=0,this.wa=Array(new Oi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new us),this.L=this.aa=0,this.gd=a([4,2],Oi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $o(){var l=new Na;return l!=null&&(l.a=0,l.sc="OK",l.cb=0,l.Xb=0,eu||(eu=La)),l}function un(l,f,v){return l.a==0&&(l.a=f,l.sc=v,l.cb=0),0}function Ho(l,f,v){return 3<=v&&l[f+0]==157&&l[f+1]==1&&l[f+2]==42}function Wo(l,f){if(l==null)return 0;if(l.a=0,l.sc="OK",f==null)return un(l,2,"null VP8Io passed to VP8GetHeaders()");var v=f.data,w=f.w,C=f.ha;if(4>C)return un(l,7,"Truncated header.");var D=v[w+0]|v[w+1]<<8|v[w+2]<<16,F=l.Od;if(F.Rb=!(1&D),F.td=D>>1&7,F.yd=D>>4&1,F.ub=D>>5,3<F.td)return un(l,3,"Incorrect keyframe parameters.");if(!F.yd)return un(l,4,"Frame not displayable.");w+=3,C-=3;var B=l.Kc;if(F.Rb){if(7>C)return un(l,7,"cannot parse picture header");if(!Ho(v,w,C))return un(l,3,"Bad code word");B.c=16383&(v[w+4]<<8|v[w+3]),B.Td=v[w+4]>>6,B.i=16383&(v[w+6]<<8|v[w+5]),B.Ud=v[w+6]>>6,w+=7,C-=7,l.za=B.c+15>>4,l.Ub=B.i+15>>4,f.width=B.c,f.height=B.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((D=l.Pa).jb,0,255,D.jb.length),t((D=l.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(F.ub>C)return un(l,7,"bad partition length");mt(D=l.m,v,w,F.ub),w+=F.ub,C-=F.ub,F.Rb&&(B.Ld=rt(D),B.Kd=rt(D)),B=l.Qa;var q,W=l.Pa;if(t(D!=null),t(B!=null),B.Cb=rt(D),B.Cb){if(B.Bb=rt(D),rt(D)){for(B.Fb=rt(D),q=0;4>q;++q)B.Zb[q]=rt(D)?dt(D,7):0;for(q=0;4>q;++q)B.Lb[q]=rt(D)?dt(D,6):0}if(B.Bb)for(q=0;3>q;++q)W.jb[q]=rt(D)?et(D,8):255}else B.Bb=0;if(D.Ka)return un(l,3,"cannot parse segment header");if((B=l.ed).zd=rt(D),B.Tb=et(D,6),B.wb=et(D,3),B.Pc=rt(D),B.Pc&&rt(D)){for(W=0;4>W;++W)rt(D)&&(B.vd[W]=dt(D,6));for(W=0;4>W;++W)rt(D)&&(B.od[W]=dt(D,6))}if(l.L=B.Tb==0?0:B.zd?1:2,D.Ka)return un(l,3,"cannot parse filter header");var at=C;if(C=q=w,w=q+at,B=at,l.Xb=(1<<et(l.m,2))-1,at<3*(W=l.Xb))v=7;else{for(q+=3*W,B-=3*W,at=0;at<W;++at){var At=v[C+0]|v[C+1]<<8|v[C+2]<<16;At>B&&(At=B),mt(l.Jc[+at],v,q,At),q+=At,B-=At,C+=3}mt(l.Jc[+W],v,q,B),v=q<w?0:5}if(v!=0)return un(l,v,"cannot parse partitions");for(v=et(q=l.m,7),C=rt(q)?dt(q,4):0,w=rt(q)?dt(q,4):0,B=rt(q)?dt(q,4):0,W=rt(q)?dt(q,4):0,q=rt(q)?dt(q,4):0,at=l.Qa,At=0;4>At;++At){if(at.Cb){var Et=at.Zb[At];at.Fb||(Et+=v)}else{if(0<At){l.pb[At]=l.pb[0];continue}Et=v}var gt=l.pb[At];gt.Sc[0]=yf[Be(Et+C,127)],gt.Sc[1]=_f[Be(Et+0,127)],gt.Eb[0]=2*yf[Be(Et+w,127)],gt.Eb[1]=101581*_f[Be(Et+B,127)]>>16,8>gt.Eb[1]&&(gt.Eb[1]=8),gt.Qc[0]=yf[Be(Et+W,117)],gt.Qc[1]=_f[Be(Et+q,127)],gt.lc=Et+q}if(!F.Rb)return un(l,4,"Not a key frame.");for(rt(D),F=l.Pa,v=0;4>v;++v){for(C=0;8>C;++C)for(w=0;3>w;++w)for(B=0;11>B;++B)W=nt(D,Xv[v][C][w][B])?et(D,8):Yv[v][C][w][B],F.Wc[v][C].Yb[w][B]=W;for(C=0;17>C;++C)F.Xc[v][C]=F.Wc[v][Zv[C]]}return l.kc=rt(D),l.kc&&(l.Bd=et(D,8)),l.cb=1}function La(l,f,v,w,C,D,F){var B=f[C].Yb[v];for(v=0;16>C;++C){if(!nt(l,B[v+0]))return C;for(;!nt(l,B[v+1]);)if(B=f[++C].Yb[0],v=0,C==16)return 16;var q=f[C+1].Yb;if(nt(l,B[v+2])){var W=l,at=0;if(nt(W,(Et=B)[(At=v)+3]))if(nt(W,Et[At+6])){for(B=0,At=2*(at=nt(W,Et[At+8]))+(Et=nt(W,Et[At+9+at])),at=0,Et=Kv[At];Et[B];++B)at+=at+nt(W,Et[B]);at+=3+(8<<At)}else nt(W,Et[At+7])?(at=7+2*nt(W,165),at+=nt(W,145)):at=5+nt(W,159);else at=nt(W,Et[At+4])?3+nt(W,Et[At+5]):2;B=q[2]}else at=1,B=q[1];q=F+Qv[C],0>(W=l).b&&G(W);var At,Et=W.b,gt=(At=W.Ca>>1)-(W.I>>Et)>>31;--W.b,W.Ca+=gt,W.Ca|=1,W.I-=(At+1&gt)<<Et,D[q]=((at^gt)-gt)*w[(0<C)+0]}return 16}function Go(l){var f=l.rb[l.sb-1];f.la=0,f.Na=0,i(l.zc,0,0,l.zc.length),l.ja=0}function Ca(l,f){if(l==null)return 0;if(f==null)return un(l,2,"NULL VP8Io parameter in VP8Decode().");if(!l.cb&&!Wo(l,f))return 0;if(t(l.cb),f.ac==null||f.ac(f)){f.ob&&(l.L=0);var v=gc[l.L];if(l.L==2?(l.yb=0,l.zb=0):(l.yb=f.v-v>>4,l.zb=f.j-v>>4,0>l.yb&&(l.yb=0),0>l.zb&&(l.zb=0)),l.Va=f.o+15+v>>4,l.Hb=f.va+15+v>>4,l.Hb>l.za&&(l.Hb=l.za),l.Va>l.Ub&&(l.Va=l.Ub),0<l.L){var w=l.ed;for(v=0;4>v;++v){var C;if(l.Qa.Cb){var D=l.Qa.Lb[v];l.Qa.Fb||(D+=w.Tb)}else D=w.Tb;for(C=0;1>=C;++C){var F=l.gd[v][C],B=D;if(w.Pc&&(B+=w.vd[0],C&&(B+=w.od[0])),0<(B=0>B?0:63<B?63:B)){var q=B;0<w.wb&&(q=4<w.wb?q>>2:q>>1)>9-w.wb&&(q=9-w.wb),1>q&&(q=1),F.dd=q,F.tc=2*B+q,F.ld=40<=B?2:15<=B?1:0}else F.tc=0;F.La=C}}}v=0}else un(l,6,"Frame setup failed"),v=l.a;if(v=v==0){if(v){l.$c=0,0<l.Aa||(l.Ic=fy);t:{v=l.Ic,w=4*(q=l.za);var W=32*q,at=q+1,At=0<l.L?q*(0<l.Aa?2:1):0,Et=(l.Aa==2?2:1)*q;if((F=w+832+(C=3*(16*v+gc[l.L])/2*W)+(D=l.Fa!=null&&0<l.Fa.length?l.Kc.c*l.Kc.i:0))!=F)v=0;else{if(F>l.Vb){if(l.Vb=0,l.Ec=s(F),l.Fc=0,l.Ec==null){v=un(l,1,"no memory during frame initialization.");break t}l.Vb=F}F=l.Ec,B=l.Fc,l.Ac=F,l.Bc=B,B+=w,l.Gd=o(W,zo),l.Hd=0,l.rb=o(at+1,Fi),l.sb=1,l.wa=At?o(At,Oi):null,l.Y=0,l.D.Nb=0,l.D.wa=l.wa,l.D.Y=l.Y,0<l.Aa&&(l.D.Y+=q),t(!0),l.oc=F,l.pc=B,B+=832,l.ya=o(Et,us),l.aa=0,l.D.ya=l.ya,l.D.aa=l.aa,l.Aa==2&&(l.D.aa+=q),l.R=16*q,l.B=8*q,q=(W=gc[l.L])*l.R,W=W/2*l.B,l.sa=F,l.ta=B+q,l.qa=l.sa,l.ra=l.ta+16*v*l.R+W,l.Ha=l.qa,l.Ia=l.ra+8*v*l.B+W,l.$c=0,B+=C,l.mb=D?F:null,l.nb=D?B:null,t(B+D<=l.Fc+l.Vb),Go(l),i(l.Ac,l.Bc,0,w),v=1}}if(v){if(f.ka=0,f.y=l.sa,f.O=l.ta,f.f=l.qa,f.N=l.ra,f.ea=l.Ha,f.Vd=l.Ia,f.fa=l.R,f.Rc=l.B,f.F=null,f.J=0,!oc){for(v=-255;255>=v;++v)Fn[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)ws[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)tu[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)Wa[255+v]=0>v?0:255<v?255:v;oc=1}za=ds,bs=zs,Jl=Ko,Er=We,ii=fs,wn=hs,$a=Ys,sc=yi,Xl=Xs,ia=na,sa=Js,oo=gs,oa=Zs,Ha=Bi,aa=ps,ao=zr,Zl=On,si=Fa,wi[0]=ni,wi[1]=$l,wi[2]=Vi,wi[3]=Wl,wi[4]=Da,wi[5]=Ws,wi[6]=qr,wi[7]=Yo,wi[8]=Ks,wi[9]=Gs,lo[0]=Mi,lo[1]=Hl,lo[2]=gi,lo[3]=$s,lo[4]=cn,lo[5]=ka,lo[6]=Qo,As[0]=vi,As[1]=Ra,As[2]=Oa,As[3]=mi,As[4]=je,As[5]=Jo,As[6]=Xo,v=1}else v=0}v&&(v=function(gt,Mt){for(gt.M=0;gt.M<gt.Va;++gt.M){var Ct,lt=gt.Jc[gt.M&gt.Xb],ht=gt.m,Ot=gt;for(Ct=0;Ct<Ot.za;++Ct){var jt=ht,Ft=Ot,Xt=Ft.Ac,Kt=Ft.Bc+4*Ct,ae=Ft.zc,Jt=Ft.ya[Ft.aa+Ct];if(Ft.Qa.Bb?Jt.$b=nt(jt,Ft.Pa.jb[0])?2+nt(jt,Ft.Pa.jb[2]):nt(jt,Ft.Pa.jb[1]):Jt.$b=0,Ft.kc&&(Jt.Ad=nt(jt,Ft.Bd)),Jt.Za=!nt(jt,145)+0,Jt.Za){var Fe=Jt.Ob,Ge=0;for(Ft=0;4>Ft;++Ft){var De,Ie=ae[0+Ft];for(De=0;4>De;++De){Ie=Jv[Xt[Kt+De]][Ie];for(var Ze=d1[nt(jt,Ie[0])];0<Ze;)Ze=d1[2*Ze+nt(jt,Ie[Ze])];Ie=-Ze,Xt[Kt+De]=Ie}r(Fe,Ge,Xt,Kt,4),Ge+=4,ae[0+Ft]=Ie}}else Ie=nt(jt,156)?nt(jt,128)?1:3:nt(jt,163)?2:0,Jt.Ob[0]=Ie,i(Xt,Kt,Ie,4),i(ae,0,Ie,4);Jt.Dd=nt(jt,142)?nt(jt,114)?nt(jt,183)?1:3:2:0}if(Ot.m.Ka)return un(gt,7,"Premature end-of-partition0 encountered.");for(;gt.ja<gt.za;++gt.ja){if(Ot=lt,jt=(ht=gt).rb[ht.sb-1],Xt=ht.rb[ht.sb+ht.ja],Ct=ht.ya[ht.aa+ht.ja],Kt=ht.kc?Ct.Ad:0)jt.la=Xt.la=0,Ct.Za||(jt.Na=Xt.Na=0),Ct.Hc=0,Ct.Gc=0,Ct.ia=0;else{var Ye,we;if(jt=Xt,Xt=Ot,Kt=ht.Pa.Xc,ae=ht.ya[ht.aa+ht.ja],Jt=ht.pb[ae.$b],Ft=ae.ad,Fe=0,Ge=ht.rb[ht.sb-1],Ie=De=0,i(Ft,Fe,0,384),ae.Za)var Rn=0,kr=Kt[3];else{Ze=s(16);var kn=jt.Na+Ge.Na;if(kn=eu(Xt,Kt[1],kn,Jt.Eb,0,Ze,0),jt.Na=Ge.Na=(0<kn)+0,1<kn)za(Ze,0,Ft,Fe);else{var Dr=Ze[0]+3>>3;for(Ze=0;256>Ze;Ze+=16)Ft[Fe+Ze]=Dr}Rn=1,kr=Kt[0]}var Ke=15&jt.la,Hr=15&Ge.la;for(Ze=0;4>Ze;++Ze){var Wr=1&Hr;for(Dr=we=0;4>Dr;++Dr)Ke=Ke>>1|(Wr=(kn=eu(Xt,kr,kn=Wr+(1&Ke),Jt.Sc,Rn,Ft,Fe))>Rn)<<7,we=we<<2|(3<kn?3:1<kn?2:Ft[Fe+0]!=0),Fe+=16;Ke>>=4,Hr=Hr>>1|Wr<<7,De=(De<<8|we)>>>0}for(kr=Ke,Rn=Hr>>4,Ye=0;4>Ye;Ye+=2){for(we=0,Ke=jt.la>>4+Ye,Hr=Ge.la>>4+Ye,Ze=0;2>Ze;++Ze){for(Wr=1&Hr,Dr=0;2>Dr;++Dr)kn=Wr+(1&Ke),Ke=Ke>>1|(Wr=0<(kn=eu(Xt,Kt[2],kn,Jt.Qc,0,Ft,Fe)))<<3,we=we<<2|(3<kn?3:1<kn?2:Ft[Fe+0]!=0),Fe+=16;Ke>>=2,Hr=Hr>>1|Wr<<5}Ie|=we<<4*Ye,kr|=Ke<<4<<Ye,Rn|=(240&Hr)<<Ye}jt.la=kr,Ge.la=Rn,ae.Hc=De,ae.Gc=Ie,ae.ia=43690&Ie?0:Jt.ia,Kt=!(De|Ie)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[Ct.$b][Ct.Za],ht.wa[ht.Y+ht.ja].La|=!Kt),Ot.Ka)return un(gt,7,"Premature end-of-file encountered.")}if(Go(gt),ht=Mt,Ot=1,Ct=(lt=gt).D,jt=0<lt.L&&lt.M>=lt.zb&&lt.M<=lt.Va,lt.Aa==0)t:{if(Ct.M=lt.M,Ct.uc=jt,Ui(lt,Ct),Ot=1,Ct=(we=lt.D).Nb,jt=(Ie=gc[lt.L])*lt.R,Xt=Ie/2*lt.B,Ze=16*Ct*lt.R,Dr=8*Ct*lt.B,Kt=lt.sa,ae=lt.ta-jt+Ze,Jt=lt.qa,Ft=lt.ra-Xt+Dr,Fe=lt.Ha,Ge=lt.Ia-Xt+Dr,Hr=(Ke=we.M)==0,De=Ke>=lt.Va-1,lt.Aa==2&&Ui(lt,we),we.uc)for(Wr=(kn=lt).D.M,t(kn.D.uc),we=kn.yb;we<kn.Hb;++we){Rn=we,kr=Wr;var qn=(Yn=(vn=kn).D).Nb;Ye=vn.R;var Yn=Yn.wa[Yn.Y+Rn],Sr=vn.sa,ui=vn.ta+16*qn*Ye+16*Rn,$i=Yn.dd,Un=Yn.tc;if(Un!=0)if(t(3<=Un),vn.L==1)0<Rn&&ao(Sr,ui,Ye,Un+4),Yn.La&&si(Sr,ui,Ye,Un),0<kr&&aa(Sr,ui,Ye,Un+4),Yn.La&&Zl(Sr,ui,Ye,Un);else{var Es=vn.B,la=vn.qa,Ga=vn.ra+8*qn*Es+8*Rn,co=vn.Ha,vn=vn.Ia+8*qn*Es+8*Rn;qn=Yn.ld,0<Rn&&(sc(Sr,ui,Ye,Un+4,$i,qn),ia(la,Ga,co,vn,Es,Un+4,$i,qn)),Yn.La&&(oo(Sr,ui,Ye,Un,$i,qn),Ha(la,Ga,co,vn,Es,Un,$i,qn)),0<kr&&($a(Sr,ui,Ye,Un+4,$i,qn),Xl(la,Ga,co,vn,Es,Un+4,$i,qn)),Yn.La&&(sa(Sr,ui,Ye,Un,$i,qn),oa(la,Ga,co,vn,Es,Un,$i,qn))}}if(lt.ia&&alert("todo:DitherRow"),ht.put!=null){if(we=16*Ke,Ke=16*(Ke+1),Hr?(ht.y=lt.sa,ht.O=lt.ta+Ze,ht.f=lt.qa,ht.N=lt.ra+Dr,ht.ea=lt.Ha,ht.W=lt.Ia+Dr):(we-=Ie,ht.y=Kt,ht.O=ae,ht.f=Jt,ht.N=Ft,ht.ea=Fe,ht.W=Ge),De||(Ke-=Ie),Ke>ht.o&&(Ke=ht.o),ht.F=null,ht.J=null,lt.Fa!=null&&0<lt.Fa.length&&we<Ke&&(ht.J=ro(lt,ht,we,Ke-we),ht.F=lt.mb,ht.F==null&&ht.F.length==0)){Ot=un(lt,3,"Could not decode alpha data.");break t}we<ht.j&&(Ie=ht.j-we,we=ht.j,t(!(1&Ie)),ht.O+=lt.R*Ie,ht.N+=lt.B*(Ie>>1),ht.W+=lt.B*(Ie>>1),ht.F!=null&&(ht.J+=ht.width*Ie)),we<Ke&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=we-ht.j,ht.U=ht.va-ht.v,ht.T=Ke-we,Ot=ht.put(ht))}Ct+1!=lt.Ic||De||(r(lt.sa,lt.ta-jt,Kt,ae+16*lt.R,jt),r(lt.qa,lt.ra-Xt,Jt,Ft+8*lt.B,Xt),r(lt.Ha,lt.Ia-Xt,Fe,Ge+8*lt.B,Xt))}if(!Ot)return un(gt,6,"Output aborted.")}return 1}(l,f)),f.bc!=null&&f.bc(f),v&=1}return v?(l.cb=0,v):0}function Lr(l,f,v,w,C){C=l[f+v+32*w]+(C>>3),l[f+v+32*w]=-256&C?0>C?0:255:C}function Us(l,f,v,w,C,D){Lr(l,f,0,v,w+C),Lr(l,f,1,v,w+D),Lr(l,f,2,v,w-D),Lr(l,f,3,v,w-C)}function mn(l){return(20091*l>>16)+l}function wr(l,f,v,w){var C,D=0,F=s(16);for(C=0;4>C;++C){var B=l[f+0]+l[f+8],q=l[f+0]-l[f+8],W=(35468*l[f+4]>>16)-mn(l[f+12]),at=mn(l[f+4])+(35468*l[f+12]>>16);F[D+0]=B+at,F[D+1]=q+W,F[D+2]=q-W,F[D+3]=B-at,D+=4,f++}for(C=D=0;4>C;++C)B=(l=F[D+0]+4)+F[D+8],q=l-F[D+8],W=(35468*F[D+4]>>16)-mn(F[D+12]),Lr(v,w,0,0,B+(at=mn(F[D+4])+(35468*F[D+12]>>16))),Lr(v,w,1,0,q+W),Lr(v,w,2,0,q-W),Lr(v,w,3,0,B-at),D++,w+=32}function hs(l,f,v,w){var C=l[f+0]+4,D=35468*l[f+4]>>16,F=mn(l[f+4]),B=35468*l[f+1]>>16;Us(v,w,0,C+F,l=mn(l[f+1]),B),Us(v,w,1,C+D,l,B),Us(v,w,2,C-D,l,B),Us(v,w,3,C-F,l,B)}function zs(l,f,v,w,C){wr(l,f,v,w),C&&wr(l,f+16,v,w+4)}function Ko(l,f,v,w){bs(l,f+0,v,w,1),bs(l,f+32,v,w+128,1)}function We(l,f,v,w){var C;for(l=l[f+0]+4,C=0;4>C;++C)for(f=0;4>f;++f)Lr(v,w,f,C,l)}function fs(l,f,v,w){l[f+0]&&Er(l,f+0,v,w),l[f+16]&&Er(l,f+16,v,w+4),l[f+32]&&Er(l,f+32,v,w+128),l[f+48]&&Er(l,f+48,v,w+128+4)}function ds(l,f,v,w){var C,D=s(16);for(C=0;4>C;++C){var F=l[f+0+C]+l[f+12+C],B=l[f+4+C]+l[f+8+C],q=l[f+4+C]-l[f+8+C],W=l[f+0+C]-l[f+12+C];D[0+C]=F+B,D[8+C]=F-B,D[4+C]=W+q,D[12+C]=W-q}for(C=0;4>C;++C)F=(l=D[0+4*C]+3)+D[3+4*C],B=D[1+4*C]+D[2+4*C],q=D[1+4*C]-D[2+4*C],W=l-D[3+4*C],v[w+0]=F+B>>3,v[w+16]=W+q>>3,v[w+32]=F-B>>3,v[w+48]=W-q>>3,w+=64}function pi(l,f,v){var w,C=f-32,D=$r,F=255-l[C-1];for(w=0;w<v;++w){var B,q=D,W=F+l[f-1];for(B=0;B<v;++B)l[f+B]=q[W+l[C+B]];f+=32}}function $l(l,f){pi(l,f,4)}function Ra(l,f){pi(l,f,8)}function Hl(l,f){pi(l,f,16)}function gi(l,f){var v;for(v=0;16>v;++v)r(l,f+32*v,l,f-32,16)}function $s(l,f){var v;for(v=16;0<v;--v)i(l,f,l[f-1],16),f+=32}function Hs(l,f,v){var w;for(w=0;16>w;++w)i(f,v+32*w,l,16)}function Mi(l,f){var v,w=16;for(v=0;16>v;++v)w+=l[f-1+32*v]+l[f+v-32];Hs(w>>5,l,f)}function cn(l,f){var v,w=8;for(v=0;16>v;++v)w+=l[f-1+32*v];Hs(w>>4,l,f)}function ka(l,f){var v,w=8;for(v=0;16>v;++v)w+=l[f+v-32];Hs(w>>4,l,f)}function Qo(l,f){Hs(128,l,f)}function fe(l,f,v){return l+2*f+v+2>>2}function Vi(l,f){var v,w=f-32;for(w=new Uint8Array([fe(l[w-1],l[w+0],l[w+1]),fe(l[w+0],l[w+1],l[w+2]),fe(l[w+1],l[w+2],l[w+3]),fe(l[w+2],l[w+3],l[w+4])]),v=0;4>v;++v)r(l,f+32*v,w,0,w.length)}function Wl(l,f){var v=l[f-1],w=l[f-1+32],C=l[f-1+64],D=l[f-1+96];It(l,f+0,16843009*fe(l[f-1-32],v,w)),It(l,f+32,16843009*fe(v,w,C)),It(l,f+64,16843009*fe(w,C,D)),It(l,f+96,16843009*fe(C,D,D))}function ni(l,f){var v,w=4;for(v=0;4>v;++v)w+=l[f+v-32]+l[f-1+32*v];for(w>>=3,v=0;4>v;++v)i(l,f+32*v,w,4)}function Da(l,f){var v=l[f-1+0],w=l[f-1+32],C=l[f-1+64],D=l[f-1-32],F=l[f+0-32],B=l[f+1-32],q=l[f+2-32],W=l[f+3-32];l[f+0+96]=fe(w,C,l[f-1+96]),l[f+1+96]=l[f+0+64]=fe(v,w,C),l[f+2+96]=l[f+1+64]=l[f+0+32]=fe(D,v,w),l[f+3+96]=l[f+2+64]=l[f+1+32]=l[f+0+0]=fe(F,D,v),l[f+3+64]=l[f+2+32]=l[f+1+0]=fe(B,F,D),l[f+3+32]=l[f+2+0]=fe(q,B,F),l[f+3+0]=fe(W,q,B)}function qr(l,f){var v=l[f+1-32],w=l[f+2-32],C=l[f+3-32],D=l[f+4-32],F=l[f+5-32],B=l[f+6-32],q=l[f+7-32];l[f+0+0]=fe(l[f+0-32],v,w),l[f+1+0]=l[f+0+32]=fe(v,w,C),l[f+2+0]=l[f+1+32]=l[f+0+64]=fe(w,C,D),l[f+3+0]=l[f+2+32]=l[f+1+64]=l[f+0+96]=fe(C,D,F),l[f+3+32]=l[f+2+64]=l[f+1+96]=fe(D,F,B),l[f+3+64]=l[f+2+96]=fe(F,B,q),l[f+3+96]=fe(B,q,q)}function Ws(l,f){var v=l[f-1+0],w=l[f-1+32],C=l[f-1+64],D=l[f-1-32],F=l[f+0-32],B=l[f+1-32],q=l[f+2-32],W=l[f+3-32];l[f+0+0]=l[f+1+64]=D+F+1>>1,l[f+1+0]=l[f+2+64]=F+B+1>>1,l[f+2+0]=l[f+3+64]=B+q+1>>1,l[f+3+0]=q+W+1>>1,l[f+0+96]=fe(C,w,v),l[f+0+64]=fe(w,v,D),l[f+0+32]=l[f+1+96]=fe(v,D,F),l[f+1+32]=l[f+2+96]=fe(D,F,B),l[f+2+32]=l[f+3+96]=fe(F,B,q),l[f+3+32]=fe(B,q,W)}function Yo(l,f){var v=l[f+0-32],w=l[f+1-32],C=l[f+2-32],D=l[f+3-32],F=l[f+4-32],B=l[f+5-32],q=l[f+6-32],W=l[f+7-32];l[f+0+0]=v+w+1>>1,l[f+1+0]=l[f+0+64]=w+C+1>>1,l[f+2+0]=l[f+1+64]=C+D+1>>1,l[f+3+0]=l[f+2+64]=D+F+1>>1,l[f+0+32]=fe(v,w,C),l[f+1+32]=l[f+0+96]=fe(w,C,D),l[f+2+32]=l[f+1+96]=fe(C,D,F),l[f+3+32]=l[f+2+96]=fe(D,F,B),l[f+3+64]=fe(F,B,q),l[f+3+96]=fe(B,q,W)}function Gs(l,f){var v=l[f-1+0],w=l[f-1+32],C=l[f-1+64],D=l[f-1+96];l[f+0+0]=v+w+1>>1,l[f+2+0]=l[f+0+32]=w+C+1>>1,l[f+2+32]=l[f+0+64]=C+D+1>>1,l[f+1+0]=fe(v,w,C),l[f+3+0]=l[f+1+32]=fe(w,C,D),l[f+3+32]=l[f+1+64]=fe(C,D,D),l[f+3+64]=l[f+2+64]=l[f+0+96]=l[f+1+96]=l[f+2+96]=l[f+3+96]=D}function Ks(l,f){var v=l[f-1+0],w=l[f-1+32],C=l[f-1+64],D=l[f-1+96],F=l[f-1-32],B=l[f+0-32],q=l[f+1-32],W=l[f+2-32];l[f+0+0]=l[f+2+32]=v+F+1>>1,l[f+0+32]=l[f+2+64]=w+v+1>>1,l[f+0+64]=l[f+2+96]=C+w+1>>1,l[f+0+96]=D+C+1>>1,l[f+3+0]=fe(B,q,W),l[f+2+0]=fe(F,B,q),l[f+1+0]=l[f+3+32]=fe(v,F,B),l[f+1+32]=l[f+3+64]=fe(w,v,F),l[f+1+64]=l[f+3+96]=fe(C,w,v),l[f+1+96]=fe(D,C,w)}function Oa(l,f){var v;for(v=0;8>v;++v)r(l,f+32*v,l,f-32,8)}function mi(l,f){var v;for(v=0;8>v;++v)i(l,f,l[f-1],8),f+=32}function Ur(l,f,v){var w;for(w=0;8>w;++w)i(f,v+32*w,l,8)}function vi(l,f){var v,w=8;for(v=0;8>v;++v)w+=l[f+v-32]+l[f-1+32*v];Ur(w>>4,l,f)}function Jo(l,f){var v,w=4;for(v=0;8>v;++v)w+=l[f+v-32];Ur(w>>3,l,f)}function je(l,f){var v,w=4;for(v=0;8>v;++v)w+=l[f-1+32*v];Ur(w>>3,l,f)}function Xo(l,f){Ur(128,l,f)}function Qs(l,f,v){var w=l[f-v],C=l[f+0],D=3*(C-w)+df[1020+l[f-2*v]-l[f+v]],F=ac[112+(D+4>>3)];l[f-v]=$r[255+w+ac[112+(D+3>>3)]],l[f+0]=$r[255+C-F]}function Zo(l,f,v,w){var C=l[f+0],D=l[f+v];return ai[255+l[f-2*v]-l[f-v]]>w||ai[255+D-C]>w}function ta(l,f,v,w){return 4*ai[255+l[f-v]-l[f+0]]+ai[255+l[f-2*v]-l[f+v]]<=w}function ea(l,f,v,w,C){var D=l[f-3*v],F=l[f-2*v],B=l[f-v],q=l[f+0],W=l[f+v],at=l[f+2*v],At=l[f+3*v];return 4*ai[255+B-q]+ai[255+F-W]>w?0:ai[255+l[f-4*v]-D]<=C&&ai[255+D-F]<=C&&ai[255+F-B]<=C&&ai[255+At-at]<=C&&ai[255+at-W]<=C&&ai[255+W-q]<=C}function ps(l,f,v,w){var C=2*w+1;for(w=0;16>w;++w)ta(l,f+w,v,C)&&Qs(l,f+w,v)}function zr(l,f,v,w){var C=2*w+1;for(w=0;16>w;++w)ta(l,f+w*v,1,C)&&Qs(l,f+w*v,1)}function On(l,f,v,w){var C;for(C=3;0<C;--C)ps(l,f+=4*v,v,w)}function Fa(l,f,v,w){var C;for(C=3;0<C;--C)zr(l,f+=4,v,w)}function ji(l,f,v,w,C,D,F,B){for(D=2*D+1;0<C--;){if(ea(l,f,v,D,F))if(Zo(l,f,v,B))Qs(l,f,v);else{var q=l,W=f,at=v,At=q[W-2*at],Et=q[W-at],gt=q[W+0],Mt=q[W+at],Ct=q[W+2*at],lt=27*(Ot=df[1020+3*(gt-Et)+df[1020+At-Mt]])+63>>7,ht=18*Ot+63>>7,Ot=9*Ot+63>>7;q[W-3*at]=$r[255+q[W-3*at]+Ot],q[W-2*at]=$r[255+At+ht],q[W-at]=$r[255+Et+lt],q[W+0]=$r[255+gt-lt],q[W+at]=$r[255+Mt-ht],q[W+2*at]=$r[255+Ct-Ot]}f+=w}}function Gn(l,f,v,w,C,D,F,B){for(D=2*D+1;0<C--;){if(ea(l,f,v,D,F))if(Zo(l,f,v,B))Qs(l,f,v);else{var q=l,W=f,at=v,At=q[W-at],Et=q[W+0],gt=q[W+at],Mt=ac[112+((Ct=3*(Et-At))+4>>3)],Ct=ac[112+(Ct+3>>3)],lt=Mt+1>>1;q[W-2*at]=$r[255+q[W-2*at]+lt],q[W-at]=$r[255+At+Ct],q[W+0]=$r[255+Et-Mt],q[W+at]=$r[255+gt-lt]}f+=w}}function Ys(l,f,v,w,C,D){ji(l,f,v,1,16,w,C,D)}function yi(l,f,v,w,C,D){ji(l,f,1,v,16,w,C,D)}function Js(l,f,v,w,C,D){var F;for(F=3;0<F;--F)Gn(l,f+=4*v,v,1,16,w,C,D)}function gs(l,f,v,w,C,D){var F;for(F=3;0<F;--F)Gn(l,f+=4,1,v,16,w,C,D)}function Xs(l,f,v,w,C,D,F,B){ji(l,f,C,1,8,D,F,B),ji(v,w,C,1,8,D,F,B)}function na(l,f,v,w,C,D,F,B){ji(l,f,1,C,8,D,F,B),ji(v,w,1,C,8,D,F,B)}function Zs(l,f,v,w,C,D,F,B){Gn(l,f+4*C,C,1,8,D,F,B),Gn(v,w+4*C,C,1,8,D,F,B)}function Bi(l,f,v,w,C,D,F,B){Gn(l,f+4,1,C,8,D,F,B),Gn(v,w+4,1,C,8,D,F,B)}function ms(){this.ba=new Wn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function to(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function eo(){this.ua=0,this.Wa=new j,this.vb=new j,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new S}function Ma(){this.xb=this.a=0,this.l=new cs,this.ca=new Wn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new eo,this.ab=0,this.gc=o(4,vs),this.Oc=0}function _i(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function qi(l,f,v,w,C,D,F){for(l=l==null?0:l[f+0],f=0;f<F;++f)C[D+f]=l+v[w+f]&255,l=C[D+f]}function no(l,f,v,w,C,D,F){var B;if(l==null)qi(null,null,v,w,C,D,F);else for(B=0;B<F;++B)C[D+B]=l[f+B]+v[w+B]&255}function ir(l,f,v,w,C,D,F){if(l==null)qi(null,null,v,w,C,D,F);else{var B,q=l[f+0],W=q,at=q;for(B=0;B<F;++B)W=at+(q=l[f+B])-W,at=v[w+B]+(-256&W?0>W?0:255:W)&255,W=q,C[D+B]=at}}function ro(l,f,v,w){var C=f.width,D=f.o;if(t(l!=null&&f!=null),0>v||0>=w||v+w>D)return null;if(!l.Cc){if(l.ga==null){var F;if(l.ga=new _i,(F=l.ga==null)||(F=f.width*f.o,t(l.Gb.length==0),l.Gb=s(F),l.Uc=0,l.Gb==null?F=0:(l.mb=l.Gb,l.nb=l.Uc,l.rc=null,F=1),F=!F),!F){F=l.ga;var B=l.Fa,q=l.P,W=l.qc,at=l.mb,At=l.nb,Et=q+1,gt=W-1,Mt=F.l;if(t(B!=null&&at!=null&&f!=null),uo[0]=null,uo[1]=qi,uo[2]=no,uo[3]=ir,F.ca=at,F.tb=At,F.c=f.width,F.i=f.height,t(0<F.c&&0<F.i),1>=W)f=0;else if(F.$a=B[q+0]>>0&3,F.Z=B[q+0]>>2&3,F.Lc=B[q+0]>>4&3,q=B[q+0]>>6&3,0>F.$a||1<F.$a||4<=F.Z||1<F.Lc||q)f=0;else if(Mt.put=er,Mt.ac=Nn,Mt.bc=jr,Mt.ma=F,Mt.width=f.width,Mt.height=f.height,Mt.Da=f.Da,Mt.v=f.v,Mt.va=f.va,Mt.j=f.j,Mt.o=f.o,F.$a)t:{t(F.$a==1),f=bn();e:for(;;){if(f==null){f=0;break t}if(t(F!=null),F.mc=f,f.c=F.c,f.i=F.i,f.l=F.l,f.l.ma=F,f.l.width=F.c,f.l.height=F.i,f.a=0,ut(f.m,B,Et,gt),!Br(F.c,F.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&fi(f.s)?(F.ic=1,B=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(B),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(F.ic=0,f=Ri(f,F.c)),!f))break e;f=1;break t}F.mc=null,f=0}else f=gt>=F.c*F.i;F=!f}if(F)return null;l.ga.Lc!=1?l.Ga=0:w=D-v}t(l.ga!=null),t(v+w<=D);t:{if(f=(B=l.ga).c,D=B.l.o,B.$a==0){if(Et=l.rc,gt=l.Vc,Mt=l.Fa,q=l.P+1+v*f,W=l.mb,at=l.nb+v*f,t(q<=l.P+l.qc),B.Z!=0)for(t(uo[B.Z]!=null),F=0;F<w;++F)uo[B.Z](Et,gt,Mt,q,W,at,f),Et=W,gt=at,at+=f,q+=f;else for(F=0;F<w;++F)r(W,at,Mt,q,f),Et=W,gt=at,at+=f,q+=f;l.rc=Et,l.Vc=gt}else{if(t(B.mc!=null),f=v+w,t((F=B.mc)!=null),t(f<=F.i),F.C>=f)f=1;else if(B.ic||pt(),B.ic){B=F.V,Et=F.Ba,gt=F.c;var Ct=F.i,lt=(Mt=1,q=F.$/gt,W=F.$%gt,at=F.m,At=F.s,F.$),ht=gt*Ct,Ot=gt*f,jt=At.wc,Ft=lt<Ot?gn(At,W,q):null;t(lt<=ht),t(f<=Ct),t(fi(At));e:for(;;){for(;!at.h&&lt<Ot;){if(W&jt||(Ft=gn(At,W,q)),t(Ft!=null),tt(at),256>(Ct=Ln(Ft.G[0],Ft.H[0],at)))B[Et+lt]=Ct,++lt,++W>=gt&&(W=0,++q<=f&&!(q%16)&&Nr(F,q));else{if(!(280>Ct)){Mt=0;break e}Ct=Pr(Ct-256,at);var Xt,Kt=Ln(Ft.G[4],Ft.H[4],at);if(tt(at),!(lt>=(Kt=nr(gt,Kt=Pr(Kt,at)))&&ht-lt>=Ct)){Mt=0;break e}for(Xt=0;Xt<Ct;++Xt)B[Et+lt+Xt]=B[Et+lt+Xt-Kt];for(lt+=Ct,W+=Ct;W>=gt;)W-=gt,++q<=f&&!(q%16)&&Nr(F,q);lt<Ot&&W&jt&&(Ft=gn(At,W,q))}t(at.h==J(at))}Nr(F,q>f?f:q);break e}!Mt||at.h&&lt<ht?(Mt=0,F.a=at.h?5:3):F.$=lt,f=Mt}else f=_r(F,F.V,F.Ba,F.c,F.i,f,ki);if(!f){w=0;break t}}v+w>=D&&(l.Cc=1),w=1}if(!w)return null;if(l.Cc&&((w=l.ga)!=null&&(w.mc=null),l.ga=null,0<l.Ga))return alert("todo:WebPDequantizeLevels"),null}return l.nb+v*C}function p(l,f,v,w,C,D){for(;0<C--;){var F,B=l,q=f+(v?1:0),W=l,at=f+(v?0:3);for(F=0;F<w;++F){var At=W[at+4*F];At!=255&&(At*=32897,B[q+4*F+0]=B[q+4*F+0]*At>>23,B[q+4*F+1]=B[q+4*F+1]*At>>23,B[q+4*F+2]=B[q+4*F+2]*At>>23)}f+=D}}function L(l,f,v,w,C){for(;0<w--;){var D;for(D=0;D<v;++D){var F=l[f+2*D+0],B=15&(W=l[f+2*D+1]),q=4369*B,W=(240&W|W>>4)*q>>16;l[f+2*D+0]=(240&F|F>>4)*q>>16&240|(15&F|F<<4)*q>>16>>4&15,l[f+2*D+1]=240&W|B}f+=C}}function Y(l,f,v,w,C,D,F,B){var q,W,at=255;for(W=0;W<C;++W){for(q=0;q<w;++q){var At=l[f+q];D[F+4*q]=At,at&=At}f+=v,F+=B}return at!=255}function ot(l,f,v,w,C){var D;for(D=0;D<C;++D)v[w+D]=l[f+D]>>8}function pt(){oi=p,rn=L,sn=Y,An=ot}function Rt(l,f,v){b[l]=function(w,C,D,F,B,q,W,at,At,Et,gt,Mt,Ct,lt,ht,Ot,jt){var Ft,Xt=jt-1>>1,Kt=B[q+0]|W[at+0]<<16,ae=At[Et+0]|gt[Mt+0]<<16;t(w!=null);var Jt=3*Kt+ae+131074>>2;for(f(w[C+0],255&Jt,Jt>>16,Ct,lt),D!=null&&(Jt=3*ae+Kt+131074>>2,f(D[F+0],255&Jt,Jt>>16,ht,Ot)),Ft=1;Ft<=Xt;++Ft){var Fe=B[q+Ft]|W[at+Ft]<<16,Ge=At[Et+Ft]|gt[Mt+Ft]<<16,De=Kt+Fe+ae+Ge+524296,Ie=De+2*(Fe+ae)>>3;Jt=Ie+Kt>>1,Kt=(De=De+2*(Kt+Ge)>>3)+Fe>>1,f(w[C+2*Ft-1],255&Jt,Jt>>16,Ct,lt+(2*Ft-1)*v),f(w[C+2*Ft-0],255&Kt,Kt>>16,Ct,lt+(2*Ft-0)*v),D!=null&&(Jt=De+ae>>1,Kt=Ie+Ge>>1,f(D[F+2*Ft-1],255&Jt,Jt>>16,ht,Ot+(2*Ft-1)*v),f(D[F+2*Ft+0],255&Kt,Kt>>16,ht,Ot+(2*Ft+0)*v)),Kt=Fe,ae=Ge}1&jt||(Jt=3*Kt+ae+131074>>2,f(w[C+jt-1],255&Jt,Jt>>16,Ct,lt+(jt-1)*v),D!=null&&(Jt=3*ae+Kt+131074>>2,f(D[F+jt-1],255&Jt,Jt>>16,ht,Ot+(jt-1)*v)))}}function Bt(){li[lc]=ey,li[uc]=g1,li[c1]=ny,li[cc]=m1,li[hc]=v1,li[pf]=y1,li[h1]=ry,li[gf]=g1,li[mf]=m1,li[fc]=v1,li[vf]=y1}function Qt(l){return l&-16384?0>l?0:255:l>>iy}function c(l,f){return Qt((19077*l>>8)+(26149*f>>8)-14234)}function y(l,f,v){return Qt((19077*l>>8)-(6419*f>>8)-(13320*v>>8)+8708)}function E(l,f){return Qt((19077*l>>8)+(33050*f>>8)-17685)}function V(l,f,v,w,C){w[C+0]=c(l,v),w[C+1]=y(l,f,v),w[C+2]=E(l,f)}function ft(l,f,v,w,C){w[C+0]=E(l,f),w[C+1]=y(l,f,v),w[C+2]=c(l,v)}function St(l,f,v,w,C){var D=y(l,f,v);f=D<<3&224|E(l,f)>>3,w[C+0]=248&c(l,v)|D>>5,w[C+1]=f}function qt(l,f,v,w,C){var D=240&E(l,f)|15;w[C+0]=240&c(l,v)|y(l,f,v)>>4,w[C+1]=D}function me(l,f,v,w,C){w[C+0]=255,V(l,f,v,w,C+1)}function xe(l,f,v,w,C){ft(l,f,v,w,C),w[C+3]=255}function ve(l,f,v,w,C){V(l,f,v,w,C),w[C+3]=255}function Be(l,f){return 0>l?0:l>f?f:l}function Xe(l,f,v){b[l]=function(w,C,D,F,B,q,W,at,At){for(var Et=at+(-2&At)*v;at!=Et;)f(w[C+0],D[F+0],B[q+0],W,at),f(w[C+1],D[F+0],B[q+0],W,at+v),C+=2,++F,++q,at+=2*v;1&At&&f(w[C+0],D[F+0],B[q+0],W,at)}}function bi(l,f,v){return v==0?l==0?f==0?6:5:f==0?4:0:v}function Kn(l,f,v,w,C){switch(l>>>30){case 3:bs(f,v,w,C,0);break;case 2:wn(f,v,w,C);break;case 1:Er(f,v,w,C)}}function Ui(l,f){var v,w,C=f.M,D=f.Nb,F=l.oc,B=l.pc+40,q=l.oc,W=l.pc+584,at=l.oc,At=l.pc+600;for(v=0;16>v;++v)F[B+32*v-1]=129;for(v=0;8>v;++v)q[W+32*v-1]=129,at[At+32*v-1]=129;for(0<C?F[B-1-32]=q[W-1-32]=at[At-1-32]=129:(i(F,B-32-1,127,21),i(q,W-32-1,127,9),i(at,At-32-1,127,9)),w=0;w<l.za;++w){var Et=f.ya[f.aa+w];if(0<w){for(v=-1;16>v;++v)r(F,B+32*v-4,F,B+32*v+12,4);for(v=-1;8>v;++v)r(q,W+32*v-4,q,W+32*v+4,4),r(at,At+32*v-4,at,At+32*v+4,4)}var gt=l.Gd,Mt=l.Hd+w,Ct=Et.ad,lt=Et.Hc;if(0<C&&(r(F,B-32,gt[Mt].y,0,16),r(q,W-32,gt[Mt].f,0,8),r(at,At-32,gt[Mt].ea,0,8)),Et.Za){var ht=F,Ot=B-32+16;for(0<C&&(w>=l.za-1?i(ht,Ot,gt[Mt].y[15],4):r(ht,Ot,gt[Mt+1].y,0,4)),v=0;4>v;v++)ht[Ot+128+v]=ht[Ot+256+v]=ht[Ot+384+v]=ht[Ot+0+v];for(v=0;16>v;++v,lt<<=2)ht=F,Ot=B+b1[v],wi[Et.Ob[v]](ht,Ot),Kn(lt,Ct,16*+v,ht,Ot)}else if(ht=bi(w,C,Et.Ob[0]),lo[ht](F,B),lt!=0)for(v=0;16>v;++v,lt<<=2)Kn(lt,Ct,16*+v,F,B+b1[v]);for(v=Et.Gc,ht=bi(w,C,Et.Dd),As[ht](q,W),As[ht](at,At),lt=Ct,ht=q,Ot=W,255&(Et=v>>0)&&(170&Et?Jl(lt,256,ht,Ot):ii(lt,256,ht,Ot)),Et=at,lt=At,255&(v>>=8)&&(170&v?Jl(Ct,320,Et,lt):ii(Ct,320,Et,lt)),C<l.Ub-1&&(r(gt[Mt].y,0,F,B+480,16),r(gt[Mt].f,0,q,W+224,8),r(gt[Mt].ea,0,at,At+224,8)),v=8*D*l.B,gt=l.sa,Mt=l.ta+16*w+16*D*l.R,Ct=l.qa,Et=l.ra+8*w+v,lt=l.Ha,ht=l.Ia+8*w+v,v=0;16>v;++v)r(gt,Mt+v*l.R,F,B+32*v,16);for(v=0;8>v;++v)r(Ct,Et+v*l.B,q,W+32*v,8),r(lt,ht+v*l.B,at,At+32*v,8)}}function zi(l,f,v,w,C,D,F,B,q){var W=[0],at=[0],At=0,Et=q!=null?q.kd:0,gt=q??new to;if(l==null||12>v)return 7;gt.data=l,gt.w=f,gt.ha=v,f=[f],v=[v],gt.gb=[gt.gb];t:{var Mt=f,Ct=v,lt=gt.gb;if(t(l!=null),t(Ct!=null),t(lt!=null),lt[0]=0,12<=Ct[0]&&!n(l,Mt[0],"RIFF")){if(n(l,Mt[0]+8,"WEBP")){lt=3;break t}var ht=$(l,Mt[0]+4);if(12>ht||4294967286<ht){lt=3;break t}if(Et&&ht>Ct[0]-8){lt=7;break t}lt[0]=ht,Mt[0]+=12,Ct[0]-=12}lt=0}if(lt!=0)return lt;for(ht=0<gt.gb[0],v=v[0];;){t:{var Ot=l;Ct=f,lt=v;var jt=W,Ft=at,Xt=Mt=[0];if((Jt=At=[At])[0]=0,8>lt[0])lt=7;else{if(!n(Ot,Ct[0],"VP8X")){if($(Ot,Ct[0]+4)!=10){lt=3;break t}if(18>lt[0]){lt=7;break t}var Kt=$(Ot,Ct[0]+8),ae=1+z(Ot,Ct[0]+12);if(2147483648<=ae*(Ot=1+z(Ot,Ct[0]+15))){lt=3;break t}Xt!=null&&(Xt[0]=Kt),jt!=null&&(jt[0]=ae),Ft!=null&&(Ft[0]=Ot),Ct[0]+=18,lt[0]-=18,Jt[0]=1}lt=0}}if(At=At[0],Mt=Mt[0],lt!=0)return lt;if(Ct=!!(2&Mt),!ht&&At)return 3;if(D!=null&&(D[0]=!!(16&Mt)),F!=null&&(F[0]=Ct),B!=null&&(B[0]=0),F=W[0],Mt=at[0],At&&Ct&&q==null){lt=0;break}if(4>v){lt=7;break}if(ht&&At||!ht&&!At&&!n(l,f[0],"ALPH")){v=[v],gt.na=[gt.na],gt.P=[gt.P],gt.Sa=[gt.Sa];t:{Kt=l,lt=f,ht=v;var Jt=gt.gb;jt=gt.na,Ft=gt.P,Xt=gt.Sa,ae=22,t(Kt!=null),t(ht!=null),Ot=lt[0];var Fe=ht[0];for(t(jt!=null),t(Xt!=null),jt[0]=null,Ft[0]=null,Xt[0]=0;;){if(lt[0]=Ot,ht[0]=Fe,8>Fe){lt=7;break t}var Ge=$(Kt,Ot+4);if(4294967286<Ge){lt=3;break t}var De=8+Ge+1&-2;if(ae+=De,0<Jt&&ae>Jt){lt=3;break t}if(!n(Kt,Ot,"VP8 ")||!n(Kt,Ot,"VP8L")){lt=0;break t}if(Fe[0]<De){lt=7;break t}n(Kt,Ot,"ALPH")||(jt[0]=Kt,Ft[0]=Ot+8,Xt[0]=Ge),Ot+=De,Fe-=De}}if(v=v[0],gt.na=gt.na[0],gt.P=gt.P[0],gt.Sa=gt.Sa[0],lt!=0)break}v=[v],gt.Ja=[gt.Ja],gt.xa=[gt.xa];t:if(Jt=l,lt=f,ht=v,jt=gt.gb[0],Ft=gt.Ja,Xt=gt.xa,Kt=lt[0],Ot=!n(Jt,Kt,"VP8 "),ae=!n(Jt,Kt,"VP8L"),t(Jt!=null),t(ht!=null),t(Ft!=null),t(Xt!=null),8>ht[0])lt=7;else{if(Ot||ae){if(Jt=$(Jt,Kt+4),12<=jt&&Jt>jt-12){lt=3;break t}if(Et&&Jt>ht[0]-8){lt=7;break t}Ft[0]=Jt,lt[0]+=8,ht[0]-=8,Xt[0]=ae}else Xt[0]=5<=ht[0]&&Jt[Kt+0]==47&&!(Jt[Kt+4]>>5),Ft[0]=ht[0];lt=0}if(v=v[0],gt.Ja=gt.Ja[0],gt.xa=gt.xa[0],f=f[0],lt!=0)break;if(4294967286<gt.Ja)return 3;if(B==null||Ct||(B[0]=gt.xa?2:1),F=[F],Mt=[Mt],gt.xa){if(5>v){lt=7;break}B=F,Et=Mt,Ct=D,l==null||5>v?l=0:5<=v&&l[f+0]==47&&!(l[f+4]>>5)?(ht=[0],Jt=[0],jt=[0],ut(Ft=new R,l,f,v),te(Ft,ht,Jt,jt)?(B!=null&&(B[0]=ht[0]),Et!=null&&(Et[0]=Jt[0]),Ct!=null&&(Ct[0]=jt[0]),l=1):l=0):l=0}else{if(10>v){lt=7;break}B=Mt,l==null||10>v||!Ho(l,f+3,v-3)?l=0:(Et=l[f+0]|l[f+1]<<8|l[f+2]<<16,Ct=16383&(l[f+7]<<8|l[f+6]),l=16383&(l[f+9]<<8|l[f+8]),1&Et||3<(Et>>1&7)||!(Et>>4&1)||Et>>5>=gt.Ja||!Ct||!l?l=0:(F&&(F[0]=Ct),B&&(B[0]=l),l=1))}if(!l||(F=F[0],Mt=Mt[0],At&&(W[0]!=F||at[0]!=Mt)))return 3;q!=null&&(q[0]=gt,q.offset=f-q.w,t(4294967286>f-q.w),t(q.offset==q.ha-v));break}return lt==0||lt==7&&At&&q==null?(D!=null&&(D[0]|=gt.na!=null&&0<gt.na.length),w!=null&&(w[0]=F),C!=null&&(C[0]=Mt),0):lt}function Gl(l,f,v){var w=f.width,C=f.height,D=0,F=0,B=w,q=C;if(f.Da=l!=null&&0<l.Da,f.Da&&(B=l.cd,q=l.bd,D=l.v,F=l.j,11>v||(D&=-2,F&=-2),0>D||0>F||0>=B||0>=q||D+B>w||F+q>C))return 0;if(f.v=D,f.j=F,f.va=D+B,f.o=F+q,f.U=B,f.T=q,f.da=l!=null&&0<l.da,f.da){if(!bt(B,q,v=[l.ib],D=[l.hb]))return 0;f.ib=v[0],f.hb=D[0]}return f.ob=l!=null&&l.ob,f.Kb=l==null||!l.Sd,f.da&&(f.ob=f.ib<3*w/4&&f.hb<3*C/4,f.Kb=0),1}function Kl(l){if(l==null)return 2;if(11>l.S){var f=l.f.RGBA;f.fb+=(l.height-1)*f.A,f.A=-f.A}else f=l.f.kb,l=l.height,f.O+=(l-1)*f.fa,f.fa=-f.fa,f.N+=(l-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(l-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(l-1)*f.lb,f.lb=-f.lb);return 0}function Va(l,f,v,w){if(w==null||0>=l||0>=f)return 2;if(v!=null){if(v.Da){var C=v.cd,D=v.bd,F=-2&v.v,B=-2&v.j;if(0>F||0>B||0>=C||0>=D||F+C>l||B+D>f)return 2;l=C,f=D}if(v.da){if(!bt(l,f,C=[v.ib],D=[v.hb]))return 2;l=C[0],f=D[0]}}w.width=l,w.height=f;t:{var q=w.width,W=w.height;if(l=w.S,0>=q||0>=W||!(l>=lc&&13>l))l=2;else{if(0>=w.Rd&&w.sd==null){F=D=C=f=0;var at=(B=q*w1[l])*W;if(11>l||(D=(W+1)/2*(f=(q+1)/2),l==12&&(F=(C=q)*W)),(W=s(at+2*D+F))==null){l=1;break t}w.sd=W,11>l?((q=w.f.RGBA).eb=W,q.fb=0,q.A=B,q.size=at):((q=w.f.kb).y=W,q.O=0,q.fa=B,q.Fd=at,q.f=W,q.N=0+at,q.Ab=f,q.Cd=D,q.ea=W,q.W=0+at+D,q.Db=f,q.Ed=D,l==12&&(q.F=W,q.J=0+at+2*D),q.Tc=F,q.lb=C)}if(f=1,C=w.S,D=w.width,F=w.height,C>=lc&&13>C)if(11>C)l=w.f.RGBA,f&=(B=Math.abs(l.A))*(F-1)+D<=l.size,f&=B>=D*w1[C],f&=l.eb!=null;else{l=w.f.kb,B=(D+1)/2,at=(F+1)/2,q=Math.abs(l.fa),W=Math.abs(l.Ab);var At=Math.abs(l.Db),Et=Math.abs(l.lb),gt=Et*(F-1)+D;f&=q*(F-1)+D<=l.Fd,f&=W*(at-1)+B<=l.Cd,f=(f&=At*(at-1)+B<=l.Ed)&q>=D&W>=B&At>=B,f&=l.y!=null,f&=l.f!=null,f&=l.ea!=null,C==12&&(f&=Et>=D,f&=gt<=l.Tc,f&=l.F!=null)}else f=0;l=f?0:2}}return l!=0||v!=null&&v.fd&&(l=Kl(w)),l}var Qn=64,ja=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ba=24,qa=32,Ql=8,Cr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];wt("Predictor0","PredictorAdd0"),b.Predictor0=function(){return 4278190080},b.Predictor1=function(l){return l},b.Predictor2=function(l,f,v){return f[v+0]},b.Predictor3=function(l,f,v){return f[v+1]},b.Predictor4=function(l,f,v){return f[v-1]},b.Predictor5=function(l,f,v){return Dt(Dt(l,f[v+1]),f[v+0])},b.Predictor6=function(l,f,v){return Dt(l,f[v-1])},b.Predictor7=function(l,f,v){return Dt(l,f[v+0])},b.Predictor8=function(l,f,v){return Dt(f[v-1],f[v+0])},b.Predictor9=function(l,f,v){return Dt(f[v+0],f[v+1])},b.Predictor10=function(l,f,v){return Dt(Dt(l,f[v-1]),Dt(f[v+0],f[v+1]))},b.Predictor11=function(l,f,v){var w=f[v+0];return 0>=Ht(w>>24&255,l>>24&255,(f=f[v-1])>>24&255)+Ht(w>>16&255,l>>16&255,f>>16&255)+Ht(w>>8&255,l>>8&255,f>>8&255)+Ht(255&w,255&l,255&f)?w:l},b.Predictor12=function(l,f,v){var w=f[v+0];return(kt((l>>24&255)+(w>>24&255)-((f=f[v-1])>>24&255))<<24|kt((l>>16&255)+(w>>16&255)-(f>>16&255))<<16|kt((l>>8&255)+(w>>8&255)-(f>>8&255))<<8|kt((255&l)+(255&w)-(255&f)))>>>0},b.Predictor13=function(l,f,v){var w=f[v-1];return(Ut((l=Dt(l,f[v+0]))>>24&255,w>>24&255)<<24|Ut(l>>16&255,w>>16&255)<<16|Ut(l>>8&255,w>>8&255)<<8|Ut(l>>0&255,w>>0&255))>>>0};var ff=b.PredictorAdd0;b.PredictorAdd1=Wt,wt("Predictor2","PredictorAdd2"),wt("Predictor3","PredictorAdd3"),wt("Predictor4","PredictorAdd4"),wt("Predictor5","PredictorAdd5"),wt("Predictor6","PredictorAdd6"),wt("Predictor7","PredictorAdd7"),wt("Predictor8","PredictorAdd8"),wt("Predictor9","PredictorAdd9"),wt("Predictor10","PredictorAdd10"),wt("Predictor11","PredictorAdd11"),wt("Predictor12","PredictorAdd12"),wt("Predictor13","PredictorAdd13");var Yl=b.PredictorAdd2;se("ColorIndexInverseTransform","MapARGB","32b",function(l){return l>>8&255},function(l){return l}),se("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(l){return l},function(l){return l>>8&255});var nc,ri=b.ColorIndexInverseTransform,Ua=b.MapARGB,rc=b.VP8LColorIndexInverseTransformAlpha,ic=b.MapAlpha,io=b.VP8LPredictorsAdd=[];io.length=16,(b.VP8LPredictors=[]).length=16,(b.VP8LPredictorsAdd_C=[]).length=16,(b.VP8LPredictors_C=[]).length=16;var ra,Rr,Ar,so,ys,_s,za,bs,wn,Jl,Er,ii,$a,sc,Xl,ia,sa,oo,oa,Ha,aa,ao,Zl,si,oi,rn,sn,An,Fn=s(511),ws=s(2041),tu=s(225),Wa=s(767),oc=0,df=ws,ac=tu,$r=Wa,ai=Fn,lc=0,uc=1,c1=2,cc=3,hc=4,pf=5,h1=6,gf=7,mf=8,fc=9,vf=10,qv=[2,3,7],Uv=[3,3,11],f1=[280,256,256,256,40],zv=[0,1,1,1,0],$v=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Hv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Gv=8,yf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_f=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],eu=null,Kv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],d1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Yv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Jv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],lo=[],wi=[],As=[],ty=1,p1=2,uo=[],li=[];Rt("UpsampleRgbLinePair",V,3),Rt("UpsampleBgrLinePair",ft,3),Rt("UpsampleRgbaLinePair",ve,4),Rt("UpsampleBgraLinePair",xe,4),Rt("UpsampleArgbLinePair",me,4),Rt("UpsampleRgba4444LinePair",qt,2),Rt("UpsampleRgb565LinePair",St,2);var ey=b.UpsampleRgbLinePair,ny=b.UpsampleBgrLinePair,g1=b.UpsampleRgbaLinePair,m1=b.UpsampleBgraLinePair,v1=b.UpsampleArgbLinePair,y1=b.UpsampleRgba4444LinePair,ry=b.UpsampleRgb565LinePair,dc=16,pc=1<<dc-1,nu=-227,bf=482,iy=6,_1=0,sy=s(256),oy=s(256),ay=s(256),ly=s(256),uy=s(bf-nu),cy=s(bf-nu);Xe("YuvToRgbRow",V,3),Xe("YuvToBgrRow",ft,3),Xe("YuvToRgbaRow",ve,4),Xe("YuvToBgraRow",xe,4),Xe("YuvToArgbRow",me,4),Xe("YuvToRgba4444Row",qt,2),Xe("YuvToRgb565Row",St,2);var b1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gc=[0,2,8],hy=[8,7,6,4,4,2,2,2,1,1,1,1],fy=1;this.WebPDecodeRGBA=function(l,f,v,w,C){var D=uc,F=new ms,B=new Wn;F.ba=B,B.S=D,B.width=[B.width],B.height=[B.height];var q=B.width,W=B.height,at=new Vr;if(at==null||l==null)var At=2;else t(at!=null),At=zi(l,f,v,at.width,at.height,at.Pd,at.Qd,at.format,null);if(At!=0?q=0:(q!=null&&(q[0]=at.width[0]),W!=null&&(W[0]=at.height[0]),q=1),q){B.width=B.width[0],B.height=B.height[0],w!=null&&(w[0]=B.width),C!=null&&(C[0]=B.height);t:{if(w=new cs,(C=new to).data=l,C.w=f,C.ha=v,C.kd=1,f=[0],t(C!=null),((l=zi(C.data,C.w,C.ha,null,null,null,f,null,C))==0||l==7)&&f[0]&&(l=4),(f=l)==0){if(t(F!=null),w.data=C.data,w.w=C.w+C.offset,w.ha=C.ha-C.offset,w.put=er,w.ac=Nn,w.bc=jr,w.ma=F,C.xa){if((l=bn())==null){F=1;break t}if(function(Et,gt){var Mt=[0],Ct=[0],lt=[0];e:for(;;){if(Et==null)return 0;if(gt==null)return Et.a=2,0;if(Et.l=gt,Et.a=0,ut(Et.m,gt.data,gt.w,gt.ha),!te(Et.m,Mt,Ct,lt)){Et.a=3;break e}if(Et.xb=p1,gt.width=Mt[0],gt.height=Ct[0],!Br(Mt[0],Ct[0],1,Et,null))break e;return 1}return t(Et.a!=0),0}(l,w)){if(w=(f=Va(w.width,w.height,F.Oa,F.ba))==0){e:{w=l;n:for(;;){if(w==null){w=0;break e}if(t(w.s.yc!=null),t(w.s.Ya!=null),t(0<w.s.Wb),t((v=w.l)!=null),t((C=v.ma)!=null),w.xb!=0){if(w.ca=C.ba,w.tb=C.tb,t(w.ca!=null),!Gl(C.Oa,v,cc)){w.a=2;break n}if(!Ri(w,v.width)||v.da)break n;if((v.da||Pe(w.ca.S))&&pt(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&pt()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!it(w.s.vb,w.s.Wa.Xa)){w.a=1;break n}w.xb=0}if(!_r(w,w.V,w.Ba,w.c,w.i,v.o,Bs))break n;C.Dc=w.Ma,w=1;break e}t(w.a!=0),w=0}w=!w}w&&(f=l.a)}else f=l.a}else{if((l=new $o)==null){F=1;break t}if(l.Fa=C.na,l.P=C.P,l.qc=C.Sa,Wo(l,w)){if((f=Va(w.width,w.height,F.Oa,F.ba))==0){if(l.Aa=0,v=F.Oa,t((C=l)!=null),v!=null){if(0<(q=0>(q=v.Md)?0:100<q?255:255*q/100)){for(W=at=0;4>W;++W)12>(At=C.pb[W]).lc&&(At.ia=q*hy[0>At.lc?0:At.lc]>>3),at|=At.ia;at&&(alert("todo:VP8InitRandom"),C.ia=1)}C.Ga=v.Id,100<C.Ga?C.Ga=100:0>C.Ga&&(C.Ga=0)}Ca(l,w)||(f=l.a)}}else f=l.a}f==0&&F.Oa!=null&&F.Oa.fd&&(f=Kl(F.ba))}F=f}D=F!=0?null:11>D?B.f.RGBA.eb:B.f.kb.y}else D=null;return D};var w1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(b,I){for(var U="",x=0;x<4;x++)U+=String.fromCharCode(b[I++]);return U}function d(b,I){return(b[I+0]<<0|b[I+1]<<8|b[I+2]<<16)>>>0}function g(b,I){return(b[I+0]<<0|b[I+1]<<8|b[I+2]<<16|b[I+3]<<24)>>>0}new u;var _=[0],m=[0],N=[],T=new u,M=e,P=function(b,I){var U={},x=0,S=!1,A=0,Q=0;if(U.frames=[],!function(H,J,st,tt){for(var G=0;G<tt;G++)if(H[J+G]!=st.charCodeAt(G))return!0;return!1}(b,I,"RIFF",4)){for(g(b,I+=4),I+=8;I<b.length;){var mt=h(b,I),et=g(b,I+=4);I+=4;var dt=et+(1&et);switch(mt){case"VP8 ":case"VP8L":U.frames[x]===void 0&&(U.frames[x]={}),(Pt=U.frames[x]).src_off=S?Q:I-8,Pt.src_size=A+et+8,x++,S&&(S=!1,A=0,Q=0);break;case"VP8X":(Pt=U.header={}).feature_flags=b[I];var ut=I+4;Pt.canvas_width=1+d(b,ut),ut+=3,Pt.canvas_height=1+d(b,ut),ut+=3;break;case"ALPH":S=!0,A=dt+8,Q=I-8;break;case"ANIM":(Pt=U.header).bgcolor=g(b,I),ut=I+4,Pt.loop_count=($t=b)[(R=ut)+0]<<0|$t[R+1]<<8,ut+=2;break;case"ANMF":var xt,Pt;(Pt=U.frames[x]={}).offset_x=2*d(b,I),I+=3,Pt.offset_y=2*d(b,I),I+=3,Pt.width=1+d(b,I),I+=3,Pt.height=1+d(b,I),I+=3,Pt.duration=d(b,I),I+=3,xt=b[I++],Pt.dispose=1&xt,Pt.blend=xt>>1&1}mt!="ANMF"&&(I+=dt)}var $t,R;return U}}(M,0);P.response=M,P.rgbaoutput=!0,P.dataurl=!1;var k=P.header?P.header:null,K=P.frames?P.frames:null;if(k){k.loop_counter=k.loop_count,_=[k.canvas_height],m=[k.canvas_width];for(var Z=0;Z<K.length&&K[Z].blend!=0;Z++);}var yt=K[0],Tt=T.WebPDecodeRGBA(M,yt.src_off,yt.src_size,m,_);yt.rgba=Tt,yt.imgwidth=m[0],yt.imgheight=_[0];for(var O=0;O<m[0]*_[0]*4;O++)N[O]=Tt[O];return this.width=m,this.height=_,this.data=N,this}(function(e){var t=function(){return typeof Xd=="function"},n=function(_,m,N,T){var M=4,P=o;switch(T){case e.image_compression.FAST:M=1,P=s;break;case e.image_compression.MEDIUM:M=6,P=a;break;case e.image_compression.SLOW:M=9,P=u}_=r(_,m,N,P);var k=Xd(_,{level:M});return e.__addimage__.arrayBufferToBinaryString(k)},r=function(_,m,N,T){for(var M,P,k,K=_.length/m,Z=new Uint8Array(_.length+K),yt=d(),Tt=0;Tt<K;Tt+=1){if(k=Tt*m,M=_.subarray(k,k+m),T)Z.set(T(M,N,P),k+Tt);else{for(var O,b=yt.length,I=[];O<b;O+=1)I[O]=yt[O](M,N,P);var U=g(I.concat());Z.set(I[U],k+Tt)}P=M}return Z},i=function(_){var m=Array.apply([],_);return m.unshift(0),m},s=function(_,m){var N,T=[],M=_.length;T[0]=1;for(var P=0;P<M;P+=1)N=_[P-m]||0,T[P+1]=_[P]-N+256&255;return T},o=function(_,m,N){var T,M=[],P=_.length;M[0]=2;for(var k=0;k<P;k+=1)T=N&&N[k]||0,M[k+1]=_[k]-T+256&255;return M},a=function(_,m,N){var T,M,P=[],k=_.length;P[0]=3;for(var K=0;K<k;K+=1)T=_[K-m]||0,M=N&&N[K]||0,P[K+1]=_[K]+256-(T+M>>>1)&255;return P},u=function(_,m,N){var T,M,P,k,K=[],Z=_.length;K[0]=4;for(var yt=0;yt<Z;yt+=1)T=_[yt-m]||0,M=N&&N[yt]||0,P=N&&N[yt-m]||0,k=h(T,M,P),K[yt+1]=_[yt]-k+256&255;return K},h=function(_,m,N){if(_===m&&m===N)return _;var T=Math.abs(m-N),M=Math.abs(_-N),P=Math.abs(_+m-N-N);return T<=M&&T<=P?_:M<=P?m:N},d=function(){return[i,s,o,a,u]},g=function(_){var m=_.map(function(N){return N.reduce(function(T,M){return T+Math.abs(M)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(_,m,N,T){var M,P,k,K,Z,yt,Tt,O,b,I,U,x,S,A,Q,mt=this.decode.FLATE_DECODE,et="";if(this.__addimage__.isArrayBuffer(_)&&(_=new Uint8Array(_)),this.__addimage__.isArrayBufferView(_)){if(_=(k=new _x(_)).imgData,P=k.bits,M=k.colorSpace,Z=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){b=(O=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,U=new Uint8Array(b*k.colors),I=new Uint8Array(b);var dt,ut=k.pixelBitlength-k.bits;for(A=0,Q=0;A<b;A++){for(S=O[A],dt=0;dt<ut;)U[Q++]=S>>>dt&255,dt+=k.bits;I[A]=S>>>dt&255}}if(k.bits===16){b=(O=new Uint32Array(k.decodePixels().buffer)).length,U=new Uint8Array(b*(32/k.pixelBitlength)*k.colors),I=new Uint8Array(b*(32/k.pixelBitlength)),x=k.colors>1,A=0,Q=0;for(var xt=0;A<b;)S=O[A++],U[Q++]=S>>>0&255,x&&(U[Q++]=S>>>16&255,S=O[A++],U[Q++]=S>>>0&255),I[xt++]=S>>>16&255;P=8}T!==e.image_compression.NONE&&t()?(_=n(U,k.width*k.colors,k.colors,T),Tt=n(I,k.width,1,T)):(_=U,Tt=I,mt=void 0)}if(k.colorType===3&&(M=this.color_spaces.INDEXED,yt=k.palette,k.transparency.indexed)){var Pt=k.transparency.indexed,$t=0;for(A=0,b=Pt.length;A<b;++A)$t+=Pt[A];if(($t/=255)===b-1&&Pt.indexOf(0)!==-1)K=[Pt.indexOf(0)];else if($t!==b){for(O=k.decodePixels(),I=new Uint8Array(O.length),A=0,b=O.length;A<b;A++)I[A]=Pt[O[A]];Tt=n(I,k.width,1)}}var R=function(H){var J;switch(H){case e.image_compression.FAST:J=11;break;case e.image_compression.MEDIUM:J=13;break;case e.image_compression.SLOW:J=14;break;default:J=12}return J}(T);return mt===this.decode.FLATE_DECODE&&(et="/Predictor "+R+" "),et+="/Colors "+Z+" /BitsPerComponent "+P+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),(Tt&&this.__addimage__.isArrayBuffer(Tt)||this.__addimage__.isArrayBufferView(Tt))&&(Tt=this.__addimage__.arrayBufferToBinaryString(Tt)),{alias:N,data:_,index:m,filter:mt,decodeParameters:et,transparency:K,palette:yt,sMask:Tt,predictor:R,width:k.width,height:k.height,bitsPerComponent:P,colorSpace:M}}}})(ue.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new bx(t),o=s.width,a=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:o,height:a},d=new ad(100).encode(h,100);return e.processJPEG.call(this,d,n,r,i)},e.processGIF87A=e.processGIF89A}(ue.API),Si.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Si.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){tn.log("bit decode error:"+n)}},Si.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var u=this.palette[s>>7-a&1];this.data[o+4*a]=u.blue,this.data[o+4*a+1]=u.green,this.data[o+4*a+2]=u.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Si.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,u=15&s,h=this.palette[a];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[u],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Si.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Si.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,h=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=u,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=h}this.pos+=e}},Si.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,u=(o>>5&n)/n*255|0,h=(o>>11)/t*255|0,d=i*this.width*4+4*s;this.data[d]=h,this.data[d+1]=u,this.data[d+2]=a,this.data[d+3]=255}this.pos+=e}},Si.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Si.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Si.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Si(t,!1),o=s.width,a=s.height,u={data:s.getData(),width:o,height:a},h=new ad(100).encode(u,100);return e.processJPEG.call(this,h,n,r,i)}}(ue.API),a2.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new a2(t),o=s.width,a=s.height,u={data:s.getData(),width:o,height:a},h=new ad(100).encode(u,100);return e.processJPEG.call(this,h,n,r,i)}}(ue.API),ue.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,u=0,h=0;h<i;h+=4){var d=r[h],g=r[h+1],_=r[h+2],m=r[h+3];s[a++]=d,s[a++]=g,s[a++]=_,o[u++]=m}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ue.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Za=ue.API,Vc=Za.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,u=a.fof?a.fof:1,h=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,g=t.doKerning!==!1,_=0,m=e.length,N=0,T=a[0]||u,M=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?M.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(_=g&&Qe(h[r])==="object"&&!isNaN(parseInt(h[r][N],10))?h[r][N]/d:0,M.push((a[r]||T)/u+_)),N=r;return M},r2=Za.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Za.processArabic&&(e=Za.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Vc.apply(this,arguments).reduce(function(s,o){return s+o},0)},i2=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var u=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(u,s)),a=0,u=s),a+=t[s],s++;return u!==s&&i.push(e.slice(u,s)),i},s2=function(e,t,n){n||(n={});var r,i,s,o,a,u,h,d=[],g=[d],_=n.textIndent||0,m=0,N=0,T=e.split(" "),M=Vc.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?T[0].length+2:n.lineIndent||0){var P=Array(u).join(" "),k=[];T.map(function(Z){(Z=Z.split(/\s*\n/)).length>1?k=k.concat(Z.map(function(yt,Tt){return(Tt&&yt.length?`
`:"")+yt})):k.push(Z[0])}),T=k,u=r2.apply(this,[P,n])}for(s=0,o=T.length;s<o;s++){var K=0;if(r=T[s],u&&r[0]==`
`&&(r=r.substr(1),K=1),_+m+(N=(i=Vc.apply(this,[r,n])).reduce(function(Z,yt){return Z+yt},0))>t||K){if(N>t){for(a=i2.apply(this,[r,i,t-(_+m),t]),d.push(a.shift()),d=[a.pop()];a.length;)g.push([a.shift()]);N=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(Z,yt){return Z+yt},0)}else d=[r];g.push(d),_=N+u,m=M}else d.push(r),_+=m+N,m=M}return h=u?function(Z,yt){return(yt?P:"")+Z.join(" ")}:function(Z){return Z.join(" ")},g.map(h)},Za.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,u,h=[];for(a=0,u=r.length;a<u;a++)h=h.concat(s2.apply(this,[r[a],o,s]));return h},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var _,m,N,T,M=["{"];for(var P in g){if(_=g[P],isNaN(parseInt(P,10))?m="'"+P+"'":(P=parseInt(P,10),m=(m=s(P).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof _=="number")_<0?(N=s(_).slice(3),T="-"):(N=s(_).slice(2),T=""),N=T+N.slice(0,-1)+r[N.slice(-1)];else{if(Qe(_)!=="object")throw new Error("Don't know what to do with value type "+Qe(_)+".");N=o(_)}M.push(m+N)}return M.push("}"),M.join("")},a=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,m,N,T,M={},P=1,k=M,K=[],Z="",yt="",Tt=g.length-1,O=1;O<Tt;O+=1)(T=g[O])=="'"?_?(N=_.join(""),_=void 0):_=[]:_?_.push(T):T=="{"?(K.push([k,N]),k={},N=void 0):T=="}"?((m=K.pop())[0][m[1]]=k,N=void 0,k=m[0]):T=="-"?P=-1:N===void 0?n.hasOwnProperty(T)?(Z+=n[T],N=parseInt(Z,16)*P,P=1,Z=""):Z+=T:n.hasOwnProperty(T)?(yt+=n[T],k[N]=parseInt(yt,16)*P,P=1,N=void 0,yt=""):yt+=T;return M},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var _=g.font,m=d.Unicode[_.postScriptName];m&&(_.metadata.Unicode={},_.metadata.Unicode.widths=m.widths,_.metadata.Unicode.kerning=m.kerning);var N=h.Unicode[_.postScriptName];N&&(_.metadata.Unicode.encoding=N,_.encoding=N.codePages[0])}])}(ue.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Ru(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ue),function(e){function t(){return(ce.canvg?Promise.resolve(ce.canvg):Gd(()=>import("./index.es-Bw0KUjJw.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ue.API.addSvgAsImage=function(n,r,i,s,o,a,u,h){if(isNaN(r)||isNaN(i))throw tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var g=d.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,d.width,d.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(N){return N.fromString(g,n,_)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(_)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),r,i,s,o,u,h)})}}(),ue.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},ue.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),u=[],h=0,d=0,g=0;function _(N,T){var M,P=!1;for(M=0;M<N.length;M+=1)N[M]===T&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=a.length;for(g=0;g<m;g+=1)n[a[g]].value=n[a[g]].defaultValue,n[a[g]].explicitSet=!1}if(Qe(e)==="object"){for(i in e)if(s=e[i],_(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&_(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")u.push(String(s[h]-1));else if(s[h].length>1){for(d=0;d<s[h].length;d+=1)typeof s[h][d]!="number"&&(r=!1);r===!0&&u.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,T=[];for(N in n)n[N].explicitSet===!0&&(n[N].type==="name"?T.push("/"+N+" /"+n[N].value):T.push("/"+N+" "+n[N].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+a.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ue.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,u=o.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],g=0,_=s.length;g<_;++g){if(a=o.metadata.characterToGlyph(s.charCodeAt(g)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(g),u.indexOf(a)==-1&&(u.push(a),u.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(h[4-a.length],a)}return d.join("")},r=function(s){var o,a,u,h,d,g,_;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,_=(a=Object.keys(s).sort(function(m,N){return m-N})).length;g<_;g++)o=a[g],u.length>=100&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+h+">"));return u.length&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,u=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var g=a.metadata.Unicode.widths,_=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",N=0;N<_.length;N++)m+=String.fromCharCode(_[N]);var T=h();d({data:m,addLength1:!0,objectId:T}),u("endobj");var M=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:M}),u("endobj");var P=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+al(a.fontName)),u("/FontFile2 "+T+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),u("/Flags "+a.metadata.flags),u("/StemV "+a.metadata.stemV),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u(">>"),u("endobj");var k=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+al(a.fontName)),u("/FontDescriptor "+P+" 0 R"),u("/W "+e.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+a.encoding+")"),u(">>"),u(">>"),u("endobj"),a.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+M+" 0 R"),u("/BaseFont /"+al(a.fontName)),u("/Encoding /"+a.encoding),u("/DescendantFonts ["+k+" 0 R]"),u(">>"),u("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,u=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var g=a.metadata.rawData,_="",m=0;m<g.length;m++)_+=String.fromCharCode(g[m]);var N=h();d({data:_,addLength1:!0,objectId:N}),u("endobj");var T=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:T}),u("endobj");var M=h();u("<<"),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u("/StemV "+a.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+N+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),u("/FontName /"+al(a.fontName)),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u(">>"),u("endobj"),a.objectNumber=h();for(var P=0;P<a.metadata.hmtx.widths.length;P++)a.metadata.hmtx.widths[P]=parseInt(a.metadata.hmtx.widths[P]*(1e3/a.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+al(a.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),u("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",u=s.x,h=s.y,d=s.options||{},g=s.mutex||{},_=g.pdfEscape,m=g.activeFontKey,N=g.fonts,T=m,M="",P=0,k="",K=N[T].encoding;if(N[T].encoding!=="Identity-H")return{text:a,x:u,y:h,options:d,mutex:g};for(k=a,T=m,Array.isArray(a)&&(k=a[0]),P=0;P<k.length;P+=1)N[T].metadata.hasOwnProperty("cmap")&&(o=N[T].metadata.cmap.unicode.codeMap[k[P].charCodeAt(0)]),o||k[P].charCodeAt(0)<256&&N[T].metadata.hasOwnProperty("Unicode")?M+=k[P]:M+="";var Z="";return parseInt(T.slice(1))<14||K==="WinAnsiEncoding"?Z=_(M,T).split("").map(function(yt){return yt.charCodeAt(0).toString(16)}).join(""):K==="Identity-H"&&(Z=n(M,N[T])),g.isHex=!0,{text:Z,x:u,y:h,options:d,mutex:g}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?a.push([i(Object.assign({},u,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(i(Object.assign({},u,{text:o[h]})).text);s.text=a}else s.text=i(Object.assign({},u,{text:o})).text}])}(ue),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ue.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,u,h,d,g=t,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,K=0;this.__bidiEngine__={};var Z=function(x){var S=x.charCodeAt(),A=S>>8,Q=T[A];return Q!==void 0?g[256*Q+(255&S)]:A===252||A===253?"AL":P.test(A)?"L":A===8?"R":"N"},yt=function(x){for(var S,A=0;A<x.length;A++){if((S=Z(x.charAt(A)))==="L")return!1;if(S==="R")return!0}return!1},Tt=function(x,S,A,Q){var mt,et,dt,ut,xt=S[Q];switch(xt){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(xt="AN");break;case"AL":k=!0,xt="R";break;case"WS":xt="N";break;case"CS":Q<1||Q+1>=S.length||(mt=A[Q-1])!=="EN"&&mt!=="AN"||(et=S[Q+1])!=="EN"&&et!=="AN"?xt="N":k&&(et="AN"),xt=et===mt?et:"N";break;case"ES":xt=(mt=Q>0?A[Q-1]:"B")==="EN"&&Q+1<S.length&&S[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&A[Q-1]==="EN"){xt="EN";break}if(k){xt="N";break}for(dt=Q+1,ut=S.length;dt<ut&&S[dt]==="ET";)dt++;xt=dt<ut&&S[dt]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ut=S.length,dt=Q+1;dt<ut&&S[dt]==="NSM";)dt++;if(dt<ut){var Pt=x[Q],$t=Pt>=1425&&Pt<=2303||Pt===64286;if(mt=S[dt],$t&&(mt==="R"||mt==="AL")){xt="R";break}}}xt=Q<1||(mt=S[Q-1])==="B"?"N":A[Q-1];break;case"B":k=!1,i=!0,xt=K;break;case"S":s=!0,xt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":xt="N"}return xt},O=function(x,S,A){var Q=x.split("");return A&&b(Q,A,{hiLevel:K}),Q.reverse(),S&&S.reverse(),Q.join("")},b=function(x,S,A){var Q,mt,et,dt,ut,xt=-1,Pt=x.length,$t=0,R=[],H=K?m:_,J=[];for(k=!1,i=!1,s=!1,mt=0;mt<Pt;mt++)J[mt]=Z(x[mt]);for(et=0;et<Pt;et++){if(ut=$t,R[et]=Tt(x,J,R,et),Q=240&($t=H[ut][N[R[et]]]),$t&=15,S[et]=dt=H[$t][5],Q>0)if(Q===16){for(mt=xt;mt<et;mt++)S[mt]=1;xt=-1}else xt=-1;if(H[$t][6])xt===-1&&(xt=et);else if(xt>-1){for(mt=xt;mt<et;mt++)S[mt]=dt;xt=-1}J[et]==="B"&&(S[et]=0),A.hiLevel|=dt}s&&function(st,tt,G){for(var rt=0;rt<G;rt++)if(st[rt]==="S"){tt[rt]=K;for(var nt=rt-1;nt>=0&&st[nt]==="WS";nt--)tt[nt]=K}}(J,S,Pt)},I=function(x,S,A,Q,mt){if(!(mt.hiLevel<x)){if(x===1&&K===1&&!i)return S.reverse(),void(A&&A.reverse());for(var et,dt,ut,xt,Pt=S.length,$t=0;$t<Pt;){if(Q[$t]>=x){for(ut=$t+1;ut<Pt&&Q[ut]>=x;)ut++;for(xt=$t,dt=ut-1;xt<dt;xt++,dt--)et=S[xt],S[xt]=S[dt],S[dt]=et,A&&(et=A[xt],A[xt]=A[dt],A[dt]=et);$t=ut}$t++}}},U=function(x,S,A){var Q=x.split(""),mt={hiLevel:K};return A||(A=[]),b(Q,A,mt),function(et,dt,ut){if(ut.hiLevel!==0&&d)for(var xt,Pt=0;Pt<et.length;Pt++)dt[Pt]===1&&(xt=M.indexOf(et[Pt]))>=0&&(et[Pt]=M[xt+1])}(Q,A,mt),I(2,Q,S,A,mt),I(1,Q,S,A,mt),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(x,S,A){if(function(mt,et){if(et)for(var dt=0;dt<mt.length;dt++)et[dt]=dt;a===void 0&&(a=yt(mt)),h===void 0&&(h=yt(mt))}(x,S),o||!u||h)if(o&&u&&a^h)K=a?1:0,x=O(x,S,A);else if(!o&&u&&h)K=a?1:0,x=U(x,S,A),x=O(x,S);else if(!o||a||u||h){if(o&&!u&&a^h)x=O(x,S),a?(K=0,x=U(x,S,A)):(K=1,x=U(x,S,A),x=O(x,S));else if(o&&a&&!u&&h)K=1,x=U(x,S,A),x=O(x,S);else if(!o&&!u&&a^h){var Q=d;a?(K=1,x=U(x,S,A),K=0,d=!1,x=U(x,S,A),d=Q):(K=0,x=U(x,S,A),x=O(x,S),K=1,d=!1,x=U(x,S,A),d=Q,x=O(x,S))}}else K=0,x=U(x,S,A);else K=a?1:0,x=U(x,S,A);return x},this.__bidiEngine__.setOptions=function(x){x&&(o=x.isInputVisual,u=x.isOutputVisual,a=x.isInputRtl,h=x.isOutputRtl,d=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ue),ue.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Vo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Ox(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new wx(this.contents),this.head=new Ex(this),this.name=new Px(this),this.cmap=new Vv(this),this.toUnicode={},this.hhea=new Sx(this),this.maxp=new Nx(this),this.hmtx=new Lx(this),this.post=new Ix(this),this.os2=new xx(this),this.loca=new Dx(this),this.glyf=new Cx(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,u,h;for(h=[],o=0,a=(u=this.bbox).length;o<a;o++)t=u[o],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Li,Vo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,u;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^u)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+u},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),wx=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,u,h,d,g,_,m,N,T;for(T in m=Object.keys(n).length,u=Math.log(2),g=16*Math.floor(Math.log(m)/u),o=Math.floor(g/u),d=16*m-g,(i=new Vo).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(o),i.writeShort(d),s=16*m,h=i.pos+s,a=null,N=[],n)for(_=n[T],i.writeString(T),i.writeInt(e(_)),i.writeInt(h),i.writeInt(_.length),N=N.concat(_),T==="head"&&(a=h),h+=_.length;h%4;)N.push(0),h++;return i.write(N),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=jv.call(n);n.length%4;)n.push(0);for(s=new Vo(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),Ax={}.hasOwnProperty,os=function(e,t){for(var n in t)Ax.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Li=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Ex=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Vo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),l2=function(){function e(t,n){var r,i,s,o,a,u,h,d,g,_,m,N,T,M,P,k,K;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(m=t.readUInt16(),_=m/2,t.pos+=6,s=function(){var Z,yt;for(yt=[],u=Z=0;0<=_?Z<_:Z>_;u=0<=_?++Z:--Z)yt.push(t.readUInt16());return yt}(),t.pos+=2,T=function(){var Z,yt;for(yt=[],u=Z=0;0<=_?Z<_:Z>_;u=0<=_?++Z:--Z)yt.push(t.readUInt16());return yt}(),h=function(){var Z,yt;for(yt=[],u=Z=0;0<=_?Z<_:Z>_;u=0<=_?++Z:--Z)yt.push(t.readUInt16());return yt}(),d=function(){var Z,yt;for(yt=[],u=Z=0;0<=_?Z<_:Z>_;u=0<=_?++Z:--Z)yt.push(t.readUInt16());return yt}(),i=(this.length-t.pos+this.offset)/2,a=function(){var Z,yt;for(yt=[],u=Z=0;0<=i?Z<i:Z>i;u=0<=i?++Z:--Z)yt.push(t.readUInt16());return yt}(),u=P=0,K=s.length;P<K;u=++P)for(M=s[u],r=k=N=T[u];N<=M?k<=M:k>=M;r=N<=M?++k:--k)d[u]===0?o=r+h[u]:(o=a[d[u]/2+(r-N)-(_-u)]||0)!==0&&(o+=h[u]),this.codeMap[r]=65535&o}t.pos=g}return e.encode=function(t,n){var r,i,s,o,a,u,h,d,g,_,m,N,T,M,P,k,K,Z,yt,Tt,O,b,I,U,x,S,A,Q,mt,et,dt,ut,xt,Pt,$t,R,H,J,st,tt,G,rt,nt,It,Nt,z;switch(Q=new Vo,o=Object.keys(t).sort(function($,it){return $-it}),n){case"macroman":for(T=0,M=function(){var $=[];for(N=0;N<256;++N)$.push(0);return $}(),k={0:0},s={},mt=0,xt=o.length;mt<xt;mt++)k[nt=t[i=o[mt]]]==null&&(k[nt]=++T),s[i]={old:t[i],new:k[t[i]]},M[i]=k[t[i]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(M),{charMap:s,subtable:Q.data,maxGlyphID:T+1};case"unicode":for(S=[],g=[],K=0,k={},r={},P=h=null,et=0,Pt=o.length;et<Pt;et++)k[yt=t[i=o[et]]]==null&&(k[yt]=++K),r[i]={old:yt,new:k[yt]},a=k[yt]-i,P!=null&&a===h||(P&&g.push(P),S.push(i),h=a),P=i;for(P&&g.push(P),g.push(65535),S.push(65535),U=2*(I=S.length),b=2*Math.pow(Math.log(I)/Math.LN2,2),_=Math.log(b/2)/Math.LN2,O=2*I-b,u=[],Tt=[],m=[],N=dt=0,$t=S.length;dt<$t;N=++dt){if(x=S[N],d=g[N],x===65535){u.push(0),Tt.push(0);break}if(x-(A=r[x].new)>=32768)for(u.push(0),Tt.push(2*(m.length+I-N)),i=ut=x;x<=d?ut<=d:ut>=d;i=x<=d?++ut:--ut)m.push(r[i].new);else u.push(A-x),Tt.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*I+2*m.length),Q.writeUInt16(0),Q.writeUInt16(U),Q.writeUInt16(b),Q.writeUInt16(_),Q.writeUInt16(O),G=0,R=g.length;G<R;G++)i=g[G],Q.writeUInt16(i);for(Q.writeUInt16(0),rt=0,H=S.length;rt<H;rt++)i=S[rt],Q.writeUInt16(i);for(It=0,J=u.length;It<J;It++)a=u[It],Q.writeUInt16(a);for(Nt=0,st=Tt.length;Nt<st;Nt++)Z=Tt[Nt],Q.writeUInt16(Z);for(z=0,tt=m.length;z<tt;z++)T=m[z],Q.writeUInt16(T);return{charMap:r,subtable:Q.data,maxGlyphID:K+1}}},e}(),Vv=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new l2(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=l2.encode(n,r),(s=new Vo).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),Sx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),xx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),Ix=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,u,h;for(h=[],o=a=0,u=this.file.maxp.numGlyphs;0<=u?a<u:a>u;o=0<=u?++a:--a)h.push(n.readUInt32());return h}).call(this)}},t}(),Tx=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Px=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,u,h,d,g,_,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),u=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(h={},o=g=0,_=i.length;g<_;o=++g)s=i[o],n.pos=s.offset,d=n.readString(s.length),a=new Tx(d,s),h[m=s.nameID]==null&&(h[m]=[]),h[s.nameID].push(a);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t}(),Nx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),Lx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,u,h;for(n.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,g;for(g=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)g.push(n.readInt16());return g}(),this.widths=(function(){var d,g,_,m;for(m=[],d=0,g=(_=this.metrics).length;d<g;d++)o=_[d],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],h=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)h.push(this.widths.push(i));return h},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),jv=[].slice,Cx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,u,h,d,g,_;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(u=new Vo(r.read(s))).readShort(),d=u.readShort(),_=u.readShort(),h=u.readShort(),g=u.readShort(),this.cache[n]=a===-1?new kx(u,d,_,h,g):new Rx(u,a,d,_,h,g),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,u,h;for(a=[],o=[],u=0,h=r.length;u<h;u++)s=n[r[u]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),Rx=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),kx=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Vo(jv.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Dx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var u=this.offsets[a],h=this.offsets[a+1]-u;h>0&&(s+=h)}for(var d=new Array(4*i.length),g=0;g<i.length;++g)d[4*g+3]=255&i[g],d[4*g+2]=(65280&i[g])>>8,d[4*g+1]=(16711680&i[g])>>16,d[4*g]=(4278190080&i[g])>>24;return d},t}(),Ox=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,u;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in u=this.glyphsFor(n))r=u[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,u,h,d,g,_,m,N,T,M,P;for(i in r=Vv.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},P=r.charMap)m[(u=P[i]).old]=u.new;for(N in _=r.maxGlyphID,o)N in m||(m[N]=_++);return d=function(k){var K,Z;for(K in Z={},k)Z[k[K]]=K;return Z}(m),g=Object.keys(d).sort(function(k,K){return k-K}),T=function(){var k,K,Z;for(Z=[],k=0,K=g.length;k<K;k++)a=g[k],Z.push(d[a]);return Z}(),s=this.font.glyf.encode(o,T,m),h=this.font.loca.encode(s.offsets,T),M={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},e}();ue.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,u,h;for(h=[],a=0,u=n.length;a<u;a++)r=n[a],h.push(t.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();const Fx={key:0,class:"modal-overlay"},Mx={class:"modal-content"},Vx={class:"container"},jx={class:"box"},Bx={id:"lista-clientes"},qx=["value"],Ux={id:"lista-productos"},zx=["value"],$x=["value"],Hx=["value"],Wx={class:"box2"},Gx={style:{"background-color":"transparent"}},Kx={border:"1",style:{"margin-top":"10px","text-align":"center"}},Qx={class:"border px-1 py-0"},Yx={class:"border px-1 py-0"},Jx={class:"border px-1 py-0"},Xx={class:"border px-1 py-0"},Zx={class:"border px-1 py-0"},tI={class:"border px-1 py-0"},eI={class:"border px-1 py-0"},nI={style:{border:"0px"}},rI={class:"p-4"},iI={class:"min-w-full table-auto border-collapse border border-gray-300"},sI={class:"border p-2"},oI={class:"border p-2"},aI={class:"border p-2"},lI={class:"border p-2"},uI={class:"border p-2 flex gap-2 justify-center"},cI=["onClick"],hI=["onClick"],fI={class:"mt-4 flex justify-center gap-1 flex-wrap"},dI=["disabled"],pI=["onClick"],gI=["disabled"],ld=20,mI={__name:"NotaPedido",setup(e){const t=Ve(!1),n=Ve(""),r=Ve(""),i=Ve(1),s=Ve(0),o=Ve(null),a=Ve(null),u=Ve([]),h=Ve([]),d=Ve([]),g=Ve([]),_=Ve([]),m=Ve([]),N=Tn(()=>_.value.reduce((S,A)=>S+A.precio*(A.modo===1?A.peso:A.cantidad)*(1-(A.descuento||0)/100),0)),T=Ve(1),M=Tn(()=>Math.ceil(m.value.length/ld));Tn(()=>{const S=(T.value-1)*ld;return m.value.slice(S,S+ld)});const P=Tn(()=>{const A=M.value;let Q=1,mt=A;A>20&&(Q=Math.max(T.value-Math.floor(20/2),1),mt=Q+20-1,mt>A&&(mt=A,Q=mt-20+1));const et=[];for(let dt=Q;dt<=mt;dt++)et.push(dt);return et});Bh(async()=>{const S=await Ns(Kr(dn,"clientes"));u.value=S.docs.map(mt=>({id:mt.id,...mt.data()})),h.value=u.value;const A=await Ns(Kr(dn,"productos"));d.value=A.docs.map(mt=>({id:mt.id,...mt.data()})),g.value=d.value;const Q=await Ns(Kr(dn,"nota","realizadas","notas"));m.value=Q.docs.map(mt=>{var dt;const et=mt.data();return{id:mt.id,cliente:((dt=et.cliente)==null?void 0:dt.nombre)||"CONSUMIDOR FINAL",total:et.total||0,fecha:et.fecha||null}})});function k(){const S=n.value.toLowerCase();h.value=u.value.filter(A=>A.nombre.toLowerCase().includes(S)||A.identificador.toLowerCase().includes(S))}function K(){const S=r.value.toLowerCase();g.value=d.value.filter(A=>A.descripcion.toLowerCase().includes(S)||A.codigo.toLowerCase().includes(S))}async function Z(){if(a.value){_.value.push({id:a.value.id,codigo:a.value.codigo,descripcion:a.value.descripcion,cantidad:i.value,peso:s.value,modo:a.value.modo,descuento:a.value.descuento,precio:a.value.precioUnitario,existencias:a.value.existencias});try{const S={codigo:a.value.codigo,descripcion:a.value.descripcion,cantidad:i.value,peso:s.value,precio:a.value.precioUnitario,descuento:a.value.descuento,total:(a.value.precioUnitario*(a.value.modo===1?s.value:i.value)*(1-(a.value.descuento||0)/100)).toFixed(2)},A=await Th(Kr(dn,"nota","auxiliar","productos"),S);console.log("Producto agregado a Firebase:",A.id)}catch(S){console.error("Error al agregar producto a Firebase:",S)}i.value=1,s.value=0,a.value=null,r.value=""}}function yt(){const S=r.value,A=d.value.find(Q=>`${Q.codigo} - ${Q.descripcion}`===S);a.value=A||null}function Tt(){const S=n.value,A=u.value.find(Q=>`${Q.identificador} - ${Q.nombre}`===S);o.value=A||null}async function O(){try{const S=await Ns(Kr(dn,"nota","auxiliar","productos"));for(const Q of S.docs)await Ao(Q.ref),console.log(`Producto eliminado de Firebase: ${Q.id}`);const A=await Ns(Kr(dn,"nota","auxiliar","clientes"));for(const Q of A.docs)await Ao(Q.ref),console.log(`Cliente eliminado de Firebase: ${Q.id}`);_.value=[],n.value="",r.value="",o.value=null,console.log("Colecciones auxiliares vaciadas correctamente.")}catch(S){console.error("Error al vaciar la colección auxiliar:",S)}}function b(){const S=new Date,A=new Date(S.getTime()-3*60*60*1e3),Q=A.getFullYear(),mt=String(A.getMonth()+1).padStart(2,"0");return`${String(A.getDate()).padStart(2,"0")}/${mt}/${Q}`}const I=async()=>{try{if(!o.value||_.value.length===0){alert("Faltan datos: cliente o productos.");return}const S=b();for(const Q of _.value){if(!Q.id){console.alert(`El producto "${Q.descripcion}" no tiene ID válido.`);return}const mt=Qr(dn,"productos",Q.id),et=await cu(mt);if(!et.exists()){console.alert(`Producto no encontrado: ${Q.descripcion}`);return}const dt=et.data().existencias||0;if(dt<Q.cantidad){console.alert(`Stock insuficiente para "${Q.descripcion}". Actual: ${dt}, requerido: ${Q.cantidad}`);return}}const A={cliente:o.value,productos:_.value,total:N.value,fecha:S};await Th(Kr(dn,"nota","realizadas","notas"),A);for(const Q of _.value){const mt=Qr(dn,"productos",Q.id),et=await cu(mt);if(et.exists()){const dt=et.data().existencias||0,ut=Math.max(dt-Q.cantidad,0);await wl(mt,{existencias:ut})}}o.value.id&&await Ao(Qr(dn,"nota","auxiliar","clientes",o.value.id)),O(),o.value=null,_.value=[],N.value=0,console.log("Nota generada con éxito."),t.value=!1}catch(S){console.error("Error al generar la nota:",S)}};async function U(S){if(confirm("¿Estás seguro de que deseas eliminar esta nota de pedido?"))try{const A=Qr(dn,"nota","realizadas","notas",S),Q=await cu(A);if(!Q.exists()){alert("Nota no encontrada.");return}const et=Q.data().productos||[];for(const xt of et){if(!xt.id)continue;const Pt=Qr(dn,"productos",xt.id),$t=await cu(Pt);if($t.exists()){const H=($t.data().existencias||0)+xt.cantidad;await wl(Pt,{existencias:H})}}const dt=await Ns(Kr(A,"productos"));for(const xt of dt.docs)await Ao(xt.ref);const ut=await Ns(Kr(A,"clientes"));for(const xt of ut.docs)await Ao(xt.ref);await Ao(A),m.value=m.value.filter(xt=>xt.id!==S),console.log(`Nota realizada ${S} eliminada correctamente y stock devuelto.`)}catch(A){console.error("Error al eliminar la nota realizada:",A)}}async function x(S){var A,Q,mt,et,dt,ut,xt,Pt,$t;try{const R=Qr(dn,"nota","realizadas","notas",S),H=await cu(R);if(!H.exists()){console.error("Nota no encontrada");return}const J=H.data(),st=J.productos,tt=new ue,G=new Image;G.src="./src/images/imagen.jpg",G.crossOrigin="Anonymous",tt.addImage(G,"JPEG",115,2,50,50),tt.setFont("courier","bold"),tt.setFontSize(10);const rt=20,nt=rt+60;tt.text("NOTA de PEDIDO",10,10),tt.setFont("courier","normal"),tt.text(S,160,10),tt.text(J.fecha,160,14),tt.text(`${((A=J.cliente)==null?void 0:A.nombre)+"("+((Q=J.cliente)==null?void 0:Q.identificador)+")"||"CONSUMIDOR FINAL"}`,rt,18),tt.text(((mt=J.cliente)==null?void 0:mt.direccion)||"",rt,22),tt.text(`${(et=J.cliente)==null?void 0:et.codigoPostal}-${(dt=J.cliente)==null?void 0:dt.localidad}`,rt,26),tt.text(((ut=J.cliente)==null?void 0:ut.provincia)||"",nt,26),tt.text(`Cta. Cte. Vto.: ${(xt=J.cliente)==null?void 0:xt.cuentaCorriente}`,rt,30),tt.text(`Tel:${(Pt=J.cliente)==null?void 0:Pt.telefono}`||"Tel:",nt,30),tt.text("Monotributo",rt,38),tt.text((($t=J.cliente)==null?void 0:$t.cuit)||"",nt,38);let Nt=42+6,z=0,$=0;st.forEach(bt=>{tt.text(bt.codigo||"",23,Nt,{align:"right"}),tt.text(bt.descripcion||"",30,Nt),tt.text(String(bt.cantidad||""),112,Nt,{align:"right"}),tt.text(String(bt.peso.toFixed(2)||""),136,Nt,{align:"right"}),tt.text(`${Number(bt.precio).toFixed(2)}`,160,Nt,{align:"right"}),tt.text(`${bt.descuento.toFixed(2)||"0.00"}`,177,Nt,{align:"right"});let Lt=bt.precio*(bt.modo===1?bt.peso:bt.cantidad);z=z+Lt,$=$+bt.peso,tt.text(`${Number(Lt).toFixed(2)}`,201,Nt,{align:"right"}),Nt+=4}),Nt=130,tt.text("Total Kg.:",112,Nt,{align:"right"}),tt.text(Number($).toFixed(2),136,Nt,{align:"right"}),Nt+=4,tt.text(`TOTAL Sin Dto.: $${Number(z).toFixed(2)}`,20,Nt);let it=Math.abs(z-J.total),X=(z+J.total)/2,j=it/X*100;tt.text(`${Number(j).toFixed(2)}%`,80,Nt),tt.text("TOTAL:",136,Nt,{align:"right"}),tt.text(`$${Number(J.total).toFixed(2)}`,201,Nt,{align:"right"}),tt.save(`nota_${S}.pdf`)}catch(R){console.error("Error al imprimir nota:",R)}}return(S,A)=>{var Q,mt;return Le(),Je(Mn,null,[ct("div",null,[ct("button",{onClick:A[0]||(A[0]=et=>t.value=!0)},"Nueva Nota"),(Le(),ll(du,{to:"body"},[t.value?(Le(),Je("div",Fx,[ct("div",Mx,[ct("div",Vx,[ct("div",jx,[ct("button",{class:"close-btn",onClick:A[1]||(A[1]=et=>{O(),t.value=!1})},"X"),ct("div",null,[A[9]||(A[9]=ct("label",{for:"cliente"},"Cliente",-1)),A[10]||(A[10]=ct("br",null,null,-1)),Oe(ct("input",{id:"cliente","onUpdate:modelValue":A[2]||(A[2]=et=>n.value=et),onInput:k,onChange:Tt,list:"lista-clientes",placeholder:"Buscar cliente..."},null,544),[[Me,n.value]]),ct("datalist",Bx,[A[8]||(A[8]=ct("option",{value:"CONSUMIDOR FINAL"},"CONSUMIDOR FINAL",-1)),(Le(!0),Je(Mn,null,Rs(h.value,et=>(Le(),Je("option",{key:et.id,value:et.identificador+" - "+et.nombre},null,8,qx))),128))])]),ct("div",null,[A[11]||(A[11]=ct("label",null,"Producto",-1)),A[12]||(A[12]=ct("br",null,null,-1)),Oe(ct("input",{"onUpdate:modelValue":A[3]||(A[3]=et=>r.value=et),onChange:yt,onInput:K,list:"lista-productos",placeholder:"Buscar producto por código o descripción"},null,544),[[Me,r.value]]),ct("datalist",Ux,[(Le(!0),Je(Mn,null,Rs(g.value,et=>(Le(),Je("option",{key:et.id,value:et.codigo+" - "+et.descripcion},null,8,zx))),128))])]),ct("div",null,[A[13]||(A[13]=ct("label",null,"Cantidad",-1)),A[14]||(A[14]=ct("br",null,null,-1)),Oe(ct("input",{"onUpdate:modelValue":A[4]||(A[4]=et=>i.value=et),type:"number"},null,512),[[Me,i.value,void 0,{number:!0}]]),A[15]||(A[15]=ct("br",null,null,-1)),A[16]||(A[16]=ct("label",null,"Peso",-1)),A[17]||(A[17]=ct("br",null,null,-1)),Oe(ct("input",{"onUpdate:modelValue":A[5]||(A[5]=et=>s.value=et),type:"number"},null,512),[[Me,s.value,void 0,{number:!0}]]),A[18]||(A[18]=ct("br",null,null,-1)),A[19]||(A[19]=ct("label",null,"Precio",-1)),A[20]||(A[20]=ct("br",null,null,-1)),ct("input",{value:((Q=a.value)==null?void 0:Q.precioUnitario)||"",disabled:""},null,8,$x),A[21]||(A[21]=ct("br",null,null,-1)),A[22]||(A[22]=ct("label",null,"Stock",-1)),A[23]||(A[23]=ct("br",null,null,-1)),ct("input",{value:((mt=a.value)==null?void 0:mt.existencias)||"",disabled:""},null,8,Hx),A[24]||(A[24]=ct("br",null,null,-1)),A[25]||(A[25]=ct("br",null,null,-1)),ct("button",{onClick:Z},"Agregar")])]),ct("div",Wx,[ct("div",Gx,[ct("table",Kx,[A[32]||(A[32]=ct("thead",null,[ct("tr",null,[ct("th",{class:"border px-4 py-2"},"Código"),ct("th",{class:"border px-4 py-2"},"Descripción"),ct("th",{class:"border px-4 py-2"},"Unidades"),ct("th",{class:"border px-4 py-2"},"Peso(KG)"),ct("th",{class:"border px-4 py-2"},"Precio($)"),ct("th",{class:"border px-4 py-2"},"Dto"),ct("th",{class:"border px-4 py-2"},"Total")])],-1)),ct("tbody",null,[(Le(!0),Je(Mn,null,Rs(_.value,(et,dt)=>(Le(),Je("tr",{key:dt},[ct("td",Qx,$e(et.codigo),1),ct("td",Yx,$e(et.descripcion),1),ct("td",Jx,$e(et.cantidad),1),ct("td",Xx,$e(et.peso),1),ct("td",Zx,$e(et.precio),1),ct("td",tI,$e(et.descuento)+"%",1),ct("td",eI,$e((et.precio*(et.modo===1?et.peso:et.cantidad)).toFixed(2)),1)]))),128)),ct("tr",nI,[A[26]||(A[26]=ct("td",null,null,-1)),A[27]||(A[27]=ct("td",null,null,-1)),A[28]||(A[28]=ct("td",null,null,-1)),A[29]||(A[29]=ct("td",null,null,-1)),A[30]||(A[30]=ct("td",null,null,-1)),A[31]||(A[31]=ct("td",null,"TOTAL",-1)),ct("td",null,"$"+$e(N.value.toFixed(2)),1)])])])])])]),ct("button",{onClick:I},"Generar")])])):ul("",!0)]))]),ct("div",rI,[ct("table",iI,[A[33]||(A[33]=ct("thead",null,[ct("tr",{class:"bg-gray-200"},[ct("th",{class:"border p-2"},"ID"),ct("th",{class:"border p-2"},"Fecha"),ct("th",{class:"border p-2"},"Cliente"),ct("th",{class:"border p-2"},"Monto Total"),ct("th",{class:"border p-2"},"Acción")])],-1)),ct("tbody",null,[(Le(!0),Je(Mn,null,Rs(m.value,et=>(Le(),Je("tr",{key:et.id,class:"hover:bg-gray-100"},[ct("td",sI,$e(et.id),1),ct("td",oI,$e(et.fecha),1),ct("td",aI,$e(et.cliente),1),ct("td",lI,"$ "+$e(et.total.toFixed(2)),1),ct("td",uI,[ct("button",{onClick:dt=>x(et.id),class:"bg-green-500 text-white px-3 py-1 rounded"},"Imprimir",8,cI),ct("button",{onClick:dt=>U(et.id),class:"bg-red-500 text-white px-3 py-1 rounded"},"Eliminar",8,hI)])]))),128))])])]),ct("div",fI,[ct("button",{disabled:T.value===1,onClick:A[6]||(A[6]=et=>T.value--),class:"px-3 py-1 border rounded disabled:opacity-50"}," < ",8,dI),(Le(!0),Je(Mn,null,Rs(P.value,et=>(Le(),Je("button",{key:et,onClick:dt=>T.value=et,class:Fl(["px-3 py-1 border rounded",{"bg-blue-500 text-white":T.value===et}])},$e(et),11,pI))),128)),ct("button",{disabled:T.value===M.value,onClick:A[7]||(A[7]=et=>T.value++),class:"px-3 py-1 border rounded disabled:opacity-50"}," > ",8,gI)])],64)}}},vI=[{path:"/",name:"Stock",component:uS},{path:"/clientes",name:"Clientes",component:FS},{path:"/nota-pedido",name:"NotaPedido",component:mI}],yI=Jw({history:Iw(),routes:vI}),Bv=zb(Qb);Bv.use(yI);Bv.mount("#app");export{Qe as _};
