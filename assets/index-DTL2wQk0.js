(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sp(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const en={},fl=[],Xi=()=>{},Sy=()=>!1,Lh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),op=e=>e.startsWith("onUpdate:"),vr=Object.assign,ap=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},xy=Object.prototype.hasOwnProperty,ze=(e,t)=>xy.call(e,t),de=Array.isArray,dl=e=>Qu(e)==="[object Map]",Ch=e=>Qu(e)==="[object Set]",M1=e=>Qu(e)==="[object Date]",be=e=>typeof e=="function",Pn=e=>typeof e=="string",ns=e=>typeof e=="symbol",an=e=>e!==null&&typeof e=="object",u2=e=>(an(e)||be(e))&&be(e.then)&&be(e.catch),c2=Object.prototype.toString,Qu=e=>c2.call(e),Iy=e=>Qu(e).slice(8,-1),h2=e=>Qu(e)==="[object Object]",lp=e=>Pn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_u=sp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ty=/-(\w)/g,hi=Rh(e=>e.replace(Ty,(t,n)=>n?n.toUpperCase():"")),Py=/\B([A-Z])/g,Ea=Rh(e=>e.replace(Py,"-$1").toLowerCase()),kh=Rh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lf=Rh(e=>e?`on${kh(e)}`:""),xo=(e,t)=>!Object.is(e,t),jc=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},f2=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},eh=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let V1;const Dh=()=>V1||(V1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function up(e){if(de(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Pn(r)?Ry(r):up(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(Pn(e)||an(e))return e}const Ny=/;(?![^(]*\))/g,Ly=/:([^]+)/,Cy=/\/\*[^]*?\*\//g;function Ry(e){const t={};return e.replace(Cy,"").split(Ny).forEach(n=>{if(n){const r=n.split(Ly);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ml(e){let t="";if(Pn(e))t=e;else if(de(e))for(let n=0;n<e.length;n++){const r=Ml(e[n]);r&&(t+=r+" ")}else if(an(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ky="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dy=sp(ky);function d2(e){return!!e||e===""}function Oy(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Oh(e[r],t[r]);return n}function Oh(e,t){if(e===t)return!0;let n=M1(e),r=M1(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ns(e),r=ns(t),n||r)return e===t;if(n=de(e),r=de(t),n||r)return n&&r?Oy(e,t):!1;if(n=an(e),r=an(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),u=t.hasOwnProperty(o);if(a&&!u||!a&&u||!Oh(e[o],t[o]))return!1}}return String(e)===String(t)}function Fy(e,t){return e.findIndex(n=>Oh(n,t))}const p2=e=>!!(e&&e.__v_isRef===!0),$e=e=>Pn(e)?e:e==null?"":de(e)||an(e)&&(e.toString===c2||!be(e.toString))?p2(e)?$e(e.value):JSON.stringify(e,g2,2):String(e),g2=(e,t)=>p2(t)?g2(e,t.value):dl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[Cf(r,s)+" =>"]=i,n),{})}:Ch(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Cf(n))}:ns(t)?Cf(t):an(t)&&!de(t)&&!h2(t)?String(t):t,Cf=(e,t="")=>{var n;return ns(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kr;class My{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Kr,!t&&Kr&&(this.index=(Kr.scopes||(Kr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Kr;try{return Kr=this,t()}finally{Kr=n}}}on(){Kr=this}off(){Kr=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Vy(){return Kr}let on;const Rf=new WeakSet;class m2{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Kr&&Kr.active&&Kr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rf.has(this)&&(Rf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||y2(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,j1(this),_2(this);const t=on,n=Ii;on=this,Ii=!0;try{return this.fn()}finally{b2(this),on=t,Ii=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)fp(t);this.deps=this.depsTail=void 0,j1(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ud(this)&&this.run()}get dirty(){return ud(this)}}let v2=0,bu,wu;function y2(e,t=!1){if(e.flags|=8,t){e.next=wu,wu=e;return}e.next=bu,bu=e}function cp(){v2++}function hp(){if(--v2>0)return;if(wu){let t=wu;for(wu=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;bu;){let t=bu;for(bu=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function _2(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function b2(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),fp(r),jy(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function ud(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(w2(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function w2(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ku))return;e.globalVersion=ku;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ud(e)){e.flags&=-3;return}const n=on,r=Ii;on=e,Ii=!0;try{_2(e);const i=e.fn(e._value);(t.version===0||xo(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{on=n,Ii=r,b2(e),e.flags&=-3}}function fp(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)fp(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function jy(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ii=!0;const A2=[];function jo(){A2.push(Ii),Ii=!1}function Bo(){const e=A2.pop();Ii=e===void 0?!0:e}function j1(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=on;on=void 0;try{t()}finally{on=n}}}let ku=0;class By{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dp{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!on||!Ii||on===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==on)n=this.activeLink=new By(on,this),on.deps?(n.prevDep=on.depsTail,on.depsTail.nextDep=n,on.depsTail=n):on.deps=on.depsTail=n,E2(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=on.depsTail,n.nextDep=void 0,on.depsTail.nextDep=n,on.depsTail=n,on.deps===n&&(on.deps=r)}return n}trigger(t){this.version++,ku++,this.notify(t)}notify(t){cp();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{hp()}}}function E2(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)E2(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const cd=new WeakMap,va=Symbol(""),hd=Symbol(""),Du=Symbol("");function hr(e,t,n){if(Ii&&on){let r=cd.get(e);r||cd.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new dp),i.map=r,i.key=n),i.track()}}function Ls(e,t,n,r,i,s){const o=cd.get(e);if(!o){ku++;return}const a=u=>{u&&u.trigger()};if(cp(),t==="clear")o.forEach(a);else{const u=de(e),h=u&&lp(n);if(u&&n==="length"){const d=Number(r);o.forEach((g,_)=>{(_==="length"||_===Du||!ns(_)&&_>=d)&&a(g)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),h&&a(o.get(Du)),t){case"add":u?h&&a(o.get("length")):(a(o.get(va)),dl(e)&&a(o.get(hd)));break;case"delete":u||(a(o.get(va)),dl(e)&&a(o.get(hd)));break;case"set":dl(e)&&a(o.get(va));break}}hp()}function Ja(e){const t=Ue(e);return t===e?t:(hr(t,"iterate",Du),ci(e)?t:t.map(fr))}function Fh(e){return hr(e=Ue(e),"iterate",Du),e}const qy={__proto__:null,[Symbol.iterator](){return kf(this,Symbol.iterator,fr)},concat(...e){return Ja(this).concat(...e.map(t=>de(t)?Ja(t):t))},entries(){return kf(this,"entries",e=>(e[1]=fr(e[1]),e))},every(e,t){return xs(this,"every",e,t,void 0,arguments)},filter(e,t){return xs(this,"filter",e,t,n=>n.map(fr),arguments)},find(e,t){return xs(this,"find",e,t,fr,arguments)},findIndex(e,t){return xs(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xs(this,"findLast",e,t,fr,arguments)},findLastIndex(e,t){return xs(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xs(this,"forEach",e,t,void 0,arguments)},includes(...e){return Df(this,"includes",e)},indexOf(...e){return Df(this,"indexOf",e)},join(e){return Ja(this).join(e)},lastIndexOf(...e){return Df(this,"lastIndexOf",e)},map(e,t){return xs(this,"map",e,t,void 0,arguments)},pop(){return lu(this,"pop")},push(...e){return lu(this,"push",e)},reduce(e,...t){return B1(this,"reduce",e,t)},reduceRight(e,...t){return B1(this,"reduceRight",e,t)},shift(){return lu(this,"shift")},some(e,t){return xs(this,"some",e,t,void 0,arguments)},splice(...e){return lu(this,"splice",e)},toReversed(){return Ja(this).toReversed()},toSorted(e){return Ja(this).toSorted(e)},toSpliced(...e){return Ja(this).toSpliced(...e)},unshift(...e){return lu(this,"unshift",e)},values(){return kf(this,"values",fr)}};function kf(e,t,n){const r=Fh(e),i=r[t]();return r!==e&&!ci(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const Uy=Array.prototype;function xs(e,t,n,r,i,s){const o=Fh(e),a=o!==e&&!ci(e),u=o[t];if(u!==Uy[t]){const g=u.apply(e,s);return a?fr(g):g}let h=n;o!==e&&(a?h=function(g,_){return n.call(this,fr(g),_,e)}:n.length>2&&(h=function(g,_){return n.call(this,g,_,e)}));const d=u.call(o,h,r);return a&&i?i(d):d}function B1(e,t,n,r){const i=Fh(e);let s=n;return i!==e&&(ci(e)?n.length>3&&(s=function(o,a,u){return n.call(this,o,a,u,e)}):s=function(o,a,u){return n.call(this,o,fr(a),u,e)}),i[t](s,...r)}function Df(e,t,n){const r=Ue(e);hr(r,"iterate",Du);const i=r[t](...n);return(i===-1||i===!1)&&mp(n[0])?(n[0]=Ue(n[0]),r[t](...n)):i}function lu(e,t,n=[]){jo(),cp();const r=Ue(e)[t].apply(e,n);return hp(),Bo(),r}const zy=sp("__proto__,__v_isRef,__isVue"),S2=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ns));function $y(e){ns(e)||(e=String(e));const t=Ue(this);return hr(t,"has",e),t.hasOwnProperty(e)}class x2{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?t_:N2:s?P2:T2).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=de(t);if(!i){let u;if(o&&(u=qy[n]))return u;if(n==="hasOwnProperty")return $y}const a=Reflect.get(t,n,mr(t)?t:r);return(ns(n)?S2.has(n):zy(n))||(i||hr(t,"get",n),s)?a:mr(a)?o&&lp(n)?a:a.value:an(a)?i?C2(a):Mh(a):a}}class I2 extends x2{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const u=_a(s);if(!ci(r)&&!_a(r)&&(s=Ue(s),r=Ue(r)),!de(t)&&mr(s)&&!mr(r))return u?!1:(s.value=r,!0)}const o=de(t)&&lp(n)?Number(n)<t.length:ze(t,n),a=Reflect.set(t,n,r,mr(t)?t:i);return t===Ue(i)&&(o?xo(r,s)&&Ls(t,"set",n,r):Ls(t,"add",n,r)),a}deleteProperty(t,n){const r=ze(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Ls(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ns(n)||!S2.has(n))&&hr(t,"has",n),r}ownKeys(t){return hr(t,"iterate",de(t)?"length":va),Reflect.ownKeys(t)}}class Hy extends x2{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Wy=new I2,Gy=new Hy,Ky=new I2(!0);const fd=e=>e,Ic=e=>Reflect.getPrototypeOf(e);function Qy(e,t,n){return function(...r){const i=this.__v_raw,s=Ue(i),o=dl(s),a=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,h=i[e](...r),d=n?fd:t?dd:fr;return!t&&hr(s,"iterate",u?hd:va),{next(){const{value:g,done:_}=h.next();return _?{value:g,done:_}:{value:a?[d(g[0]),d(g[1])]:d(g),done:_}},[Symbol.iterator](){return this}}}}function Tc(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Yy(e,t){const n={get(i){const s=this.__v_raw,o=Ue(s),a=Ue(i);e||(xo(i,a)&&hr(o,"get",i),hr(o,"get",a));const{has:u}=Ic(o),h=t?fd:e?dd:fr;if(u.call(o,i))return h(s.get(i));if(u.call(o,a))return h(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!e&&hr(Ue(i),"iterate",va),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=Ue(s),a=Ue(i);return e||(xo(i,a)&&hr(o,"has",i),hr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,u=Ue(a),h=t?fd:e?dd:fr;return!e&&hr(u,"iterate",va),a.forEach((d,g)=>i.call(s,h(d),h(g),o))}};return vr(n,e?{add:Tc("add"),set:Tc("set"),delete:Tc("delete"),clear:Tc("clear")}:{add(i){!t&&!ci(i)&&!_a(i)&&(i=Ue(i));const s=Ue(this);return Ic(s).has.call(s,i)||(s.add(i),Ls(s,"add",i,i)),this},set(i,s){!t&&!ci(s)&&!_a(s)&&(s=Ue(s));const o=Ue(this),{has:a,get:u}=Ic(o);let h=a.call(o,i);h||(i=Ue(i),h=a.call(o,i));const d=u.call(o,i);return o.set(i,s),h?xo(s,d)&&Ls(o,"set",i,s):Ls(o,"add",i,s),this},delete(i){const s=Ue(this),{has:o,get:a}=Ic(s);let u=o.call(s,i);u||(i=Ue(i),u=o.call(s,i)),a&&a.call(s,i);const h=s.delete(i);return u&&Ls(s,"delete",i,void 0),h},clear(){const i=Ue(this),s=i.size!==0,o=i.clear();return s&&Ls(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Qy(i,e,t)}),n}function pp(e,t){const n=Yy(e,t);return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(ze(n,i)&&i in r?n:r,i,s)}const Jy={get:pp(!1,!1)},Xy={get:pp(!1,!0)},Zy={get:pp(!0,!1)};const T2=new WeakMap,P2=new WeakMap,N2=new WeakMap,t_=new WeakMap;function e_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function n_(e){return e.__v_skip||!Object.isExtensible(e)?0:e_(Iy(e))}function Mh(e){return _a(e)?e:gp(e,!1,Wy,Jy,T2)}function L2(e){return gp(e,!1,Ky,Xy,P2)}function C2(e){return gp(e,!0,Gy,Zy,N2)}function gp(e,t,n,r,i){if(!an(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=n_(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function pl(e){return _a(e)?pl(e.__v_raw):!!(e&&e.__v_isReactive)}function _a(e){return!!(e&&e.__v_isReadonly)}function ci(e){return!!(e&&e.__v_isShallow)}function mp(e){return e?!!e.__v_raw:!1}function Ue(e){const t=e&&e.__v_raw;return t?Ue(t):e}function r_(e){return!ze(e,"__v_skip")&&Object.isExtensible(e)&&f2(e,"__v_skip",!0),e}const fr=e=>an(e)?Mh(e):e,dd=e=>an(e)?C2(e):e;function mr(e){return e?e.__v_isRef===!0:!1}function Ve(e){return R2(e,!1)}function i_(e){return R2(e,!0)}function R2(e,t){return mr(e)?e:new s_(e,t)}class s_{constructor(t,n){this.dep=new dp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ue(t),this._value=n?t:fr(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ci(t)||_a(t);t=r?t:Ue(t),xo(t,n)&&(this._rawValue=t,this._value=r?t:fr(t),this.dep.trigger())}}function gl(e){return mr(e)?e.value:e}const o_={get:(e,t,n)=>t==="__v_raw"?e:gl(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return mr(i)&&!mr(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function k2(e){return pl(e)?e:new Proxy(e,o_)}class a_{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new dp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ku-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&on!==this)return y2(this,!0),!0}get value(){const t=this.dep.track();return w2(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function l_(e,t,n=!1){let r,i;return be(e)?r=e:(r=e.get,i=e.set),new a_(r,i,n)}const Pc={},nh=new WeakMap;let ha;function u_(e,t=!1,n=ha){if(n){let r=nh.get(n);r||nh.set(n,r=[]),r.push(e)}}function c_(e,t,n=en){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:u}=n,h=tt=>i?tt:ci(tt)||i===!1||i===0?Cs(tt,1):Cs(tt);let d,g,_,m,P=!1,I=!1;if(mr(e)?(g=()=>e.value,P=ci(e)):pl(e)?(g=()=>h(e),P=!0):de(e)?(I=!0,P=e.some(tt=>pl(tt)||ci(tt)),g=()=>e.map(tt=>{if(mr(tt))return tt.value;if(pl(tt))return h(tt);if(be(tt))return u?u(tt,2):tt()})):be(e)?t?g=u?()=>u(e,2):e:g=()=>{if(_){jo();try{_()}finally{Bo()}}const tt=ha;ha=d;try{return u?u(e,3,[m]):e(m)}finally{ha=tt}}:g=Xi,t&&i){const tt=g,_t=i===!0?1/0:i;g=()=>Cs(tt(),_t)}const M=Vy(),C=()=>{d.stop(),M&&M.active&&ap(M.effects,d)};if(s&&t){const tt=t;t=(..._t)=>{tt(..._t),C()}}let k=I?new Array(e.length).fill(Pc):Pc;const H=tt=>{if(!(!(d.flags&1)||!d.dirty&&!tt))if(t){const _t=d.run();if(i||P||(I?_t.some((Pt,O)=>xo(Pt,k[O])):xo(_t,k))){_&&_();const Pt=ha;ha=d;try{const O=[_t,k===Pc?void 0:I&&k[0]===Pc?[]:k,m];u?u(t,3,O):t(...O),k=_t}finally{ha=Pt}}}else d.run()};return a&&a(H),d=new m2(g),d.scheduler=o?()=>o(H,!1):H,m=tt=>u_(tt,!1,d),_=d.onStop=()=>{const tt=nh.get(d);if(tt){if(u)u(tt,4);else for(const _t of tt)_t();nh.delete(d)}},t?r?H(!0):k=d.run():o?o(H.bind(null,!0),!0):d.run(),C.pause=d.pause.bind(d),C.resume=d.resume.bind(d),C.stop=C,C}function Cs(e,t=1/0,n){if(t<=0||!an(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,mr(e))Cs(e.value,t,n);else if(de(e))for(let r=0;r<e.length;r++)Cs(e[r],t,n);else if(Ch(e)||dl(e))e.forEach(r=>{Cs(r,t,n)});else if(h2(e)){for(const r in e)Cs(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Cs(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yu(e,t,n,r){try{return r?e(...r):e()}catch(i){Vh(i,t,n)}}function rs(e,t,n,r){if(be(e)){const i=Yu(e,t,n,r);return i&&u2(i)&&i.catch(s=>{Vh(s,t,n)}),i}if(de(e)){const i=[];for(let s=0;s<e.length;s++)i.push(rs(e[s],t,n,r));return i}}function Vh(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||en;if(t){let a=t.parent;const u=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,u,h)===!1)return}a=a.parent}if(s){jo(),Yu(s,null,10,[e,u,h]),Bo();return}}h_(e,n,i,r,o)}function h_(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Tr=[];let Gi=-1;const ml=[];let _o=null,el=0;const D2=Promise.resolve();let rh=null;function vp(e){const t=rh||D2;return e?t.then(this?e.bind(this):e):t}function f_(e){let t=Gi+1,n=Tr.length;for(;t<n;){const r=t+n>>>1,i=Tr[r],s=Ou(i);s<e||s===e&&i.flags&2?t=r+1:n=r}return t}function yp(e){if(!(e.flags&1)){const t=Ou(e),n=Tr[Tr.length-1];!n||!(e.flags&2)&&t>=Ou(n)?Tr.push(e):Tr.splice(f_(t),0,e),e.flags|=1,O2()}}function O2(){rh||(rh=D2.then(M2))}function d_(e){de(e)?ml.push(...e):_o&&e.id===-1?_o.splice(el+1,0,e):e.flags&1||(ml.push(e),e.flags|=1),O2()}function q1(e,t,n=Gi+1){for(;n<Tr.length;n++){const r=Tr[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Tr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function F2(e){if(ml.length){const t=[...new Set(ml)].sort((n,r)=>Ou(n)-Ou(r));if(ml.length=0,_o){_o.push(...t);return}for(_o=t,el=0;el<_o.length;el++){const n=_o[el];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}_o=null,el=0}}const Ou=e=>e.id==null?e.flags&2?-1:1/0:e.id;function M2(e){try{for(Gi=0;Gi<Tr.length;Gi++){const t=Tr[Gi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Yu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Gi<Tr.length;Gi++){const t=Tr[Gi];t&&(t.flags&=-2)}Gi=-1,Tr.length=0,F2(),rh=null,(Tr.length||ml.length)&&M2()}}let Yr=null,V2=null;function ih(e){const t=Yr;return Yr=e,V2=e&&e.type.__scopeId||null,t}function Bc(e,t=Yr,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&eg(-1);const s=ih(t);let o;try{o=e(...i)}finally{ih(s),r._d&&eg(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Oe(e,t){if(Yr===null)return e;const n=zh(Yr),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,o,a,u=en]=t[i];s&&(be(s)&&(s={mounted:s,updated:s}),s.deep&&Cs(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:u}))}return e}function ua(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let u=a.dir[r];u&&(jo(),rs(u,n,8,[e.el,a,e,t]),Bo())}}const j2=Symbol("_vte"),p_=e=>e.__isTeleport,Au=e=>e&&(e.disabled||e.disabled===""),U1=e=>e&&(e.defer||e.defer===""),z1=e=>typeof SVGElement<"u"&&e instanceof SVGElement,$1=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,pd=(e,t)=>{const n=e&&e.to;return Pn(n)?t?t(n):null:n},B2={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,s,o,a,u,h){const{mc:d,pc:g,pbc:_,o:{insert:m,querySelector:P,createText:I,createComment:M}}=h,C=Au(t.props);let{shapeFlag:k,children:H,dynamicChildren:tt}=t;if(e==null){const _t=t.el=I(""),Pt=t.anchor=I("");m(_t,n,r),m(Pt,n,r);const O=(x,U)=>{k&16&&(i&&i.isCE&&(i.ce._teleportTarget=x),d(H,x,U,i,s,o,a,u))},b=()=>{const x=t.target=pd(t.props,P),U=q2(x,t,I,m);x&&(o!=="svg"&&z1(x)?o="svg":o!=="mathml"&&$1(x)&&(o="mathml"),C||(O(x,U),qc(t,!1)))};C&&(O(n,Pt),qc(t,!0)),U1(t.props)?Ir(()=>{b(),t.el.__isMounted=!0},s):b()}else{if(U1(t.props)&&!e.el.__isMounted){Ir(()=>{B2.process(e,t,n,r,i,s,o,a,u,h),delete e.el.__isMounted},s);return}t.el=e.el,t.targetStart=e.targetStart;const _t=t.anchor=e.anchor,Pt=t.target=e.target,O=t.targetAnchor=e.targetAnchor,b=Au(e.props),x=b?n:Pt,U=b?_t:O;if(o==="svg"||z1(Pt)?o="svg":(o==="mathml"||$1(Pt))&&(o="mathml"),tt?(_(e.dynamicChildren,tt,x,i,s,o,a),wp(e,t,!0)):u||g(e,t,x,U,i,s,o,a,!1),C)b?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Nc(t,n,_t,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const E=t.target=pd(t.props,P);E&&Nc(t,E,null,h,0)}else b&&Nc(t,Pt,O,h,1);qc(t,C)}},remove(e,t,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:u,targetStart:h,targetAnchor:d,target:g,props:_}=e;if(g&&(i(h),i(d)),s&&i(u),o&16){const m=s||!Au(_);for(let P=0;P<a.length;P++){const I=a[P];r(I,t,n,m,!!I.dynamicChildren)}}},move:Nc,hydrate:g_};function Nc(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:u,children:h,props:d}=e,g=s===2;if(g&&r(o,t,n),(!g||Au(d))&&u&16)for(let _=0;_<h.length;_++)i(h[_],t,n,2);g&&r(a,t,n)}function g_(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:u,insert:h,createText:d}},g){const _=t.target=pd(t.props,u);if(_){const m=Au(t.props),P=_._lpa||_.firstChild;if(t.shapeFlag&16)if(m)t.anchor=g(o(e),t,a(e),n,r,i,s),t.targetStart=P,t.targetAnchor=P&&o(P);else{t.anchor=o(e);let I=P;for(;I;){if(I&&I.nodeType===8){if(I.data==="teleport start anchor")t.targetStart=I;else if(I.data==="teleport anchor"){t.targetAnchor=I,_._lpa=t.targetAnchor&&o(t.targetAnchor);break}}I=o(I)}t.targetAnchor||q2(_,t,d,h),g(P&&o(P),t,_,n,r,i,s)}qc(t,m)}return t.anchor&&o(t.anchor)}const du=B2;function qc(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function q2(e,t,n,r){const i=t.targetStart=n(""),s=t.targetAnchor=n("");return i[j2]=s,e&&(r(i,e),r(s,e)),s}function _p(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_p(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function U2(e,t){return be(e)?vr({name:e.name},t,{setup:e}):e}function z2(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function sh(e,t,n,r,i=!1){if(de(e)){e.forEach((P,I)=>sh(P,t&&(de(t)?t[I]:t),n,r,i));return}if(Eu(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&sh(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?zh(r.component):r.el,o=i?null:s,{i:a,r:u}=e,h=t&&t.r,d=a.refs===en?a.refs={}:a.refs,g=a.setupState,_=Ue(g),m=g===en?()=>!1:P=>ze(_,P);if(h!=null&&h!==u&&(Pn(h)?(d[h]=null,m(h)&&(g[h]=null)):mr(h)&&(h.value=null)),be(u))Yu(u,a,12,[o,d]);else{const P=Pn(u),I=mr(u);if(P||I){const M=()=>{if(e.f){const C=P?m(u)?g[u]:d[u]:u.value;i?de(C)&&ap(C,s):de(C)?C.includes(s)||C.push(s):P?(d[u]=[s],m(u)&&(g[u]=d[u])):(u.value=[s],e.k&&(d[e.k]=u.value))}else P?(d[u]=o,m(u)&&(g[u]=o)):I&&(u.value=o,e.k&&(d[e.k]=o))};o?(M.id=-1,Ir(M,n)):M()}}}Dh().requestIdleCallback;Dh().cancelIdleCallback;const Eu=e=>!!e.type.__asyncLoader,$2=e=>e.type.__isKeepAlive;function m_(e,t){H2(e,"a",t)}function v_(e,t){H2(e,"da",t)}function H2(e,t,n=pr){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(jh(t,r,n),n){let i=n.parent;for(;i&&i.parent;)$2(i.parent.vnode)&&y_(r,t,n,i),i=i.parent}}function y_(e,t,n,r){const i=jh(t,e,r,!0);W2(()=>{ap(r[t],i)},n)}function jh(e,t,n=pr,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{jo();const a=Ju(n),u=rs(t,n,e,o);return a(),Bo(),u});return r?i.unshift(s):i.push(s),s}}const js=e=>(t,n=pr)=>{(!Mu||e==="sp")&&jh(e,(...r)=>t(...r),n)},__=js("bm"),Bh=js("m"),b_=js("bu"),w_=js("u"),A_=js("bum"),W2=js("um"),E_=js("sp"),S_=js("rtg"),x_=js("rtc");function I_(e,t=pr){jh("ec",e,t)}const T_="components";function H1(e,t){return N_(T_,e,!0,t)||e}const P_=Symbol.for("v-ndc");function N_(e,t,n=!0,r=!1){const i=Yr||pr;if(i){const s=i.type;{const a=gb(s,!1);if(a&&(a===t||a===hi(t)||a===kh(hi(t))))return s}const o=W1(i[e]||s[e],t)||W1(i.appContext[e],t);return!o&&r?s:o}}function W1(e,t){return e&&(e[t]||e[hi(t)]||e[kh(hi(t))])}function Rs(e,t,n,r){let i;const s=n,o=de(e);if(o||Pn(e)){const a=o&&pl(e);let u=!1;a&&(u=!ci(e),e=Fh(e)),i=new Array(e.length);for(let h=0,d=e.length;h<d;h++)i[h]=t(u?fr(e[h]):e[h],h,void 0,s)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s)}else if(an(e))if(e[Symbol.iterator])i=Array.from(e,(a,u)=>t(a,u,void 0,s));else{const a=Object.keys(e);i=new Array(a.length);for(let u=0,h=a.length;u<h;u++){const d=a[u];i[u]=t(e[d],d,u,s)}}else i=[];return i}const gd=e=>e?f0(e)?zh(e):gd(e.parent):null,Su=vr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gd(e.parent),$root:e=>gd(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>K2(e),$forceUpdate:e=>e.f||(e.f=()=>{yp(e.update)}),$nextTick:e=>e.n||(e.n=vp.bind(e.proxy)),$watch:e=>Y_.bind(e)}),Of=(e,t)=>e!==en&&!e.__isScriptSetup&&ze(e,t),L_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:u}=e;let h;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Of(r,t))return o[t]=1,r[t];if(i!==en&&ze(i,t))return o[t]=2,i[t];if((h=e.propsOptions[0])&&ze(h,t))return o[t]=3,s[t];if(n!==en&&ze(n,t))return o[t]=4,n[t];md&&(o[t]=0)}}const d=Su[t];let g,_;if(d)return t==="$attrs"&&hr(e.attrs,"get",""),d(e);if((g=a.__cssModules)&&(g=g[t]))return g;if(n!==en&&ze(n,t))return o[t]=4,n[t];if(_=u.config.globalProperties,ze(_,t))return _[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return Of(i,t)?(i[t]=n,!0):r!==en&&ze(r,t)?(r[t]=n,!0):ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==en&&ze(e,o)||Of(t,o)||(a=s[0])&&ze(a,o)||ze(r,o)||ze(Su,o)||ze(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function G1(e){return de(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let md=!0;function C_(e){const t=K2(e),n=e.proxy,r=e.ctx;md=!1,t.beforeCreate&&K1(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:u,inject:h,created:d,beforeMount:g,mounted:_,beforeUpdate:m,updated:P,activated:I,deactivated:M,beforeDestroy:C,beforeUnmount:k,destroyed:H,unmounted:tt,render:_t,renderTracked:Pt,renderTriggered:O,errorCaptured:b,serverPrefetch:x,expose:U,inheritAttrs:E,components:S,directives:T,filters:et}=t;if(h&&R_(h,r,null),o)for(const lt in o){const nt=o[lt];be(nt)&&(r[lt]=nt.bind(n))}if(i){const lt=i.call(n,n);an(lt)&&(e.data=Mh(lt))}if(md=!0,s)for(const lt in s){const nt=s[lt],At=be(nt)?nt.bind(n,n):be(nt.get)?nt.get.bind(n,n):Xi,st=!be(nt)&&be(nt.set)?nt.set.bind(n):Xi,$t=Tn({get:At,set:st});Object.defineProperty(r,lt,{enumerable:!0,configurable:!0,get:()=>$t.value,set:R=>$t.value=R})}if(a)for(const lt in a)G2(a[lt],r,n,lt);if(u){const lt=be(u)?u.call(n):u;Reflect.ownKeys(lt).forEach(nt=>{Uc(nt,lt[nt])})}d&&K1(d,e,"c");function Q(lt,nt){de(nt)?nt.forEach(At=>lt(At.bind(n))):nt&&lt(nt.bind(n))}if(Q(__,g),Q(Bh,_),Q(b_,m),Q(w_,P),Q(m_,I),Q(v_,M),Q(I_,b),Q(x_,Pt),Q(S_,O),Q(A_,k),Q(W2,tt),Q(E_,x),de(U))if(U.length){const lt=e.exposed||(e.exposed={});U.forEach(nt=>{Object.defineProperty(lt,nt,{get:()=>n[nt],set:At=>n[nt]=At})})}else e.exposed||(e.exposed={});_t&&e.render===Xi&&(e.render=_t),E!=null&&(e.inheritAttrs=E),S&&(e.components=S),T&&(e.directives=T),x&&z2(e)}function R_(e,t,n=Xi){de(e)&&(e=vd(e));for(const r in e){const i=e[r];let s;an(i)?"default"in i?s=ks(i.from||r,i.default,!0):s=ks(i.from||r):s=ks(i),mr(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function K1(e,t,n){rs(de(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function G2(e,t,n,r){let i=r.includes(".")?a0(n,r):()=>n[r];if(Pn(e)){const s=t[e];be(s)&&yl(i,s)}else if(be(e))yl(i,e.bind(n));else if(an(e))if(de(e))e.forEach(s=>G2(s,t,n,r));else{const s=be(e.handler)?e.handler.bind(n):t[e.handler];be(s)&&yl(i,s,e)}}function K2(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let u;return a?u=a:!i.length&&!n&&!r?u=t:(u={},i.length&&i.forEach(h=>oh(u,h,o,!0)),oh(u,t,o)),an(t)&&s.set(t,u),u}function oh(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&oh(e,s,n,!0),i&&i.forEach(o=>oh(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=k_[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const k_={data:Q1,props:Y1,emits:Y1,methods:pu,computed:pu,beforeCreate:xr,created:xr,beforeMount:xr,mounted:xr,beforeUpdate:xr,updated:xr,beforeDestroy:xr,beforeUnmount:xr,destroyed:xr,unmounted:xr,activated:xr,deactivated:xr,errorCaptured:xr,serverPrefetch:xr,components:pu,directives:pu,watch:O_,provide:Q1,inject:D_};function Q1(e,t){return t?e?function(){return vr(be(e)?e.call(this,this):e,be(t)?t.call(this,this):t)}:t:e}function D_(e,t){return pu(vd(e),vd(t))}function vd(e){if(de(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xr(e,t){return e?[...new Set([].concat(e,t))]:t}function pu(e,t){return e?vr(Object.create(null),e,t):t}function Y1(e,t){return e?de(e)&&de(t)?[...new Set([...e,...t])]:vr(Object.create(null),G1(e),G1(t??{})):t}function O_(e,t){if(!e)return t;if(!t)return e;const n=vr(Object.create(null),e);for(const r in t)n[r]=xr(e[r],t[r]);return n}function Q2(){return{app:null,config:{isNativeTag:Sy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let F_=0;function M_(e,t){return function(r,i=null){be(r)||(r=vr({},r)),i!=null&&!an(i)&&(i=null);const s=Q2(),o=new WeakSet,a=[];let u=!1;const h=s.app={_uid:F_++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:vb,get config(){return s.config},set config(d){},use(d,...g){return o.has(d)||(d&&be(d.install)?(o.add(d),d.install(h,...g)):be(d)&&(o.add(d),d(h,...g))),h},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),h},component(d,g){return g?(s.components[d]=g,h):s.components[d]},directive(d,g){return g?(s.directives[d]=g,h):s.directives[d]},mount(d,g,_){if(!u){const m=h._ceVNode||Zn(r,i);return m.appContext=s,_===!0?_="svg":_===!1&&(_=void 0),e(m,d,_),u=!0,h._container=d,d.__vue_app__=h,zh(m.component)}},onUnmount(d){a.push(d)},unmount(){u&&(rs(a,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(d,g){return s.provides[d]=g,h},runWithContext(d){const g=vl;vl=h;try{return d()}finally{vl=g}}};return h}}let vl=null;function Uc(e,t){if(pr){let n=pr.provides;const r=pr.parent&&pr.parent.provides;r===n&&(n=pr.provides=Object.create(r)),n[e]=t}}function ks(e,t,n=!1){const r=pr||Yr;if(r||vl){const i=vl?vl._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&be(t)?t.call(r&&r.proxy):t}}const Y2={},J2=()=>Object.create(Y2),X2=e=>Object.getPrototypeOf(e)===Y2;function V_(e,t,n,r=!1){const i={},s=J2();e.propsDefaults=Object.create(null),Z2(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:L2(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function j_(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=Ue(i),[u]=e.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let g=0;g<d.length;g++){let _=d[g];if(qh(e.emitsOptions,_))continue;const m=t[_];if(u)if(ze(s,_))m!==s[_]&&(s[_]=m,h=!0);else{const P=hi(_);i[P]=yd(u,a,P,m,e,!1)}else m!==s[_]&&(s[_]=m,h=!0)}}}else{Z2(e,t,i,s)&&(h=!0);let d;for(const g in a)(!t||!ze(t,g)&&((d=Ea(g))===g||!ze(t,d)))&&(u?n&&(n[g]!==void 0||n[d]!==void 0)&&(i[g]=yd(u,a,g,void 0,e,!0)):delete i[g]);if(s!==a)for(const g in s)(!t||!ze(t,g))&&(delete s[g],h=!0)}h&&Ls(e.attrs,"set","")}function Z2(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let u in t){if(_u(u))continue;const h=t[u];let d;i&&ze(i,d=hi(u))?!s||!s.includes(d)?n[d]=h:(a||(a={}))[d]=h:qh(e.emitsOptions,u)||(!(u in r)||h!==r[u])&&(r[u]=h,o=!0)}if(s){const u=Ue(n),h=a||en;for(let d=0;d<s.length;d++){const g=s[d];n[g]=yd(i,u,g,h[g],e,!ze(h,g))}}return o}function yd(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=ze(o,"default");if(a&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&be(u)){const{propsDefaults:h}=i;if(n in h)r=h[n];else{const d=Ju(i);r=h[n]=u.call(null,t),d()}}else r=u;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Ea(n))&&(r=!0))}return r}const B_=new WeakMap;function t0(e,t,n=!1){const r=n?B_:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let u=!1;if(!be(e)){const d=g=>{u=!0;const[_,m]=t0(g,t,!0);vr(o,_),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!u)return an(e)&&r.set(e,fl),fl;if(de(s))for(let d=0;d<s.length;d++){const g=hi(s[d]);J1(g)&&(o[g]=en)}else if(s)for(const d in s){const g=hi(d);if(J1(g)){const _=s[d],m=o[g]=de(_)||be(_)?{type:_}:vr({},_),P=m.type;let I=!1,M=!0;if(de(P))for(let C=0;C<P.length;++C){const k=P[C],H=be(k)&&k.name;if(H==="Boolean"){I=!0;break}else H==="String"&&(M=!1)}else I=be(P)&&P.name==="Boolean";m[0]=I,m[1]=M,(I||ze(m,"default"))&&a.push(g)}}const h=[o,a];return an(e)&&r.set(e,h),h}function J1(e){return e[0]!=="$"&&!_u(e)}const e0=e=>e[0]==="_"||e==="$stable",bp=e=>de(e)?e.map(Qi):[Qi(e)],q_=(e,t,n)=>{if(t._n)return t;const r=Bc((...i)=>bp(t(...i)),n);return r._c=!1,r},n0=(e,t,n)=>{const r=e._ctx;for(const i in e){if(e0(i))continue;const s=e[i];if(be(s))t[i]=q_(i,s,r);else if(s!=null){const o=bp(s);t[i]=()=>o}}},r0=(e,t)=>{const n=bp(t);e.slots.default=()=>n},i0=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},U_=(e,t,n)=>{const r=e.slots=J2();if(e.vnode.shapeFlag&32){const i=t._;i?(i0(r,t,n),n&&f2(r,"_",i,!0)):n0(t,r)}else t&&r0(e,t)},z_=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=en;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:i0(i,t,n):(s=!t.$stable,n0(t,i)),o=t}else t&&(r0(e,t),o={default:1});if(s)for(const a in i)!e0(a)&&o[a]==null&&delete i[a]},Ir=rb;function $_(e){return H_(e)}function H_(e,t){const n=Dh();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:u,setText:h,setElementText:d,parentNode:g,nextSibling:_,setScopeId:m=Xi,insertStaticContent:P}=e,I=($,z,rt,Z=null,j=null,Tt=null,Nt=void 0,mt=null,wt=!!z.dynamicChildren)=>{if($===z)return;$&&!uu($,z)&&(Z=G($),R($,j,Tt,!0),$=null),z.patchFlag===-2&&(wt=!1,z.dynamicChildren=null);const{type:bt,ref:Dt,shapeFlag:kt}=z;switch(bt){case Uh:M($,z,rt,Z);break;case ba:C($,z,rt,Z);break;case Mf:$==null&&k(z,rt,Z,Nt);break;case Mn:S($,z,rt,Z,j,Tt,Nt,mt,wt);break;default:kt&1?_t($,z,rt,Z,j,Tt,Nt,mt,wt):kt&6?T($,z,rt,Z,j,Tt,Nt,mt,wt):(kt&64||kt&128)&&bt.process($,z,rt,Z,j,Tt,Nt,mt,wt,It)}Dt!=null&&j&&sh(Dt,$&&$.ref,Tt,z||$,!z)},M=($,z,rt,Z)=>{if($==null)r(z.el=a(z.children),rt,Z);else{const j=z.el=$.el;z.children!==$.children&&h(j,z.children)}},C=($,z,rt,Z)=>{$==null?r(z.el=u(z.children||""),rt,Z):z.el=$.el},k=($,z,rt,Z)=>{[$.el,$.anchor]=P($.children,z,rt,Z,$.el,$.anchor)},H=({el:$,anchor:z},rt,Z)=>{let j;for(;$&&$!==z;)j=_($),r($,rt,Z),$=j;r(z,rt,Z)},tt=({el:$,anchor:z})=>{let rt;for(;$&&$!==z;)rt=_($),i($),$=rt;i(z)},_t=($,z,rt,Z,j,Tt,Nt,mt,wt)=>{z.type==="svg"?Nt="svg":z.type==="math"&&(Nt="mathml"),$==null?Pt(z,rt,Z,j,Tt,Nt,mt,wt):x($,z,j,Tt,Nt,mt,wt)},Pt=($,z,rt,Z,j,Tt,Nt,mt)=>{let wt,bt;const{props:Dt,shapeFlag:kt,transition:Ut,dirs:Ht}=$;if(wt=$.el=o($.type,Tt,Dt&&Dt.is,Dt),kt&8?d(wt,$.children):kt&16&&b($.children,wt,null,Z,j,Ff($,Tt),Nt,mt),Ht&&ua($,null,Z,"created"),O(wt,$,$.scopeId,Nt,Z),Dt){for(const Yt in Dt)Yt!=="value"&&!_u(Yt)&&s(wt,Yt,null,Dt[Yt],Tt,Z);"value"in Dt&&s(wt,"value",null,Dt.value,Tt),(bt=Dt.onVnodeBeforeMount)&&Hi(bt,Z,$)}Ht&&ua($,null,Z,"beforeMount");const Wt=W_(j,Ut);Wt&&Ut.beforeEnter(wt),r(wt,z,rt),((bt=Dt&&Dt.onVnodeMounted)||Wt||Ht)&&Ir(()=>{bt&&Hi(bt,Z,$),Wt&&Ut.enter(wt),Ht&&ua($,null,Z,"mounted")},j)},O=($,z,rt,Z,j)=>{if(rt&&m($,rt),Z)for(let Tt=0;Tt<Z.length;Tt++)m($,Z[Tt]);if(j){let Tt=j.subTree;if(z===Tt||u0(Tt.type)&&(Tt.ssContent===z||Tt.ssFallback===z)){const Nt=j.vnode;O($,Nt,Nt.scopeId,Nt.slotScopeIds,j.parent)}}},b=($,z,rt,Z,j,Tt,Nt,mt,wt=0)=>{for(let bt=wt;bt<$.length;bt++){const Dt=$[bt]=mt?bo($[bt]):Qi($[bt]);I(null,Dt,z,rt,Z,j,Tt,Nt,mt)}},x=($,z,rt,Z,j,Tt,Nt)=>{const mt=z.el=$.el;let{patchFlag:wt,dynamicChildren:bt,dirs:Dt}=z;wt|=$.patchFlag&16;const kt=$.props||en,Ut=z.props||en;let Ht;if(rt&&ca(rt,!1),(Ht=Ut.onVnodeBeforeUpdate)&&Hi(Ht,rt,z,$),Dt&&ua(z,$,rt,"beforeUpdate"),rt&&ca(rt,!0),(kt.innerHTML&&Ut.innerHTML==null||kt.textContent&&Ut.textContent==null)&&d(mt,""),bt?U($.dynamicChildren,bt,mt,rt,Z,Ff(z,j),Tt):Nt||nt($,z,mt,null,rt,Z,Ff(z,j),Tt,!1),wt>0){if(wt&16)E(mt,kt,Ut,rt,j);else if(wt&2&&kt.class!==Ut.class&&s(mt,"class",null,Ut.class,j),wt&4&&s(mt,"style",kt.style,Ut.style,j),wt&8){const Wt=z.dynamicProps;for(let Yt=0;Yt<Wt.length;Yt++){const re=Wt[Yt],ee=kt[re],se=Ut[re];(se!==ee||re==="value")&&s(mt,re,ee,se,j,rt)}}wt&1&&$.children!==z.children&&d(mt,z.children)}else!Nt&&bt==null&&E(mt,kt,Ut,rt,j);((Ht=Ut.onVnodeUpdated)||Dt)&&Ir(()=>{Ht&&Hi(Ht,rt,z,$),Dt&&ua(z,$,rt,"updated")},Z)},U=($,z,rt,Z,j,Tt,Nt)=>{for(let mt=0;mt<z.length;mt++){const wt=$[mt],bt=z[mt],Dt=wt.el&&(wt.type===Mn||!uu(wt,bt)||wt.shapeFlag&70)?g(wt.el):rt;I(wt,bt,Dt,null,Z,j,Tt,Nt,!0)}},E=($,z,rt,Z,j)=>{if(z!==rt){if(z!==en)for(const Tt in z)!_u(Tt)&&!(Tt in rt)&&s($,Tt,z[Tt],null,j,Z);for(const Tt in rt){if(_u(Tt))continue;const Nt=rt[Tt],mt=z[Tt];Nt!==mt&&Tt!=="value"&&s($,Tt,mt,Nt,j,Z)}"value"in rt&&s($,"value",z.value,rt.value,j)}},S=($,z,rt,Z,j,Tt,Nt,mt,wt)=>{const bt=z.el=$?$.el:a(""),Dt=z.anchor=$?$.anchor:a("");let{patchFlag:kt,dynamicChildren:Ut,slotScopeIds:Ht}=z;Ht&&(mt=mt?mt.concat(Ht):Ht),$==null?(r(bt,rt,Z),r(Dt,rt,Z),b(z.children||[],rt,Dt,j,Tt,Nt,mt,wt)):kt>0&&kt&64&&Ut&&$.dynamicChildren?(U($.dynamicChildren,Ut,rt,j,Tt,Nt,mt),(z.key!=null||j&&z===j.subTree)&&wp($,z,!0)):nt($,z,rt,Dt,j,Tt,Nt,mt,wt)},T=($,z,rt,Z,j,Tt,Nt,mt,wt)=>{z.slotScopeIds=mt,$==null?z.shapeFlag&512?j.ctx.activate(z,rt,Z,Nt,wt):et(z,rt,Z,j,Tt,Nt,wt):pt($,z,wt)},et=($,z,rt,Z,j,Tt,Nt)=>{const mt=$.component=cb($,Z,j);if($2($)&&(mt.ctx.renderer=It),hb(mt,!1,Nt),mt.asyncDep){if(j&&j.registerDep(mt,Q,Nt),!$.el){const wt=mt.subTree=Zn(ba);C(null,wt,z,rt)}}else Q(mt,$,z,rt,j,Tt,Nt)},pt=($,z,rt)=>{const Z=z.component=$.component;if(eb($,z,rt))if(Z.asyncDep&&!Z.asyncResolved){lt(Z,z,rt);return}else Z.next=z,Z.update();else z.el=$.el,Z.vnode=z},Q=($,z,rt,Z,j,Tt,Nt)=>{const mt=()=>{if($.isMounted){let{next:kt,bu:Ut,u:Ht,parent:Wt,vnode:Yt}=$;{const Re=s0($);if(Re){kt&&(kt.el=Yt.el,lt($,kt,Nt)),Re.asyncDep.then(()=>{$.isUnmounted||mt()});return}}let re=kt,ee;ca($,!1),kt?(kt.el=Yt.el,lt($,kt,Nt)):kt=Yt,Ut&&jc(Ut),(ee=kt.props&&kt.props.onVnodeBeforeUpdate)&&Hi(ee,Wt,kt,Yt),ca($,!0);const se=Z1($),Gt=$.subTree;$.subTree=se,I(Gt,se,g(Gt.el),G(Gt),$,j,Tt),kt.el=se.el,re===null&&nb($,se.el),Ht&&Ir(Ht,j),(ee=kt.props&&kt.props.onVnodeUpdated)&&Ir(()=>Hi(ee,Wt,kt,Yt),j)}else{let kt;const{el:Ut,props:Ht}=z,{bm:Wt,m:Yt,parent:re,root:ee,type:se}=$,Gt=Eu(z);ca($,!1),Wt&&jc(Wt),!Gt&&(kt=Ht&&Ht.onVnodeBeforeMount)&&Hi(kt,re,z),ca($,!0);{ee.ce&&ee.ce._injectChildStyle(se);const Re=$.subTree=Z1($);I(null,Re,rt,Z,$,j,Tt),z.el=Re.el}if(Yt&&Ir(Yt,j),!Gt&&(kt=Ht&&Ht.onVnodeMounted)){const Re=z;Ir(()=>Hi(kt,re,Re),j)}(z.shapeFlag&256||re&&Eu(re.vnode)&&re.vnode.shapeFlag&256)&&$.a&&Ir($.a,j),$.isMounted=!0,z=rt=Z=null}};$.scope.on();const wt=$.effect=new m2(mt);$.scope.off();const bt=$.update=wt.run.bind(wt),Dt=$.job=wt.runIfDirty.bind(wt);Dt.i=$,Dt.id=$.uid,wt.scheduler=()=>yp(Dt),ca($,!0),bt()},lt=($,z,rt)=>{z.component=$;const Z=$.vnode.props;$.vnode=z,$.next=null,j_($,z.props,Z,rt),z_($,z.children,rt),jo(),q1($),Bo()},nt=($,z,rt,Z,j,Tt,Nt,mt,wt=!1)=>{const bt=$&&$.children,Dt=$?$.shapeFlag:0,kt=z.children,{patchFlag:Ut,shapeFlag:Ht}=z;if(Ut>0){if(Ut&128){st(bt,kt,rt,Z,j,Tt,Nt,mt,wt);return}else if(Ut&256){At(bt,kt,rt,Z,j,Tt,Nt,mt,wt);return}}Ht&8?(Dt&16&&ht(bt,j,Tt),kt!==bt&&d(rt,kt)):Dt&16?Ht&16?st(bt,kt,rt,Z,j,Tt,Nt,mt,wt):ht(bt,j,Tt,!0):(Dt&8&&d(rt,""),Ht&16&&b(kt,rt,Z,j,Tt,Nt,mt,wt))},At=($,z,rt,Z,j,Tt,Nt,mt,wt)=>{$=$||fl,z=z||fl;const bt=$.length,Dt=z.length,kt=Math.min(bt,Dt);let Ut;for(Ut=0;Ut<kt;Ut++){const Ht=z[Ut]=wt?bo(z[Ut]):Qi(z[Ut]);I($[Ut],Ht,rt,null,j,Tt,Nt,mt,wt)}bt>Dt?ht($,j,Tt,!0,!1,kt):b(z,rt,Z,j,Tt,Nt,mt,wt,kt)},st=($,z,rt,Z,j,Tt,Nt,mt,wt)=>{let bt=0;const Dt=z.length;let kt=$.length-1,Ut=Dt-1;for(;bt<=kt&&bt<=Ut;){const Ht=$[bt],Wt=z[bt]=wt?bo(z[bt]):Qi(z[bt]);if(uu(Ht,Wt))I(Ht,Wt,rt,null,j,Tt,Nt,mt,wt);else break;bt++}for(;bt<=kt&&bt<=Ut;){const Ht=$[kt],Wt=z[Ut]=wt?bo(z[Ut]):Qi(z[Ut]);if(uu(Ht,Wt))I(Ht,Wt,rt,null,j,Tt,Nt,mt,wt);else break;kt--,Ut--}if(bt>kt){if(bt<=Ut){const Ht=Ut+1,Wt=Ht<Dt?z[Ht].el:Z;for(;bt<=Ut;)I(null,z[bt]=wt?bo(z[bt]):Qi(z[bt]),rt,Wt,j,Tt,Nt,mt,wt),bt++}}else if(bt>Ut)for(;bt<=kt;)R($[bt],j,Tt,!0),bt++;else{const Ht=bt,Wt=bt,Yt=new Map;for(bt=Wt;bt<=Ut;bt++){const pe=z[bt]=wt?bo(z[bt]):Qi(z[bt]);pe.key!=null&&Yt.set(pe.key,bt)}let re,ee=0;const se=Ut-Wt+1;let Gt=!1,Re=0;const Ae=new Array(se);for(bt=0;bt<se;bt++)Ae[bt]=0;for(bt=Ht;bt<=kt;bt++){const pe=$[bt];if(ee>=se){R(pe,j,Tt,!0);continue}let Se;if(pe.key!=null)Se=Yt.get(pe.key);else for(re=Wt;re<=Ut;re++)if(Ae[re-Wt]===0&&uu(pe,z[re])){Se=re;break}Se===void 0?R(pe,j,Tt,!0):(Ae[Se-Wt]=bt+1,Se>=Re?Re=Se:Gt=!0,I(pe,z[Se],rt,null,j,Tt,Nt,mt,wt),ee++)}const Hn=Gt?G_(Ae):fl;for(re=Hn.length-1,bt=se-1;bt>=0;bt--){const pe=Wt+bt,Se=z[pe],yr=pe+1<Dt?z[pe+1].el:Z;Ae[bt]===0?I(null,Se,rt,yr,j,Tt,Nt,mt,wt):Gt&&(re<0||bt!==Hn[re]?$t(Se,rt,yr,2):re--)}}},$t=($,z,rt,Z,j=null)=>{const{el:Tt,type:Nt,transition:mt,children:wt,shapeFlag:bt}=$;if(bt&6){$t($.component.subTree,z,rt,Z);return}if(bt&128){$.suspense.move(z,rt,Z);return}if(bt&64){Nt.move($,z,rt,It);return}if(Nt===Mn){r(Tt,z,rt);for(let kt=0;kt<wt.length;kt++)$t(wt[kt],z,rt,Z);r($.anchor,z,rt);return}if(Nt===Mf){H($,z,rt);return}if(Z!==2&&bt&1&&mt)if(Z===0)mt.beforeEnter(Tt),r(Tt,z,rt),Ir(()=>mt.enter(Tt),j);else{const{leave:kt,delayLeave:Ut,afterLeave:Ht}=mt,Wt=()=>r(Tt,z,rt),Yt=()=>{kt(Tt,()=>{Wt(),Ht&&Ht()})};Ut?Ut(Tt,Wt,Yt):Yt()}else r(Tt,z,rt)},R=($,z,rt,Z=!1,j=!1)=>{const{type:Tt,props:Nt,ref:mt,children:wt,dynamicChildren:bt,shapeFlag:Dt,patchFlag:kt,dirs:Ut,cacheIndex:Ht}=$;if(kt===-2&&(j=!1),mt!=null&&sh(mt,null,rt,$,!0),Ht!=null&&(z.renderCache[Ht]=void 0),Dt&256){z.ctx.deactivate($);return}const Wt=Dt&1&&Ut,Yt=!Eu($);let re;if(Yt&&(re=Nt&&Nt.onVnodeBeforeUnmount)&&Hi(re,z,$),Dt&6)it($.component,rt,Z);else{if(Dt&128){$.suspense.unmount(rt,Z);return}Wt&&ua($,null,z,"beforeUnmount"),Dt&64?$.type.remove($,z,rt,It,Z):bt&&!bt.hasOnce&&(Tt!==Mn||kt>0&&kt&64)?ht(bt,z,rt,!1,!0):(Tt===Mn&&kt&384||!j&&Dt&16)&&ht(wt,z,rt),Z&&W($)}(Yt&&(re=Nt&&Nt.onVnodeUnmounted)||Wt)&&Ir(()=>{re&&Hi(re,z,$),Wt&&ua($,null,z,"unmounted")},rt)},W=$=>{const{type:z,el:rt,anchor:Z,transition:j}=$;if(z===Mn){J(rt,Z);return}if(z===Mf){tt($);return}const Tt=()=>{i(rt),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if($.shapeFlag&1&&j&&!j.persisted){const{leave:Nt,delayLeave:mt}=j,wt=()=>Nt(rt,Tt);mt?mt($.el,Tt,wt):wt()}else Tt()},J=($,z)=>{let rt;for(;$!==z;)rt=_($),i($),$=rt;i(z)},it=($,z,rt)=>{const{bum:Z,scope:j,job:Tt,subTree:Nt,um:mt,m:wt,a:bt}=$;X1(wt),X1(bt),Z&&jc(Z),j.stop(),Tt&&(Tt.flags|=8,R(Nt,$,z,rt)),mt&&Ir(mt,z),Ir(()=>{$.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},ht=($,z,rt,Z=!1,j=!1,Tt=0)=>{for(let Nt=Tt;Nt<$.length;Nt++)R($[Nt],z,rt,Z,j)},G=$=>{if($.shapeFlag&6)return G($.component.subTree);if($.shapeFlag&128)return $.suspense.next();const z=_($.anchor||$.el),rt=z&&z[j2];return rt?_(rt):z};let ot=!1;const X=($,z,rt)=>{$==null?z._vnode&&R(z._vnode,null,null,!0):I(z._vnode||null,$,z,null,null,null,rt),z._vnode=$,ot||(ot=!0,q1(),F2(),ot=!1)},It={p:I,um:R,m:$t,r:W,mt:et,mc:b,pc:nt,pbc:U,n:G,o:e};return{render:X,hydrate:void 0,createApp:M_(X)}}function Ff({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ca({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function W_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function wp(e,t,n=!1){const r=e.children,i=t.children;if(de(r)&&de(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=bo(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&wp(o,a)),a.type===Uh&&(a.el=o.el)}}function G_(e){const t=e.slice(),n=[0];let r,i,s,o,a;const u=e.length;for(r=0;r<u;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<h?s=a+1:o=a;h<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function s0(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:s0(t)}function X1(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const K_=Symbol.for("v-scx"),Q_=()=>ks(K_);function yl(e,t,n){return o0(e,t,n)}function o0(e,t,n=en){const{immediate:r,deep:i,flush:s,once:o}=n,a=vr({},n),u=t&&r||!t&&s!=="post";let h;if(Mu){if(s==="sync"){const m=Q_();h=m.__watcherHandles||(m.__watcherHandles=[])}else if(!u){const m=()=>{};return m.stop=Xi,m.resume=Xi,m.pause=Xi,m}}const d=pr;a.call=(m,P,I)=>rs(m,d,P,I);let g=!1;s==="post"?a.scheduler=m=>{Ir(m,d&&d.suspense)}:s!=="sync"&&(g=!0,a.scheduler=(m,P)=>{P?m():yp(m)}),a.augmentJob=m=>{t&&(m.flags|=4),g&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const _=c_(e,t,a);return Mu&&(h?h.push(_):u&&_()),_}function Y_(e,t,n){const r=this.proxy,i=Pn(e)?e.includes(".")?a0(r,e):()=>r[e]:e.bind(r,r);let s;be(t)?s=t:(s=t.handler,n=t);const o=Ju(this),a=o0(i,s.bind(r),n);return o(),a}function a0(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const J_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${hi(t)}Modifiers`]||e[`${Ea(t)}Modifiers`];function X_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||en;let i=n;const s=t.startsWith("update:"),o=s&&J_(r,t.slice(7));o&&(o.trim&&(i=n.map(d=>Pn(d)?d.trim():d)),o.number&&(i=n.map(eh)));let a,u=r[a=Lf(t)]||r[a=Lf(hi(t))];!u&&s&&(u=r[a=Lf(Ea(t))]),u&&rs(u,e,6,i);const h=r[a+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,rs(h,e,6,i)}}function l0(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!be(e)){const u=h=>{const d=l0(h,t,!0);d&&(a=!0,vr(o,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!a?(an(e)&&r.set(e,null),null):(de(s)?s.forEach(u=>o[u]=null):vr(o,s),an(e)&&r.set(e,o),o)}function qh(e,t){return!e||!Lh(t)?!1:(t=t.slice(2).replace(/Once$/,""),ze(e,t[0].toLowerCase()+t.slice(1))||ze(e,Ea(t))||ze(e,t))}function Z1(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:u,render:h,renderCache:d,props:g,data:_,setupState:m,ctx:P,inheritAttrs:I}=e,M=ih(e);let C,k;try{if(n.shapeFlag&4){const tt=i||r,_t=tt;C=Qi(h.call(_t,tt,d,g,m,_,P)),k=a}else{const tt=t;C=Qi(tt.length>1?tt(g,{attrs:a,slots:o,emit:u}):tt(g,null)),k=t.props?a:Z_(a)}}catch(tt){xu.length=0,Vh(tt,e,1),C=Zn(ba)}let H=C;if(k&&I!==!1){const tt=Object.keys(k),{shapeFlag:_t}=H;tt.length&&_t&7&&(s&&tt.some(op)&&(k=tb(k,s)),H=Tl(H,k,!1,!0))}return n.dirs&&(H=Tl(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&_p(H,n.transition),C=H,ih(M),C}const Z_=e=>{let t;for(const n in e)(n==="class"||n==="style"||Lh(n))&&((t||(t={}))[n]=e[n]);return t},tb=(e,t)=>{const n={};for(const r in e)(!op(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function eb(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:u}=t,h=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?tg(r,o,h):!!o;if(u&8){const d=t.dynamicProps;for(let g=0;g<d.length;g++){const _=d[g];if(o[_]!==r[_]&&!qh(h,_))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?tg(r,o,h):!0:!!o;return!1}function tg(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!qh(n,s))return!0}return!1}function nb({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const u0=e=>e.__isSuspense;function rb(e,t){t&&t.pendingBranch?de(e)?t.effects.push(...e):t.effects.push(e):d_(e)}const Mn=Symbol.for("v-fgt"),Uh=Symbol.for("v-txt"),ba=Symbol.for("v-cmt"),Mf=Symbol.for("v-stc"),xu=[];let Jr=null;function Le(e=!1){xu.push(Jr=e?null:[])}function ib(){xu.pop(),Jr=xu[xu.length-1]||null}let Fu=1;function eg(e,t=!1){Fu+=e,e<0&&Jr&&t&&(Jr.hasOnce=!0)}function c0(e){return e.dynamicChildren=Fu>0?Jr||fl:null,ib(),Fu>0&&Jr&&Jr.push(e),e}function Je(e,t,n,r,i,s){return c0(ft(e,t,n,r,i,s,!0))}function ul(e,t,n,r,i){return c0(Zn(e,t,n,r,i,!0))}function ah(e){return e?e.__v_isVNode===!0:!1}function uu(e,t){return e.type===t.type&&e.key===t.key}const h0=({key:e})=>e??null,zc=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Pn(e)||mr(e)||be(e)?{i:Yr,r:e,k:t,f:!!n}:e:null);function ft(e,t=null,n=null,r=0,i=null,s=e===Mn?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&h0(t),ref:t&&zc(t),scopeId:V2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Yr};return a?(Ap(u,n),s&128&&e.normalize(u)):n&&(u.shapeFlag|=Pn(n)?8:16),Fu>0&&!o&&Jr&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Jr.push(u),u}const Zn=sb;function sb(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===P_)&&(e=ba),ah(e)){const a=Tl(e,t,!0);return n&&Ap(a,n),Fu>0&&!s&&Jr&&(a.shapeFlag&6?Jr[Jr.indexOf(e)]=a:Jr.push(a)),a.patchFlag=-2,a}if(mb(e)&&(e=e.__vccOpts),t){t=ob(t);let{class:a,style:u}=t;a&&!Pn(a)&&(t.class=Ml(a)),an(u)&&(mp(u)&&!de(u)&&(u=vr({},u)),t.style=up(u))}const o=Pn(e)?1:u0(e)?128:p_(e)?64:an(e)?4:be(e)?2:0;return ft(e,t,n,r,i,o,s,!0)}function ob(e){return e?mp(e)||X2(e)?vr({},e):e:null}function Tl(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:u}=e,h=t?ab(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&h0(h),ref:t&&t.ref?n&&s?de(s)?s.concat(zc(t)):[s,zc(t)]:zc(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Mn?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Tl(e.ssContent),ssFallback:e.ssFallback&&Tl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&_p(d,u.clone(d)),d}function Yi(e=" ",t=0){return Zn(Uh,null,e,t)}function cl(e="",t=!1){return t?(Le(),ul(ba,null,e)):Zn(ba,null,e)}function Qi(e){return e==null||typeof e=="boolean"?Zn(ba):de(e)?Zn(Mn,null,e.slice()):ah(e)?bo(e):Zn(Uh,null,String(e))}function bo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Tl(e)}function Ap(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(de(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Ap(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!X2(t)?t._ctx=Yr:i===3&&Yr&&(Yr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else be(t)?(t={default:t,_ctx:Yr},n=32):(t=String(t),r&64?(n=16,t=[Yi(t)]):n=8);e.children=t,e.shapeFlag|=n}function ab(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Ml([t.class,r.class]));else if(i==="style")t.style=up([t.style,r.style]);else if(Lh(i)){const s=t[i],o=r[i];o&&s!==o&&!(de(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function Hi(e,t,n,r=null){rs(e,t,7,[n,r])}const lb=Q2();let ub=0;function cb(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||lb,s={uid:ub++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new My(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:t0(r,i),emitsOptions:l0(r,i),emit:null,emitted:null,propsDefaults:en,inheritAttrs:r.inheritAttrs,ctx:en,data:en,props:en,attrs:en,slots:en,refs:en,setupState:en,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=X_.bind(null,s),e.ce&&e.ce(s),s}let pr=null,lh,_d;{const e=Dh(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};lh=t("__VUE_INSTANCE_SETTERS__",n=>pr=n),_d=t("__VUE_SSR_SETTERS__",n=>Mu=n)}const Ju=e=>{const t=pr;return lh(e),e.scope.on(),()=>{e.scope.off(),lh(t)}},ng=()=>{pr&&pr.scope.off(),lh(null)};function f0(e){return e.vnode.shapeFlag&4}let Mu=!1;function hb(e,t=!1,n=!1){t&&_d(t);const{props:r,children:i}=e.vnode,s=f0(e);V_(e,r,s,t),U_(e,i,n);const o=s?fb(e,t):void 0;return t&&_d(!1),o}function fb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,L_);const{setup:r}=n;if(r){jo();const i=e.setupContext=r.length>1?pb(e):null,s=Ju(e),o=Yu(r,e,0,[e.props,i]),a=u2(o);if(Bo(),s(),(a||e.sp)&&!Eu(e)&&z2(e),a){if(o.then(ng,ng),t)return o.then(u=>{rg(e,u)}).catch(u=>{Vh(u,e,0)});e.asyncDep=o}else rg(e,o)}else d0(e)}function rg(e,t,n){be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:an(t)&&(e.setupState=k2(t)),d0(e)}function d0(e,t,n){const r=e.type;e.render||(e.render=r.render||Xi);{const i=Ju(e);jo();try{C_(e)}finally{Bo(),i()}}}const db={get(e,t){return hr(e,"get",""),e[t]}};function pb(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,db),slots:e.slots,emit:e.emit,expose:t}}function zh(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(k2(r_(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Su)return Su[n](e)},has(t,n){return n in t||n in Su}})):e.proxy}function gb(e,t=!0){return be(e)?e.displayName||e.name:e.name||t&&e.__name}function mb(e){return be(e)&&"__vccOpts"in e}const Tn=(e,t)=>l_(e,t,Mu);function p0(e,t,n){const r=arguments.length;return r===2?an(t)&&!de(t)?ah(t)?Zn(e,null,[t]):Zn(e,t):Zn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ah(n)&&(n=[n]),Zn(e,t,n))}const vb="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bd;const ig=typeof window<"u"&&window.trustedTypes;if(ig)try{bd=ig.createPolicy("vue",{createHTML:e=>e})}catch{}const g0=bd?e=>bd.createHTML(e):e=>e,yb="http://www.w3.org/2000/svg",_b="http://www.w3.org/1998/Math/MathML",Ps=typeof document<"u"?document:null,sg=Ps&&Ps.createElement("template"),bb={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Ps.createElementNS(yb,e):t==="mathml"?Ps.createElementNS(_b,e):n?Ps.createElement(e,{is:n}):Ps.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ps.createTextNode(e),createComment:e=>Ps.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ps.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{sg.innerHTML=g0(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=sg.content;if(r==="svg"||r==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},wb=Symbol("_vtc");function Ab(e,t,n){const r=e[wb];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const og=Symbol("_vod"),Eb=Symbol("_vsh"),Sb=Symbol(""),xb=/(^|;)\s*display\s*:/;function Ib(e,t,n){const r=e.style,i=Pn(n);let s=!1;if(n&&!i){if(t)if(Pn(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&$c(r,a,"")}else for(const o in t)n[o]==null&&$c(r,o,"");for(const o in n)o==="display"&&(s=!0),$c(r,o,n[o])}else if(i){if(t!==n){const o=r[Sb];o&&(n+=";"+o),r.cssText=n,s=xb.test(n)}}else t&&e.removeAttribute("style");og in e&&(e[og]=s?r.display:"",e[Eb]&&(r.display="none"))}const ag=/\s*!important$/;function $c(e,t,n){if(de(n))n.forEach(r=>$c(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Tb(e,t);ag.test(n)?e.setProperty(Ea(r),n.replace(ag,""),"important"):e[r]=n}}const lg=["Webkit","Moz","ms"],Vf={};function Tb(e,t){const n=Vf[t];if(n)return n;let r=hi(t);if(r!=="filter"&&r in e)return Vf[t]=r;r=kh(r);for(let i=0;i<lg.length;i++){const s=lg[i]+r;if(s in e)return Vf[t]=s}return t}const ug="http://www.w3.org/1999/xlink";function cg(e,t,n,r,i,s=Dy(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(ug,t.slice(6,t.length)):e.setAttributeNS(ug,t,n):n==null||s&&!d2(n)?e.removeAttribute(t):e.setAttribute(t,s?"":ns(n)?String(n):n)}function hg(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?g0(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=d2(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function pa(e,t,n,r){e.addEventListener(t,n,r)}function Pb(e,t,n,r){e.removeEventListener(t,n,r)}const fg=Symbol("_vei");function Nb(e,t,n,r,i=null){const s=e[fg]||(e[fg]={}),o=s[t];if(r&&o)o.value=r;else{const[a,u]=Lb(t);if(r){const h=s[t]=kb(r,i);pa(e,a,h,u)}else o&&(Pb(e,a,o,u),s[t]=void 0)}}const dg=/(?:Once|Passive|Capture)$/;function Lb(e){let t;if(dg.test(e)){t={};let r;for(;r=e.match(dg);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ea(e.slice(2)),t]}let jf=0;const Cb=Promise.resolve(),Rb=()=>jf||(Cb.then(()=>jf=0),jf=Date.now());function kb(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;rs(Db(r,n.value),t,5,[r])};return n.value=e,n.attached=Rb(),n}function Db(e,t){if(de(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const pg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ob=(e,t,n,r,i,s)=>{const o=i==="svg";t==="class"?Ab(e,r,o):t==="style"?Ib(e,n,r):Lh(t)?op(t)||Nb(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Fb(e,t,r,o))?(hg(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&cg(e,t,r,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Pn(r))?hg(e,hi(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),cg(e,t,r,o))};function Fb(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&pg(t)&&be(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return pg(t)&&Pn(n)?!1:t in e}const uh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return de(t)?n=>jc(t,n):t};function Mb(e){e.target.composing=!0}function gg(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _l=Symbol("_assign"),Me={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[_l]=uh(i);const s=r||i.props&&i.props.type==="number";pa(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=eh(a)),e[_l](a)}),n&&pa(e,"change",()=>{e.value=e.value.trim()}),t||(pa(e,"compositionstart",Mb),pa(e,"compositionend",gg),pa(e,"change",gg))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(e[_l]=uh(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?eh(e.value):e.value,u=t??"";a!==u&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===u)||(e.value=u))}},Vb={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=Ch(t);pa(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?eh(ch(o)):ch(o));e[_l](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,vp(()=>{e._assigning=!1})}),e[_l]=uh(r)},mounted(e,{value:t}){mg(e,t)},beforeUpdate(e,t,n){e[_l]=uh(n)},updated(e,{value:t}){e._assigning||mg(e,t)}};function mg(e,t){const n=e.multiple,r=de(t);if(!(n&&!r&&!Ch(t))){for(let i=0,s=e.options.length;i<s;i++){const o=e.options[i],a=ch(o);if(n)if(r){const u=typeof a;u==="string"||u==="number"?o.selected=t.some(h=>String(h)===String(a)):o.selected=Fy(t,a)>-1}else o.selected=t.has(a);else if(Oh(ch(o),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ch(e){return"_value"in e?e._value:e.value}const jb=["ctrl","shift","alt","meta"],Bb={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>jb.some(n=>e[`${n}Key`]&&!t.includes(n))},wd=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<t.length;o++){const a=Bb[t[o]];if(a&&a(i,t))return}return e(i,...s)})},qb=vr({patchProp:Ob},bb);let vg;function Ub(){return vg||(vg=$_(qb))}const zb=(...e)=>{const t=Ub().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Hb(r);if(!i)return;const s=t._component;!be(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,$b(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function $b(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Hb(e){return Pn(e)?document.querySelector(e):e}const Wb=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Gb={};function Kb(e,t){const n=H1("router-link"),r=H1("router-view");return Le(),Je("div",null,[ft("nav",null,[Zn(n,{to:"/"},{default:Bc(()=>t[0]||(t[0]=[Yi("Gestor Stock")])),_:1}),t[3]||(t[3]=Yi(" | ")),Zn(n,{to:"/clientes"},{default:Bc(()=>t[1]||(t[1]=[Yi("Clientes")])),_:1}),t[4]||(t[4]=Yi("| ")),Zn(n,{to:"/nota-pedido"},{default:Bc(()=>t[2]||(t[2]=[Yi("Nota Pedido")])),_:1})]),Zn(r)])}const Qb=Wb(Gb,[["render",Kb]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const nl=typeof document<"u";function m0(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Yb(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&m0(e.default)}const qe=Object.assign;function Bf(e,t){const n={};for(const r in t){const i=t[r];n[r]=Pi(i)?i.map(e):e(i)}return n}const Iu=()=>{},Pi=Array.isArray,v0=/#/g,Jb=/&/g,Xb=/\//g,Zb=/=/g,tw=/\?/g,y0=/\+/g,ew=/%5B/g,nw=/%5D/g,_0=/%5E/g,rw=/%60/g,b0=/%7B/g,iw=/%7C/g,w0=/%7D/g,sw=/%20/g;function Ep(e){return encodeURI(""+e).replace(iw,"|").replace(ew,"[").replace(nw,"]")}function ow(e){return Ep(e).replace(b0,"{").replace(w0,"}").replace(_0,"^")}function Ad(e){return Ep(e).replace(y0,"%2B").replace(sw,"+").replace(v0,"%23").replace(Jb,"%26").replace(rw,"`").replace(b0,"{").replace(w0,"}").replace(_0,"^")}function aw(e){return Ad(e).replace(Zb,"%3D")}function lw(e){return Ep(e).replace(v0,"%23").replace(tw,"%3F")}function uw(e){return e==null?"":lw(e).replace(Xb,"%2F")}function Vu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const cw=/\/$/,hw=e=>e.replace(cw,"");function qf(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let u=t.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(r=t.slice(0,u),s=t.slice(u+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=gw(r??t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Vu(o)}}function fw(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function yg(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function dw(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Pl(t.matched[r],n.matched[i])&&A0(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Pl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function A0(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!pw(e[n],t[n]))return!1;return!0}function pw(e,t){return Pi(e)?_g(e,t):Pi(t)?_g(t,e):e===t}function _g(e,t){return Pi(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function gw(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const mo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ju;(function(e){e.pop="pop",e.push="push"})(ju||(ju={}));var Tu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Tu||(Tu={}));function mw(e){if(!e)if(nl){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),hw(e)}const vw=/^[^#]+#/;function yw(e,t){return e.replace(vw,"#")+t}function _w(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const $h=()=>({left:window.scrollX,top:window.scrollY});function bw(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=_w(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function bg(e,t){return(history.state?history.state.position-t:-1)+e}const Ed=new Map;function ww(e,t){Ed.set(e,t)}function Aw(e){const t=Ed.get(e);return Ed.delete(e),t}let Ew=()=>location.protocol+"//"+location.host;function E0(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,u=i.slice(a);return u[0]!=="/"&&(u="/"+u),yg(u,"")}return yg(n,e)+r+i}function Sw(e,t,n,r){let i=[],s=[],o=null;const a=({state:_})=>{const m=E0(e,location),P=n.value,I=t.value;let M=0;if(_){if(n.value=m,t.value=_,o&&o===P){o=null;return}M=I?_.position-I.position:0}else r(m);i.forEach(C=>{C(n.value,P,{delta:M,type:ju.pop,direction:M?M>0?Tu.forward:Tu.back:Tu.unknown})})};function u(){o=n.value}function h(_){i.push(_);const m=()=>{const P=i.indexOf(_);P>-1&&i.splice(P,1)};return s.push(m),m}function d(){const{history:_}=window;_.state&&_.replaceState(qe({},_.state,{scroll:$h()}),"")}function g(){for(const _ of s)_();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:h,destroy:g}}function wg(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?$h():null}}function xw(e){const{history:t,location:n}=window,r={value:E0(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(u,h,d){const g=e.indexOf("#"),_=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+u:Ew()+e+u;try{t[d?"replaceState":"pushState"](h,"",_),i.value=h}catch(m){console.error(m),n[d?"replace":"assign"](_)}}function o(u,h){const d=qe({},t.state,wg(i.value.back,u,i.value.forward,!0),h,{position:i.value.position});s(u,d,!0),r.value=u}function a(u,h){const d=qe({},i.value,t.state,{forward:u,scroll:$h()});s(d.current,d,!0);const g=qe({},wg(r.value,u,null),{position:d.position+1},h);s(u,g,!1),r.value=u}return{location:r,state:i,push:a,replace:o}}function Iw(e){e=mw(e);const t=xw(e),n=Sw(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=qe({location:"",base:e,go:r,createHref:yw.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Tw(e){return typeof e=="string"||e&&typeof e=="object"}function S0(e){return typeof e=="string"||typeof e=="symbol"}const x0=Symbol("");var Ag;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ag||(Ag={}));function Nl(e,t){return qe(new Error,{type:e,[x0]:!0},t)}function Is(e,t){return e instanceof Error&&x0 in e&&(t==null||!!(e.type&t))}const Eg="[^/]+?",Pw={sensitive:!1,strict:!1,start:!0,end:!0},Nw=/[.+*?^${}()[\]/\\]/g;function Lw(e,t){const n=qe({},Pw,t),r=[];let i=n.start?"^":"";const s=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let g=0;g<h.length;g++){const _=h[g];let m=40+(n.sensitive?.25:0);if(_.type===0)g||(i+="/"),i+=_.value.replace(Nw,"\\$&"),m+=40;else if(_.type===1){const{value:P,repeatable:I,optional:M,regexp:C}=_;s.push({name:P,repeatable:I,optional:M});const k=C||Eg;if(k!==Eg){m+=10;try{new RegExp(`(${k})`)}catch(tt){throw new Error(`Invalid custom RegExp for param "${P}" (${k}): `+tt.message)}}let H=I?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;g||(H=M&&h.length<2?`(?:/${H})`:"/"+H),M&&(H+="?"),i+=H,m+=20,M&&(m+=-8),I&&(m+=-20),k===".*"&&(m+=-50)}d.push(m)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(h){const d=h.match(o),g={};if(!d)return null;for(let _=1;_<d.length;_++){const m=d[_]||"",P=s[_-1];g[P.name]=m&&P.repeatable?m.split("/"):m}return g}function u(h){let d="",g=!1;for(const _ of e){(!g||!d.endsWith("/"))&&(d+="/"),g=!1;for(const m of _)if(m.type===0)d+=m.value;else if(m.type===1){const{value:P,repeatable:I,optional:M}=m,C=P in h?h[P]:"";if(Pi(C)&&!I)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const k=Pi(C)?C.join("/"):C;if(!k)if(M)_.length<2&&(d.endsWith("/")?d=d.slice(0,-1):g=!0);else throw new Error(`Missing required param "${P}"`);d+=k}}return d||"/"}return{re:o,score:r,keys:s,parse:a,stringify:u}}function Cw(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function I0(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=Cw(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Sg(r))return 1;if(Sg(i))return-1}return i.length-r.length}function Sg(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Rw={type:0,value:""},kw=/[a-zA-Z0-9_]/;function Dw(e){if(!e)return[[]];if(e==="/")return[[Rw]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${h}": ${m}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,u,h="",d="";function g(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),h="")}function _(){h+=u}for(;a<e.length;){if(u=e[a++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(h&&g(),o()):u===":"?(g(),n=1):_();break;case 4:_(),n=r;break;case 1:u==="("?n=2:kw.test(u)?_():(g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),g(),o(),i}function Ow(e,t,n){const r=Lw(Dw(e.path),n),i=qe(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Fw(e,t){const n=[],r=new Map;t=Pg({strict:!1,end:!0,sensitive:!1},t);function i(g){return r.get(g)}function s(g,_,m){const P=!m,I=Ig(g);I.aliasOf=m&&m.record;const M=Pg(t,g),C=[I];if("alias"in g){const tt=typeof g.alias=="string"?[g.alias]:g.alias;for(const _t of tt)C.push(Ig(qe({},I,{components:m?m.record.components:I.components,path:_t,aliasOf:m?m.record:I})))}let k,H;for(const tt of C){const{path:_t}=tt;if(_&&_t[0]!=="/"){const Pt=_.record.path,O=Pt[Pt.length-1]==="/"?"":"/";tt.path=_.record.path+(_t&&O+_t)}if(k=Ow(tt,_,M),m?m.alias.push(k):(H=H||k,H!==k&&H.alias.push(k),P&&g.name&&!Tg(k)&&o(g.name)),T0(k)&&u(k),I.children){const Pt=I.children;for(let O=0;O<Pt.length;O++)s(Pt[O],k,m&&m.children[O])}m=m||k}return H?()=>{o(H)}:Iu}function o(g){if(S0(g)){const _=r.get(g);_&&(r.delete(g),n.splice(n.indexOf(_),1),_.children.forEach(o),_.alias.forEach(o))}else{const _=n.indexOf(g);_>-1&&(n.splice(_,1),g.record.name&&r.delete(g.record.name),g.children.forEach(o),g.alias.forEach(o))}}function a(){return n}function u(g){const _=jw(g,n);n.splice(_,0,g),g.record.name&&!Tg(g)&&r.set(g.record.name,g)}function h(g,_){let m,P={},I,M;if("name"in g&&g.name){if(m=r.get(g.name),!m)throw Nl(1,{location:g});M=m.record.name,P=qe(xg(_.params,m.keys.filter(H=>!H.optional).concat(m.parent?m.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),g.params&&xg(g.params,m.keys.map(H=>H.name))),I=m.stringify(P)}else if(g.path!=null)I=g.path,m=n.find(H=>H.re.test(I)),m&&(P=m.parse(I),M=m.record.name);else{if(m=_.name?r.get(_.name):n.find(H=>H.re.test(_.path)),!m)throw Nl(1,{location:g,currentLocation:_});M=m.record.name,P=qe({},_.params,g.params),I=m.stringify(P)}const C=[];let k=m;for(;k;)C.unshift(k.record),k=k.parent;return{name:M,path:I,params:P,matched:C,meta:Vw(C)}}e.forEach(g=>s(g));function d(){n.length=0,r.clear()}return{addRoute:s,resolve:h,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:i}}function xg(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Ig(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Mw(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Mw(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Tg(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Vw(e){return e.reduce((t,n)=>qe(t,n.meta),{})}function Pg(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function jw(e,t){let n=0,r=t.length;for(;n!==r;){const s=n+r>>1;I0(e,t[s])<0?r=s:n=s+1}const i=Bw(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function Bw(e){let t=e;for(;t=t.parent;)if(T0(t)&&I0(e,t)===0)return t}function T0({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function qw(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(y0," "),o=s.indexOf("="),a=Vu(o<0?s:s.slice(0,o)),u=o<0?null:Vu(s.slice(o+1));if(a in t){let h=t[a];Pi(h)||(h=t[a]=[h]),h.push(u)}else t[a]=u}return t}function Ng(e){let t="";for(let n in e){const r=e[n];if(n=aw(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Pi(r)?r.map(s=>s&&Ad(s)):[r&&Ad(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Uw(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Pi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const zw=Symbol(""),Lg=Symbol(""),Sp=Symbol(""),P0=Symbol(""),Sd=Symbol("");function cu(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function wo(e,t,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,u)=>{const h=_=>{_===!1?u(Nl(4,{from:n,to:t})):_ instanceof Error?u(_):Tw(_)?u(Nl(2,{from:t,to:_})):(o&&r.enterCallbacks[i]===o&&typeof _=="function"&&o.push(_),a())},d=s(()=>e.call(r&&r.instances[i],t,n,h));let g=Promise.resolve(d);e.length<3&&(g=g.then(h)),g.catch(_=>u(_))})}function Uf(e,t,n,r,i=s=>s()){const s=[];for(const o of e)for(const a in o.components){let u=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(m0(u)){const d=(u.__vccOpts||u)[t];d&&s.push(wo(d,n,r,o,a,i))}else{let h=u();s.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const g=Yb(d)?d.default:d;o.mods[a]=d,o.components[a]=g;const m=(g.__vccOpts||g)[t];return m&&wo(m,n,r,o,a,i)()}))}}return s}function Cg(e){const t=ks(Sp),n=ks(P0),r=Tn(()=>{const u=gl(e.to);return t.resolve(u)}),i=Tn(()=>{const{matched:u}=r.value,{length:h}=u,d=u[h-1],g=n.matched;if(!d||!g.length)return-1;const _=g.findIndex(Pl.bind(null,d));if(_>-1)return _;const m=Rg(u[h-2]);return h>1&&Rg(d)===m&&g[g.length-1].path!==m?g.findIndex(Pl.bind(null,u[h-2])):_}),s=Tn(()=>i.value>-1&&Kw(n.params,r.value.params)),o=Tn(()=>i.value>-1&&i.value===n.matched.length-1&&A0(n.params,r.value.params));function a(u={}){if(Gw(u)){const h=t[gl(e.replace)?"replace":"push"](gl(e.to)).catch(Iu);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Tn(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function $w(e){return e.length===1?e[0]:e}const Hw=U2({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cg,setup(e,{slots:t}){const n=Mh(Cg(e)),{options:r}=ks(Sp),i=Tn(()=>({[kg(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[kg(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&$w(t.default(n));return e.custom?s:p0("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Ww=Hw;function Gw(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Kw(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Pi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Rg(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const kg=(e,t,n)=>e??t??n,Qw=U2({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ks(Sd),i=Tn(()=>e.route||r.value),s=ks(Lg,0),o=Tn(()=>{let h=gl(s);const{matched:d}=i.value;let g;for(;(g=d[h])&&!g.components;)h++;return h}),a=Tn(()=>i.value.matched[o.value]);Uc(Lg,Tn(()=>o.value+1)),Uc(zw,a),Uc(Sd,i);const u=Ve();return yl(()=>[u.value,a.value,e.name],([h,d,g],[_,m,P])=>{d&&(d.instances[g]=h,m&&m!==d&&h&&h===_&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),h&&d&&(!m||!Pl(d,m)||!_)&&(d.enterCallbacks[g]||[]).forEach(I=>I(h))},{flush:"post"}),()=>{const h=i.value,d=e.name,g=a.value,_=g&&g.components[d];if(!_)return Dg(n.default,{Component:_,route:h});const m=g.props[d],P=m?m===!0?h.params:typeof m=="function"?m(h):m:null,M=p0(_,qe({},P,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(g.instances[d]=null)},ref:u}));return Dg(n.default,{Component:M,route:h})||M}}});function Dg(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Yw=Qw;function Jw(e){const t=Fw(e.routes,e),n=e.parseQuery||qw,r=e.stringifyQuery||Ng,i=e.history,s=cu(),o=cu(),a=cu(),u=i_(mo);let h=mo;nl&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Bf.bind(null,G=>""+G),g=Bf.bind(null,uw),_=Bf.bind(null,Vu);function m(G,ot){let X,It;return S0(G)?(X=t.getRecordMatcher(G),It=ot):It=G,t.addRoute(It,X)}function P(G){const ot=t.getRecordMatcher(G);ot&&t.removeRoute(ot)}function I(){return t.getRoutes().map(G=>G.record)}function M(G){return!!t.getRecordMatcher(G)}function C(G,ot){if(ot=qe({},ot||u.value),typeof G=="string"){const rt=qf(n,G,ot.path),Z=t.resolve({path:rt.path},ot),j=i.createHref(rt.fullPath);return qe(rt,Z,{params:_(Z.params),hash:Vu(rt.hash),redirectedFrom:void 0,href:j})}let X;if(G.path!=null)X=qe({},G,{path:qf(n,G.path,ot.path).path});else{const rt=qe({},G.params);for(const Z in rt)rt[Z]==null&&delete rt[Z];X=qe({},G,{params:g(rt)}),ot.params=g(ot.params)}const It=t.resolve(X,ot),Rt=G.hash||"";It.params=d(_(It.params));const $=fw(r,qe({},G,{hash:ow(Rt),path:It.path})),z=i.createHref($);return qe({fullPath:$,hash:Rt,query:r===Ng?Uw(G.query):G.query||{}},It,{redirectedFrom:void 0,href:z})}function k(G){return typeof G=="string"?qf(n,G,u.value.path):qe({},G)}function H(G,ot){if(h!==G)return Nl(8,{from:ot,to:G})}function tt(G){return O(G)}function _t(G){return tt(qe(k(G),{replace:!0}))}function Pt(G){const ot=G.matched[G.matched.length-1];if(ot&&ot.redirect){const{redirect:X}=ot;let It=typeof X=="function"?X(G):X;return typeof It=="string"&&(It=It.includes("?")||It.includes("#")?It=k(It):{path:It},It.params={}),qe({query:G.query,hash:G.hash,params:It.path!=null?{}:G.params},It)}}function O(G,ot){const X=h=C(G),It=u.value,Rt=G.state,$=G.force,z=G.replace===!0,rt=Pt(X);if(rt)return O(qe(k(rt),{state:typeof rt=="object"?qe({},Rt,rt.state):Rt,force:$,replace:z}),ot||X);const Z=X;Z.redirectedFrom=ot;let j;return!$&&dw(r,It,X)&&(j=Nl(16,{to:Z,from:It}),$t(It,It,!0,!1)),(j?Promise.resolve(j):U(Z,It)).catch(Tt=>Is(Tt)?Is(Tt,2)?Tt:st(Tt):nt(Tt,Z,It)).then(Tt=>{if(Tt){if(Is(Tt,2))return O(qe({replace:z},k(Tt.to),{state:typeof Tt.to=="object"?qe({},Rt,Tt.to.state):Rt,force:$}),ot||Z)}else Tt=S(Z,It,!0,z,Rt);return E(Z,It,Tt),Tt})}function b(G,ot){const X=H(G,ot);return X?Promise.reject(X):Promise.resolve()}function x(G){const ot=J.values().next().value;return ot&&typeof ot.runWithContext=="function"?ot.runWithContext(G):G()}function U(G,ot){let X;const[It,Rt,$]=Xw(G,ot);X=Uf(It.reverse(),"beforeRouteLeave",G,ot);for(const rt of It)rt.leaveGuards.forEach(Z=>{X.push(wo(Z,G,ot))});const z=b.bind(null,G,ot);return X.push(z),ht(X).then(()=>{X=[];for(const rt of s.list())X.push(wo(rt,G,ot));return X.push(z),ht(X)}).then(()=>{X=Uf(Rt,"beforeRouteUpdate",G,ot);for(const rt of Rt)rt.updateGuards.forEach(Z=>{X.push(wo(Z,G,ot))});return X.push(z),ht(X)}).then(()=>{X=[];for(const rt of $)if(rt.beforeEnter)if(Pi(rt.beforeEnter))for(const Z of rt.beforeEnter)X.push(wo(Z,G,ot));else X.push(wo(rt.beforeEnter,G,ot));return X.push(z),ht(X)}).then(()=>(G.matched.forEach(rt=>rt.enterCallbacks={}),X=Uf($,"beforeRouteEnter",G,ot,x),X.push(z),ht(X))).then(()=>{X=[];for(const rt of o.list())X.push(wo(rt,G,ot));return X.push(z),ht(X)}).catch(rt=>Is(rt,8)?rt:Promise.reject(rt))}function E(G,ot,X){a.list().forEach(It=>x(()=>It(G,ot,X)))}function S(G,ot,X,It,Rt){const $=H(G,ot);if($)return $;const z=ot===mo,rt=nl?history.state:{};X&&(It||z?i.replace(G.fullPath,qe({scroll:z&&rt&&rt.scroll},Rt)):i.push(G.fullPath,Rt)),u.value=G,$t(G,ot,X,z),st()}let T;function et(){T||(T=i.listen((G,ot,X)=>{if(!it.listening)return;const It=C(G),Rt=Pt(It);if(Rt){O(qe(Rt,{replace:!0,force:!0}),It).catch(Iu);return}h=It;const $=u.value;nl&&ww(bg($.fullPath,X.delta),$h()),U(It,$).catch(z=>Is(z,12)?z:Is(z,2)?(O(qe(k(z.to),{force:!0}),It).then(rt=>{Is(rt,20)&&!X.delta&&X.type===ju.pop&&i.go(-1,!1)}).catch(Iu),Promise.reject()):(X.delta&&i.go(-X.delta,!1),nt(z,It,$))).then(z=>{z=z||S(It,$,!1),z&&(X.delta&&!Is(z,8)?i.go(-X.delta,!1):X.type===ju.pop&&Is(z,20)&&i.go(-1,!1)),E(It,$,z)}).catch(Iu)}))}let pt=cu(),Q=cu(),lt;function nt(G,ot,X){st(G);const It=Q.list();return It.length?It.forEach(Rt=>Rt(G,ot,X)):console.error(G),Promise.reject(G)}function At(){return lt&&u.value!==mo?Promise.resolve():new Promise((G,ot)=>{pt.add([G,ot])})}function st(G){return lt||(lt=!G,et(),pt.list().forEach(([ot,X])=>G?X(G):ot()),pt.reset()),G}function $t(G,ot,X,It){const{scrollBehavior:Rt}=e;if(!nl||!Rt)return Promise.resolve();const $=!X&&Aw(bg(G.fullPath,0))||(It||!X)&&history.state&&history.state.scroll||null;return vp().then(()=>Rt(G,ot,$)).then(z=>z&&bw(z)).catch(z=>nt(z,G,ot))}const R=G=>i.go(G);let W;const J=new Set,it={currentRoute:u,listening:!0,addRoute:m,removeRoute:P,clearRoutes:t.clearRoutes,hasRoute:M,getRoutes:I,resolve:C,options:e,push:tt,replace:_t,go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:Q.add,isReady:At,install(G){const ot=this;G.component("RouterLink",Ww),G.component("RouterView",Yw),G.config.globalProperties.$router=ot,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>gl(u)}),nl&&!W&&u.value===mo&&(W=!0,tt(i.location).catch(Rt=>{}));const X={};for(const Rt in mo)Object.defineProperty(X,Rt,{get:()=>u.value[Rt],enumerable:!0});G.provide(Sp,ot),G.provide(P0,L2(X)),G.provide(Sd,u);const It=G.unmount;J.add(G),G.unmount=function(){J.delete(G),J.size<1&&(h=mo,T&&T(),T=null,u.value=mo,W=!1,lt=!1),It()}}};function ht(G){return G.reduce((ot,X)=>ot.then(()=>x(X)),Promise.resolve())}return it}function Xw(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(h=>Pl(h,a))?r.push(a):n.push(a));const u=e.matched[o];u&&(t.matched.find(h=>Pl(h,u))||i.push(u))}return[n,r,i]}const Zw=()=>{};var Og={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},t4=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},L0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,h=u?e[i+2]:0,d=s>>2,g=(s&3)<<4|a>>4;let _=(a&15)<<2|h>>6,m=h&63;u||(m=64,o||(_=64)),r.push(n[d],n[g],n[_],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(N0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):t4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const h=i<e.length?n[e.charAt(i)]:64;++i;const g=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||h==null||g==null)throw new e4;const _=s<<2|a>>4;if(r.push(_),h!==64){const m=a<<4&240|h>>2;if(r.push(m),g!==64){const P=h<<6&192|g;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class e4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n4=function(e){const t=N0(e);return L0.encodeByteArray(t,!0)},hh=function(e){return n4(e).replace(/\./g,"")},r4=function(e){try{return L0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=()=>i4().__FIREBASE_DEFAULTS__,o4=()=>{if(typeof process>"u"||typeof Og>"u")return;const e=Og.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},a4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&r4(e[1]);return t&&JSON.parse(t)},xp=()=>{try{return Zw()||s4()||o4()||a4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},l4=e=>{var t,n;return(n=(t=xp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},u4=e=>{const t=l4(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},C0=()=>{var e;return(e=xp())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[hh(JSON.stringify(n)),hh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d4(){var e;const t=(e=xp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p4(){return!d4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g4(){try{return typeof indexedDB=="object"}catch{return!1}}function m4(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="FirebaseError";class Vl extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=v4,Object.setPrototypeOf(this,Vl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R0.prototype.create)}}class R0{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?y4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Vl(i,a,r)}}function y4(e,t){return e.replace(_4,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const _4=/\{\$([^}]+)}/g;function fh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Fg(s)&&Fg(o)){if(!fh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(e){return e&&e._delegate?e._delegate:e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(e){return e.endsWith(".cloudworkstations.dev")}async function b4(e){return(await fetch(e,{credentials:"include"})).ok}class Bu{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new c4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(E4(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A4(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A4(e){return e===fa?void 0:e}function E4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new w4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ce||(Ce={}));const x4={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},I4=Ce.INFO,T4={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},P4=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=T4[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class D0{constructor(t){this.name=t,this._logLevel=I4,this._logHandler=P4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?x4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}const N4=(e,t)=>t.some(n=>e instanceof n);let Mg,Vg;function L4(){return Mg||(Mg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C4(){return Vg||(Vg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,xd=new WeakMap,F0=new WeakMap,zf=new WeakMap,Ip=new WeakMap;function R4(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Io(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&O0.set(n,e)}).catch(()=>{}),Ip.set(t,e),t}function k4(e){if(xd.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});xd.set(e,t)}let Id={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||F0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Io(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function D4(e){Id=e(Id)}function O4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call($f(this),t,...n);return F0.set(r,t.sort?t.sort():[t]),Io(r)}:C4().includes(e)?function(...t){return e.apply($f(this),t),Io(O0.get(this))}:function(...t){return Io(e.apply($f(this),t))}}function F4(e){return typeof e=="function"?O4(e):(e instanceof IDBTransaction&&k4(e),N4(e,L4())?new Proxy(e,Id):e)}function Io(e){if(e instanceof IDBRequest)return R4(e);if(zf.has(e))return zf.get(e);const t=F4(e);return t!==e&&(zf.set(e,t),Ip.set(t,e)),t}const $f=e=>Ip.get(e);function M4(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Io(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Io(o.result),u.oldVersion,u.newVersion,Io(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const V4=["get","getKey","getAll","getAllKeys","count"],j4=["put","add","delete","clear"],Hf=new Map;function jg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Hf.get(t))return Hf.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=j4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V4.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&u.done]))[0]};return Hf.set(t,s),s}D4(e=>({...e,get:(t,n,r)=>jg(t,n)||e.get(t,n,r),has:(t,n)=>!!jg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function q4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Td="@firebase/app",Bg="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new D0("@firebase/app"),U4="@firebase/app-compat",z4="@firebase/analytics-compat",$4="@firebase/analytics",H4="@firebase/app-check-compat",W4="@firebase/app-check",G4="@firebase/auth",K4="@firebase/auth-compat",Q4="@firebase/database",Y4="@firebase/data-connect",J4="@firebase/database-compat",X4="@firebase/functions",Z4="@firebase/functions-compat",t3="@firebase/installations",e3="@firebase/installations-compat",n3="@firebase/messaging",r3="@firebase/messaging-compat",i3="@firebase/performance",s3="@firebase/performance-compat",o3="@firebase/remote-config",a3="@firebase/remote-config-compat",l3="@firebase/storage",u3="@firebase/storage-compat",c3="@firebase/firestore",h3="@firebase/vertexai",f3="@firebase/firestore-compat",d3="firebase",p3="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="[DEFAULT]",g3={[Td]:"fire-core",[U4]:"fire-core-compat",[$4]:"fire-analytics",[z4]:"fire-analytics-compat",[W4]:"fire-app-check",[H4]:"fire-app-check-compat",[G4]:"fire-auth",[K4]:"fire-auth-compat",[Q4]:"fire-rtdb",[Y4]:"fire-data-connect",[J4]:"fire-rtdb-compat",[X4]:"fire-fn",[Z4]:"fire-fn-compat",[t3]:"fire-iid",[e3]:"fire-iid-compat",[n3]:"fire-fcm",[r3]:"fire-fcm-compat",[i3]:"fire-perf",[s3]:"fire-perf-compat",[o3]:"fire-rc",[a3]:"fire-rc-compat",[l3]:"fire-gcs",[u3]:"fire-gcs-compat",[c3]:"fire-fst",[f3]:"fire-fst-compat",[h3]:"fire-vertex","fire-js":"fire-js",[d3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,m3=new Map,Nd=new Map;function qg(e,t){try{e.container.addComponent(t)}catch(n){Os.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ph(e){const t=e.name;if(Nd.has(t))return Os.debug(`There were multiple attempts to register component ${t}.`),!1;Nd.set(t,e);for(const n of dh.values())qg(n,e);for(const n of m3.values())qg(n,e);return!0}function v3(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function y3(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new R0("app","Firebase",_3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=p3;function M0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Pd,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw To.create("bad-app-name",{appName:String(i)});if(n||(n=C0()),!n)throw To.create("no-options");const s=dh.get(i);if(s){if(fh(n,s.options)&&fh(r,s.config))return s;throw To.create("duplicate-app",{appName:i})}const o=new S4(i);for(const u of Nd.values())o.addComponent(u);const a=new b3(n,r,o);return dh.set(i,a),a}function A3(e=Pd){const t=dh.get(e);if(!t&&e===Pd&&C0())return M0();if(!t)throw To.create("no-app",{appName:e});return t}function bl(e,t,n){var r;let i=(r=g3[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Os.warn(a.join(" "));return}ph(new Bu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="firebase-heartbeat-database",S3=1,qu="firebase-heartbeat-store";let Wf=null;function V0(){return Wf||(Wf=M4(E3,S3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(qu)}catch(n){console.warn(n)}}}}).catch(e=>{throw To.create("idb-open",{originalErrorMessage:e.message})})),Wf}async function x3(e){try{const n=(await V0()).transaction(qu),r=await n.objectStore(qu).get(j0(e));return await n.done,r}catch(t){if(t instanceof Vl)Os.warn(t.message);else{const n=To.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Os.warn(n.message)}}}async function Ug(e,t){try{const r=(await V0()).transaction(qu,"readwrite");await r.objectStore(qu).put(t,j0(e)),await r.done}catch(n){if(n instanceof Vl)Os.warn(n.message);else{const r=To.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function j0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=1024,T3=30;class P3{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zg();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>T3){const o=C3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zg(),{heartbeatsToSend:r,unsentEntries:i}=N3(this._heartbeatsCache.heartbeats),s=hh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Os.warn(n),""}}}function zg(){return new Date().toISOString().substring(0,10)}function N3(e,t=I3){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$g(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$g(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g4()?m4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ug(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ug(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function $g(e){return hh(JSON.stringify({version:2,heartbeats:e})).length}function C3(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(e){ph(new Bu("platform-logger",t=>new B4(t),"PRIVATE")),ph(new Bu("heartbeat",t=>new P3(t),"PRIVATE")),bl(Td,Bg,e),bl(Td,Bg,"esm2017"),bl("fire-js","")}R3("");var k3="firebase",D3="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bl(k3,D3,"app");var Hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Po,B0;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,b){function x(){}x.prototype=b.prototype,O.D=b.prototype,O.prototype=new x,O.prototype.constructor=O,O.C=function(U,E,S){for(var T=Array(arguments.length-2),et=2;et<arguments.length;et++)T[et-2]=arguments[et];return b.prototype[E].apply(U,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,b,x){x||(x=0);var U=Array(16);if(typeof b=="string")for(var E=0;16>E;++E)U[E]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(E=0;16>E;++E)U[E]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=O.g[0],x=O.g[1],E=O.g[2];var S=O.g[3],T=b+(S^x&(E^S))+U[0]+3614090360&4294967295;b=x+(T<<7&4294967295|T>>>25),T=S+(E^b&(x^E))+U[1]+3905402710&4294967295,S=b+(T<<12&4294967295|T>>>20),T=E+(x^S&(b^x))+U[2]+606105819&4294967295,E=S+(T<<17&4294967295|T>>>15),T=x+(b^E&(S^b))+U[3]+3250441966&4294967295,x=E+(T<<22&4294967295|T>>>10),T=b+(S^x&(E^S))+U[4]+4118548399&4294967295,b=x+(T<<7&4294967295|T>>>25),T=S+(E^b&(x^E))+U[5]+1200080426&4294967295,S=b+(T<<12&4294967295|T>>>20),T=E+(x^S&(b^x))+U[6]+2821735955&4294967295,E=S+(T<<17&4294967295|T>>>15),T=x+(b^E&(S^b))+U[7]+4249261313&4294967295,x=E+(T<<22&4294967295|T>>>10),T=b+(S^x&(E^S))+U[8]+1770035416&4294967295,b=x+(T<<7&4294967295|T>>>25),T=S+(E^b&(x^E))+U[9]+2336552879&4294967295,S=b+(T<<12&4294967295|T>>>20),T=E+(x^S&(b^x))+U[10]+4294925233&4294967295,E=S+(T<<17&4294967295|T>>>15),T=x+(b^E&(S^b))+U[11]+2304563134&4294967295,x=E+(T<<22&4294967295|T>>>10),T=b+(S^x&(E^S))+U[12]+1804603682&4294967295,b=x+(T<<7&4294967295|T>>>25),T=S+(E^b&(x^E))+U[13]+4254626195&4294967295,S=b+(T<<12&4294967295|T>>>20),T=E+(x^S&(b^x))+U[14]+2792965006&4294967295,E=S+(T<<17&4294967295|T>>>15),T=x+(b^E&(S^b))+U[15]+1236535329&4294967295,x=E+(T<<22&4294967295|T>>>10),T=b+(E^S&(x^E))+U[1]+4129170786&4294967295,b=x+(T<<5&4294967295|T>>>27),T=S+(x^E&(b^x))+U[6]+3225465664&4294967295,S=b+(T<<9&4294967295|T>>>23),T=E+(b^x&(S^b))+U[11]+643717713&4294967295,E=S+(T<<14&4294967295|T>>>18),T=x+(S^b&(E^S))+U[0]+3921069994&4294967295,x=E+(T<<20&4294967295|T>>>12),T=b+(E^S&(x^E))+U[5]+3593408605&4294967295,b=x+(T<<5&4294967295|T>>>27),T=S+(x^E&(b^x))+U[10]+38016083&4294967295,S=b+(T<<9&4294967295|T>>>23),T=E+(b^x&(S^b))+U[15]+3634488961&4294967295,E=S+(T<<14&4294967295|T>>>18),T=x+(S^b&(E^S))+U[4]+3889429448&4294967295,x=E+(T<<20&4294967295|T>>>12),T=b+(E^S&(x^E))+U[9]+568446438&4294967295,b=x+(T<<5&4294967295|T>>>27),T=S+(x^E&(b^x))+U[14]+3275163606&4294967295,S=b+(T<<9&4294967295|T>>>23),T=E+(b^x&(S^b))+U[3]+4107603335&4294967295,E=S+(T<<14&4294967295|T>>>18),T=x+(S^b&(E^S))+U[8]+1163531501&4294967295,x=E+(T<<20&4294967295|T>>>12),T=b+(E^S&(x^E))+U[13]+2850285829&4294967295,b=x+(T<<5&4294967295|T>>>27),T=S+(x^E&(b^x))+U[2]+4243563512&4294967295,S=b+(T<<9&4294967295|T>>>23),T=E+(b^x&(S^b))+U[7]+1735328473&4294967295,E=S+(T<<14&4294967295|T>>>18),T=x+(S^b&(E^S))+U[12]+2368359562&4294967295,x=E+(T<<20&4294967295|T>>>12),T=b+(x^E^S)+U[5]+4294588738&4294967295,b=x+(T<<4&4294967295|T>>>28),T=S+(b^x^E)+U[8]+2272392833&4294967295,S=b+(T<<11&4294967295|T>>>21),T=E+(S^b^x)+U[11]+1839030562&4294967295,E=S+(T<<16&4294967295|T>>>16),T=x+(E^S^b)+U[14]+4259657740&4294967295,x=E+(T<<23&4294967295|T>>>9),T=b+(x^E^S)+U[1]+2763975236&4294967295,b=x+(T<<4&4294967295|T>>>28),T=S+(b^x^E)+U[4]+1272893353&4294967295,S=b+(T<<11&4294967295|T>>>21),T=E+(S^b^x)+U[7]+4139469664&4294967295,E=S+(T<<16&4294967295|T>>>16),T=x+(E^S^b)+U[10]+3200236656&4294967295,x=E+(T<<23&4294967295|T>>>9),T=b+(x^E^S)+U[13]+681279174&4294967295,b=x+(T<<4&4294967295|T>>>28),T=S+(b^x^E)+U[0]+3936430074&4294967295,S=b+(T<<11&4294967295|T>>>21),T=E+(S^b^x)+U[3]+3572445317&4294967295,E=S+(T<<16&4294967295|T>>>16),T=x+(E^S^b)+U[6]+76029189&4294967295,x=E+(T<<23&4294967295|T>>>9),T=b+(x^E^S)+U[9]+3654602809&4294967295,b=x+(T<<4&4294967295|T>>>28),T=S+(b^x^E)+U[12]+3873151461&4294967295,S=b+(T<<11&4294967295|T>>>21),T=E+(S^b^x)+U[15]+530742520&4294967295,E=S+(T<<16&4294967295|T>>>16),T=x+(E^S^b)+U[2]+3299628645&4294967295,x=E+(T<<23&4294967295|T>>>9),T=b+(E^(x|~S))+U[0]+4096336452&4294967295,b=x+(T<<6&4294967295|T>>>26),T=S+(x^(b|~E))+U[7]+1126891415&4294967295,S=b+(T<<10&4294967295|T>>>22),T=E+(b^(S|~x))+U[14]+2878612391&4294967295,E=S+(T<<15&4294967295|T>>>17),T=x+(S^(E|~b))+U[5]+4237533241&4294967295,x=E+(T<<21&4294967295|T>>>11),T=b+(E^(x|~S))+U[12]+1700485571&4294967295,b=x+(T<<6&4294967295|T>>>26),T=S+(x^(b|~E))+U[3]+2399980690&4294967295,S=b+(T<<10&4294967295|T>>>22),T=E+(b^(S|~x))+U[10]+4293915773&4294967295,E=S+(T<<15&4294967295|T>>>17),T=x+(S^(E|~b))+U[1]+2240044497&4294967295,x=E+(T<<21&4294967295|T>>>11),T=b+(E^(x|~S))+U[8]+1873313359&4294967295,b=x+(T<<6&4294967295|T>>>26),T=S+(x^(b|~E))+U[15]+4264355552&4294967295,S=b+(T<<10&4294967295|T>>>22),T=E+(b^(S|~x))+U[6]+2734768916&4294967295,E=S+(T<<15&4294967295|T>>>17),T=x+(S^(E|~b))+U[13]+1309151649&4294967295,x=E+(T<<21&4294967295|T>>>11),T=b+(E^(x|~S))+U[4]+4149444226&4294967295,b=x+(T<<6&4294967295|T>>>26),T=S+(x^(b|~E))+U[11]+3174756917&4294967295,S=b+(T<<10&4294967295|T>>>22),T=E+(b^(S|~x))+U[2]+718787259&4294967295,E=S+(T<<15&4294967295|T>>>17),T=x+(S^(E|~b))+U[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(E+(T<<21&4294967295|T>>>11))&4294967295,O.g[2]=O.g[2]+E&4294967295,O.g[3]=O.g[3]+S&4294967295}r.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var x=b-this.blockSize,U=this.B,E=this.h,S=0;S<b;){if(E==0)for(;S<=x;)i(this,O,S),S+=this.blockSize;if(typeof O=="string"){for(;S<b;)if(U[E++]=O.charCodeAt(S++),E==this.blockSize){i(this,U),E=0;break}}else for(;S<b;)if(U[E++]=O[S++],E==this.blockSize){i(this,U),E=0;break}}this.h=E,this.o+=b},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var x=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=x&255,x/=256;for(this.u(O),O=Array(16),b=x=0;4>b;++b)for(var U=0;32>U;U+=8)O[x++]=this.g[b]>>>U&255;return O};function s(O,b){var x=a;return Object.prototype.hasOwnProperty.call(x,O)?x[O]:x[O]=b(O)}function o(O,b){this.h=b;for(var x=[],U=!0,E=O.length-1;0<=E;E--){var S=O[E]|0;U&&S==b||(x[E]=S,U=!1)}this.g=x}var a={};function u(O){return-128<=O&&128>O?s(O,function(b){return new o([b|0],0>b?-1:0)}):new o([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return M(h(-O));for(var b=[],x=1,U=0;O>=x;U++)b[U]=O/x|0,x*=4294967296;return new o(b,0)}function d(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return M(d(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=h(Math.pow(b,8)),U=g,E=0;E<O.length;E+=8){var S=Math.min(8,O.length-E),T=parseInt(O.substring(E,E+S),b);8>S?(S=h(Math.pow(b,S)),U=U.j(S).add(h(T))):(U=U.j(x),U=U.add(h(T)))}return U}var g=u(0),_=u(1),m=u(16777216);e=o.prototype,e.m=function(){if(I(this))return-M(this).m();for(var O=0,b=1,x=0;x<this.g.length;x++){var U=this.i(x);O+=(0<=U?U:4294967296+U)*b,b*=4294967296}return O},e.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P(this))return"0";if(I(this))return"-"+M(this).toString(O);for(var b=h(Math.pow(O,6)),x=this,U="";;){var E=tt(x,b).g;x=C(x,E.j(b));var S=((0<x.g.length?x.g[0]:x.h)>>>0).toString(O);if(x=E,P(x))return S+U;for(;6>S.length;)S="0"+S;U=S+U}},e.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function P(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function I(O){return O.h==-1}e.l=function(O){return O=C(this,O),I(O)?-1:P(O)?0:1};function M(O){for(var b=O.g.length,x=[],U=0;U<b;U++)x[U]=~O.g[U];return new o(x,~O.h).add(_)}e.abs=function(){return I(this)?M(this):this},e.add=function(O){for(var b=Math.max(this.g.length,O.g.length),x=[],U=0,E=0;E<=b;E++){var S=U+(this.i(E)&65535)+(O.i(E)&65535),T=(S>>>16)+(this.i(E)>>>16)+(O.i(E)>>>16);U=T>>>16,S&=65535,T&=65535,x[E]=T<<16|S}return new o(x,x[x.length-1]&-2147483648?-1:0)};function C(O,b){return O.add(M(b))}e.j=function(O){if(P(this)||P(O))return g;if(I(this))return I(O)?M(this).j(M(O)):M(M(this).j(O));if(I(O))return M(this.j(M(O)));if(0>this.l(m)&&0>O.l(m))return h(this.m()*O.m());for(var b=this.g.length+O.g.length,x=[],U=0;U<2*b;U++)x[U]=0;for(U=0;U<this.g.length;U++)for(var E=0;E<O.g.length;E++){var S=this.i(U)>>>16,T=this.i(U)&65535,et=O.i(E)>>>16,pt=O.i(E)&65535;x[2*U+2*E]+=T*pt,k(x,2*U+2*E),x[2*U+2*E+1]+=S*pt,k(x,2*U+2*E+1),x[2*U+2*E+1]+=T*et,k(x,2*U+2*E+1),x[2*U+2*E+2]+=S*et,k(x,2*U+2*E+2)}for(U=0;U<b;U++)x[U]=x[2*U+1]<<16|x[2*U];for(U=b;U<2*b;U++)x[U]=0;return new o(x,0)};function k(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function H(O,b){this.g=O,this.h=b}function tt(O,b){if(P(b))throw Error("division by zero");if(P(O))return new H(g,g);if(I(O))return b=tt(M(O),b),new H(M(b.g),M(b.h));if(I(b))return b=tt(O,M(b)),new H(M(b.g),b.h);if(30<O.g.length){if(I(O)||I(b))throw Error("slowDivide_ only works with positive integers.");for(var x=_,U=b;0>=U.l(O);)x=_t(x),U=_t(U);var E=Pt(x,1),S=Pt(U,1);for(U=Pt(U,2),x=Pt(x,2);!P(U);){var T=S.add(U);0>=T.l(O)&&(E=E.add(x),S=T),U=Pt(U,1),x=Pt(x,1)}return b=C(O,E.j(b)),new H(E,b)}for(E=g;0<=O.l(b);){for(x=Math.max(1,Math.floor(O.m()/b.m())),U=Math.ceil(Math.log(x)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),S=h(x),T=S.j(b);I(T)||0<T.l(O);)x-=U,S=h(x),T=S.j(b);P(S)&&(S=_),E=E.add(S),O=C(O,T)}return new H(E,O)}e.A=function(O){return tt(this,O).h},e.and=function(O){for(var b=Math.max(this.g.length,O.g.length),x=[],U=0;U<b;U++)x[U]=this.i(U)&O.i(U);return new o(x,this.h&O.h)},e.or=function(O){for(var b=Math.max(this.g.length,O.g.length),x=[],U=0;U<b;U++)x[U]=this.i(U)|O.i(U);return new o(x,this.h|O.h)},e.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),x=[],U=0;U<b;U++)x[U]=this.i(U)^O.i(U);return new o(x,this.h^O.h)};function _t(O){for(var b=O.g.length+1,x=[],U=0;U<b;U++)x[U]=O.i(U)<<1|O.i(U-1)>>>31;return new o(x,O.h)}function Pt(O,b){var x=b>>5;b%=32;for(var U=O.g.length-x,E=[],S=0;S<U;S++)E[S]=0<b?O.i(S+x)>>>b|O.i(S+x+1)<<32-b:O.i(S+x);return new o(E,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B0=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,Po=o}).apply(typeof Hg<"u"?Hg:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q0,gu,U0,Hc,Ld,z0,$0,H0;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,A){return c==Array.prototype||c==Object.prototype||(c[y]=A.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var y=0;y<c.length;++y){var A=c[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)t:{var A=r;c=c.split(".");for(var V=0;V<c.length-1;V++){var gt=c[V];if(!(gt in A))break t;A=A[gt]}c=c[c.length-1],V=A[c],y=y(V),y!=V&&y!=null&&t(A,c,{configurable:!0,writable:!0,value:y})}}function s(c,y){c instanceof String&&(c+="");var A=0,V=!1,gt={next:function(){if(!V&&A<c.length){var xt=A++;return{value:y(xt,c[xt]),done:!1}}return V=!0,{done:!0,value:void 0}}};return gt[Symbol.iterator]=function(){return gt},gt}i("Array.prototype.values",function(c){return c||function(){return s(this,function(y,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function h(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function d(c,y,A){return c.call.apply(c.bind,arguments)}function g(c,y,A){if(!c)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var gt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(gt,V),c.apply(y,gt)}}return function(){return c.apply(y,arguments)}}function _(c,y,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,_.apply(null,arguments)}function m(c,y){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),c.apply(this,V)}}function P(c,y){function A(){}A.prototype=y.prototype,c.aa=y.prototype,c.prototype=new A,c.prototype.constructor=c,c.Qb=function(V,gt,xt){for(var qt=Array(arguments.length-2),me=2;me<arguments.length;me++)qt[me-2]=arguments[me];return y.prototype[gt].apply(V,qt)}}function I(c){const y=c.length;if(0<y){const A=Array(y);for(let V=0;V<y;V++)A[V]=c[V];return A}return[]}function M(c,y){for(let A=1;A<arguments.length;A++){const V=arguments[A];if(u(V)){const gt=c.length||0,xt=V.length||0;c.length=gt+xt;for(let qt=0;qt<xt;qt++)c[gt+qt]=V[qt]}else c.push(V)}}class C{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function tt(c){return tt[" "](c),c}tt[" "]=function(){};var _t=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function Pt(c,y,A){for(const V in c)y.call(A,c[V],V,c)}function O(c,y){for(const A in c)y.call(void 0,c[A],A,c)}function b(c){const y={};for(const A in c)y[A]=c[A];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(c,y){let A,V;for(let gt=1;gt<arguments.length;gt++){V=arguments[gt];for(A in V)c[A]=V[A];for(let xt=0;xt<x.length;xt++)A=x[xt],Object.prototype.hasOwnProperty.call(V,A)&&(c[A]=V[A])}}function E(c){var y=1;c=c.split(":");const A=[];for(;0<y&&c.length;)A.push(c.shift()),y--;return c.length&&A.push(c.join(":")),A}function S(c){a.setTimeout(()=>{throw c},0)}function T(){var c=At;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class et{constructor(){this.h=this.g=null}add(y,A){const V=pt.get();V.set(y,A),this.h?this.h.next=V:this.g=V,this.h=V}}var pt=new C(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,nt=!1,At=new et,st=()=>{const c=a.Promise.resolve(void 0);lt=()=>{c.then($t)}};var $t=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(A){S(A)}var y=pt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}nt=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const A=()=>{};a.addEventListener("test",A,y),a.removeEventListener("test",A,y)}catch{}return c}();function it(c,y){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var A=this.type=c.type,V=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(_t){t:{try{tt(y.nodeName);var gt=!0;break t}catch{}gt=!1}gt||(y=null)}}else A=="mouseover"?y=c.fromElement:A=="mouseout"&&(y=c.toElement);this.relatedTarget=y,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ht[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&it.aa.h.call(this)}}P(it,W);var ht={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),ot=0;function X(c,y,A,V,gt){this.listener=c,this.proxy=null,this.src=y,this.type=A,this.capture=!!V,this.ha=gt,this.key=++ot,this.da=this.fa=!1}function It(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rt(c){this.src=c,this.g={},this.h=0}Rt.prototype.add=function(c,y,A,V,gt){var xt=c.toString();c=this.g[xt],c||(c=this.g[xt]=[],this.h++);var qt=z(c,y,V,gt);return-1<qt?(y=c[qt],A||(y.fa=!1)):(y=new X(y,this.src,xt,!!V,gt),y.fa=A,c.push(y)),y};function $(c,y){var A=y.type;if(A in c.g){var V=c.g[A],gt=Array.prototype.indexOf.call(V,y,void 0),xt;(xt=0<=gt)&&Array.prototype.splice.call(V,gt,1),xt&&(It(y),c.g[A].length==0&&(delete c.g[A],c.h--))}}function z(c,y,A,V){for(var gt=0;gt<c.length;++gt){var xt=c[gt];if(!xt.da&&xt.listener==y&&xt.capture==!!A&&xt.ha==V)return gt}return-1}var rt="closure_lm_"+(1e6*Math.random()|0),Z={};function j(c,y,A,V,gt){if(Array.isArray(y)){for(var xt=0;xt<y.length;xt++)j(c,y[xt],A,V,gt);return null}return A=Ht(A),c&&c[G]?c.K(y,A,h(V)?!!V.capture:!1,gt):Tt(c,y,A,!1,V,gt)}function Tt(c,y,A,V,gt,xt){if(!y)throw Error("Invalid event type");var qt=h(gt)?!!gt.capture:!!gt,me=kt(c);if(me||(c[rt]=me=new Rt(c)),A=me.add(y,A,V,qt,xt),A.proxy)return A;if(V=Nt(),A.proxy=V,V.src=c,V.listener=A,c.addEventListener)J||(gt=qt),gt===void 0&&(gt=!1),c.addEventListener(y.toString(),V,gt);else if(c.attachEvent)c.attachEvent(bt(y.toString()),V);else if(c.addListener&&c.removeListener)c.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Nt(){function c(A){return y.call(c.src,c.listener,A)}const y=Dt;return c}function mt(c,y,A,V,gt){if(Array.isArray(y))for(var xt=0;xt<y.length;xt++)mt(c,y[xt],A,V,gt);else V=h(V)?!!V.capture:!!V,A=Ht(A),c&&c[G]?(c=c.i,y=String(y).toString(),y in c.g&&(xt=c.g[y],A=z(xt,A,V,gt),-1<A&&(It(xt[A]),Array.prototype.splice.call(xt,A,1),xt.length==0&&(delete c.g[y],c.h--)))):c&&(c=kt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=z(y,A,V,gt)),(A=-1<c?y[c]:null)&&wt(A))}function wt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[G])$(y.i,c);else{var A=c.type,V=c.proxy;y.removeEventListener?y.removeEventListener(A,V,c.capture):y.detachEvent?y.detachEvent(bt(A),V):y.addListener&&y.removeListener&&y.removeListener(V),(A=kt(y))?($(A,c),A.h==0&&(A.src=null,y[rt]=null)):It(c)}}}function bt(c){return c in Z?Z[c]:Z[c]="on"+c}function Dt(c,y){if(c.da)c=!0;else{y=new it(y,this);var A=c.listener,V=c.ha||c.src;c.fa&&wt(c),c=A.call(V,y)}return c}function kt(c){return c=c[rt],c instanceof Rt?c:null}var Ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ht(c){return typeof c=="function"?c:(c[Ut]||(c[Ut]=function(y){return c.handleEvent(y)}),c[Ut])}function Wt(){R.call(this),this.i=new Rt(this),this.M=this,this.F=null}P(Wt,R),Wt.prototype[G]=!0,Wt.prototype.removeEventListener=function(c,y,A,V){mt(this,c,y,A,V)};function Yt(c,y){var A,V=c.F;if(V)for(A=[];V;V=V.F)A.push(V);if(c=c.M,V=y.type||y,typeof y=="string")y=new W(y,c);else if(y instanceof W)y.target=y.target||c;else{var gt=y;y=new W(V,c),U(y,gt)}if(gt=!0,A)for(var xt=A.length-1;0<=xt;xt--){var qt=y.g=A[xt];gt=re(qt,V,!0,y)&&gt}if(qt=y.g=c,gt=re(qt,V,!0,y)&&gt,gt=re(qt,V,!1,y)&&gt,A)for(xt=0;xt<A.length;xt++)qt=y.g=A[xt],gt=re(qt,V,!1,y)&&gt}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var A=c.g[y],V=0;V<A.length;V++)It(A[V]);delete c.g[y],c.h--}}this.F=null},Wt.prototype.K=function(c,y,A,V){return this.i.add(String(c),y,!1,A,V)},Wt.prototype.L=function(c,y,A,V){return this.i.add(String(c),y,!0,A,V)};function re(c,y,A,V){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var gt=!0,xt=0;xt<y.length;++xt){var qt=y[xt];if(qt&&!qt.da&&qt.capture==A){var me=qt.listener,xe=qt.ha||qt.src;qt.fa&&$(c.i,qt),gt=me.call(xe,V)!==!1&&gt}}return gt&&!V.defaultPrevented}function ee(c,y,A){if(typeof c=="function")A&&(c=_(c,A));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(c,y||0)}function se(c){c.g=ee(()=>{c.g=null,c.i&&(c.i=!1,se(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Gt extends R{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Re(c){R.call(this),this.h=c,this.g={}}P(Re,R);var Ae=[];function Hn(c){Pt(c.g,function(y,A){this.g.hasOwnProperty(A)&&wt(y)},c),c.g={}}Re.prototype.N=function(){Re.aa.N.call(this),Hn(this)},Re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pe=a.JSON.stringify,Se=a.JSON.parse,yr=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Pe(){}Pe.prototype.h=null;function Ci(c){return c.h||(c.h=c.i())}function ln(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){W.call(this,"d")}P(jr,W);function nn(){W.call(this,"c")}P(nn,W);var oe={},ke=null;function ei(){return ke=ke||new Wt}oe.La="serverreachability";function Nn(c){W.call(this,oe.La,c)}P(Nn,W);function er(c){const y=ei();Yt(y,new Nn(y))}oe.STAT_EVENT="statevent";function Br(c,y){W.call(this,oe.STAT_EVENT,c),this.stat=y}P(Br,W);function te(c){const y=ei();Yt(y,new Br(y,c))}oe.Ma="timingevent";function Pr(c,y){W.call(this,oe.Ma,c),this.size=y}P(Pr,W);function nr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},y)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function _n(c,y,A,V,gt,xt){c.info(function(){if(c.g)if(xt)for(var qt="",me=xt.split("&"),xe=0;xe<me.length;xe++){var ve=me[xe].split("=");if(1<ve.length){var Be=ve[0];ve=ve[1];var Xe=Be.split("_");qt=2<=Xe.length&&Xe[1]=="type"?qt+(Be+"="+ve+"&"):qt+(Be+"=redacted&")}}else qt=null;else qt=xt;return"XMLHTTP REQ ("+V+") [attempt "+gt+"]: "+y+`
`+A+`
`+qt})}function gn(c,y,A,V,gt,xt,qt){c.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+gt+"]: "+y+`
`+A+`
`+xt+" "+qt})}function Cn(c,y,A,V){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+fi(c,A)+(V?" "+V:"")})}function Bs(c,y){c.info(function(){return"TIMEOUT: "+y})}Ln.prototype.info=function(){};function fi(c,y){if(!c.g)return y;if(!y)return null;try{var A=JSON.parse(y);if(A){for(c=0;c<A.length;c++)if(Array.isArray(A[c])){var V=A[c];if(!(2>V.length)){var gt=V[1];if(Array.isArray(gt)&&!(1>gt.length)){var xt=gt[0];if(xt!="noop"&&xt!="stop"&&xt!="close")for(var qt=1;qt<gt.length;qt++)gt[qt]=""}}}}return pe(A)}catch{return y}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function br(){}P(br,Pe),br.prototype.g=function(){return new XMLHttpRequest},br.prototype.i=function(){return{}},_r=new br;function bn(c,y,A,V){this.j=c,this.i=y,this.l=A,this.R=V||1,this.U=new Re(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qr}function qr(){this.i=null,this.g="",this.h=!1}var Ri={},ki={};function Di(c,y,A){c.L=1,c.v=fs(wr(y)),c.m=A,c.P=!0,as(c,null)}function as(c,y){c.F=Date.now(),qs(c),c.A=wr(c.v);var A=c.A,V=c.R;Array.isArray(V)||(V=[String(V)]),fe(A.i,"t",V),c.C=0,A=c.j.J,c.h=new qr,c.g=N(c.j,A?y:null,!c.m),0<c.O&&(c.M=new Gt(_(c.Y,c,c.g),c.O)),y=c.U,A=c.g,V=c.ca;var gt="readystatechange";Array.isArray(gt)||(gt&&(Ae[0]=gt.toString()),gt=Ae);for(var xt=0;xt<gt.length;xt++){var qt=j(A,gt[xt],V||y.handleEvent,!1,y.h||y);if(!qt)break;y.g[qt.key]=qt}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),er(),_n(c.i,c.u,c.A,c.l,c.R,c.m)}bn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},bn.prototype.Y=function(c){try{if(c==this.g)t:{const Xe=On(this.g);var y=this.g.Ba();const bi=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||Fa(this.g)))){this.J||Xe!=4||y==7||(y==8||0>=bi?er(3):er(2)),Oi(this);var A=this.g.Z();this.X=A;e:if(ls(this)){var V=Fa(this.g);c="";var gt=V.length,xt=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),Fi(this);var qt="";break e}this.h.i=new a.TextDecoder}for(y=0;y<gt;y++)this.h.h=!0,c+=this.h.i.decode(V[y],{stream:!(xt&&y==gt-1)});V.length=0,this.h.g+=c,this.C=0,qt=this.h.g}else qt=this.g.oa();if(this.o=A==200,gn(this.i,this.u,this.A,this.l,this.R,Xe,A),this.o){if(this.T&&!this.K){e:{if(this.g){var me,xe=this.g;if((me=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(me)){var ve=me;break e}}ve=null}if(A=ve)Cn(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,us(this,A);else{this.o=!1,this.s=3,te(12),di(this),Fi(this);break t}}if(this.P){A=!0;let Kn;for(;!this.J&&this.C<qt.length;)if(Kn=Ta(this,qt),Kn==ki){Xe==4&&(this.s=4,te(14),A=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==Ri){this.s=4,te(15),Cn(this.i,this.l,qt,"[Invalid Chunk]"),A=!1;break}else Cn(this.i,this.l,Kn,null),us(this,Kn);if(ls(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||qt.length!=0||this.h.h||(this.s=1,te(16),A=!1),this.o=this.o&&A,!A)Cn(this.i,this.l,qt,"[Invalid Chunked Response]"),di(this),Fi(this);else if(0<qt.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+qt.length),eo(Be),Be.M=!0,te(11))}}else Cn(this.i,this.l,qt,null),us(this,qt);Xe==4&&di(this),this.o&&!this.J&&(Xe==4?qi(this.j,this):(this.o=!1,qs(this)))}else ji(this.g),A==400&&0<qt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),di(this),Fi(this)}}}catch{}finally{}};function ls(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ta(c,y){var A=c.C,V=y.indexOf(`
`,A);return V==-1?ki:(A=Number(y.substring(A,V)),isNaN(A)?Ri:(V+=1,V+A>y.length?ki:(y=y.slice(V,V+A),c.C=V+A,y)))}bn.prototype.cancel=function(){this.J=!0,di(this)};function qs(c){c.S=Date.now()+c.I,Pa(c,c.I)}function Pa(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=nr(_(c.ba,c),y)}function Oi(c){c.B&&(a.clearTimeout(c.B),c.B=null)}bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Bs(this.i,this.A),this.L!=2&&(er(),te(17)),di(this),this.s=2,Fi(this)):Pa(this,this.S-c)};function Fi(c){c.j.G==0||c.J||qi(c.j,c)}function di(c){Oi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Hn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function us(c,y){try{var A=c.j;if(A.G!=0&&(A.g==c||$o(A.h,c))){if(!c.K&&$o(A.h,c)&&A.G==3){try{var V=A.Da.g.parse(y)}catch{V=null}if(Array.isArray(V)&&V.length==3){var gt=V;if(gt[0]==0){t:if(!A.u){if(A.g)if(A.g.F+3e3<c.F)_i(A),Js(A);else break t;vs(A),te(18)}}else A.za=gt[1],0<A.za-A.T&&37500>gt[2]&&A.F&&A.v==0&&!A.C&&(A.C=nr(_(A.Za,A),6e3));if(1>=cs(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else ir(A,11)}else if((c.K||A.g==c)&&_i(A),!k(y))for(gt=A.Da.g.parse(y),y=0;y<gt.length;y++){let ve=gt[y];if(A.T=ve[0],ve=ve[1],A.G==2)if(ve[0]=="c"){A.K=ve[1],A.ia=ve[2];const Be=ve[3];Be!=null&&(A.la=Be,A.j.info("VER="+A.la));const Xe=ve[4];Xe!=null&&(A.Aa=Xe,A.j.info("SVER="+A.Aa));const bi=ve[5];bi!=null&&typeof bi=="number"&&0<bi&&(V=1.5*bi,A.L=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const Kn=c.g;if(Kn){const Ui=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ui){var xt=V.h;xt.g||Ui.indexOf("spdy")==-1&&Ui.indexOf("quic")==-1&&Ui.indexOf("h2")==-1||(xt.j=xt.l,xt.g=new Set,xt.h&&(un(xt,xt.h),xt.h=null))}if(V.D){const zi=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;zi&&(V.ya=zi,We(V.I,V.D,zi))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-c.F,A.j.info("Handshake RTT: "+A.R+"ms")),V=A;var qt=c;if(V.qa=p(V,V.J?V.ia:null,V.W),qt.K){Ho(V.h,qt);var me=qt,xe=V.L;xe&&(me.I=xe),me.B&&(Oi(me),qs(me)),V.g=qt}else to(V);0<A.i.length&&Xs(A)}else ve[0]!="stop"&&ve[0]!="close"||ir(A,7);else A.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ir(A,7):yi(A):ve[0]!="noop"&&A.l&&A.l.ta(ve),A.v=0)}}er(4)}catch{}}var $l=class{constructor(c,y){this.g=c,this.map=y}};function zo(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Na(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cs(c){return c.h?1:c.g?c.g.size:0}function $o(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function un(c,y){c.g?c.g.add(y):c.h=y}function Ho(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zo.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const A of c.g.values())y=y.concat(A.D);return y}return I(c.i)}function La(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var y=[],A=c.length,V=0;V<A;V++)y.push(c[V]);return y}y=[],A=0;for(V in c)y[A++]=c[V];return y}function Go(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var y=[];c=c.length;for(var A=0;A<c;A++)y.push(A);return y}y=[],A=0;for(const V in c)y[A++]=V;return y}}}function Ca(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var A=Go(c),V=La(c),gt=V.length,xt=0;xt<gt;xt++)y.call(void 0,V[xt],A&&A[xt],c)}var Lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Us(c,y){if(c){c=c.split("&");for(var A=0;A<c.length;A++){var V=c[A].indexOf("="),gt=null;if(0<=V){var xt=c[A].substring(0,V);gt=c[A].substring(V+1)}else xt=c[A];y(xt,gt?decodeURIComponent(gt.replace(/\+/g," ")):"")}}}function mn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mn){this.h=c.h,hs(this,c.j),this.o=c.o,this.g=c.g,zs(this,c.s),this.l=c.l;var y=c.i,A=new Mi;A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),Ko(this,A),this.m=c.m}else c&&(y=String(c).match(Lr))?(this.h=!1,hs(this,y[1]||"",!0),this.o=ds(y[2]||""),this.g=ds(y[3]||"",!0),zs(this,y[4]),this.l=ds(y[5]||"",!0),Ko(this,y[6]||"",!0),this.m=ds(y[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}mn.prototype.toString=function(){var c=[],y=this.j;y&&c.push(pi(y,Ra,!0),":");var A=this.g;return(A||y=="file")&&(c.push("//"),(y=this.o)&&c.push(pi(y,Ra,!0),"@"),c.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&c.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&c.push("/"),c.push(pi(A,A.charAt(0)=="/"?gi:Wl,!0))),(A=this.i.toString())&&c.push("?",A),(A=this.m)&&c.push("#",pi(A,Hs)),c.join("")};function wr(c){return new mn(c)}function hs(c,y,A){c.j=A?ds(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function zs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ko(c,y,A){y instanceof Mi?(c.i=y,Gl(c.i,c.h)):(A||(y=pi(y,$s)),c.i=new Mi(y,c.h))}function We(c,y,A){c.i.set(y,A)}function fs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ds(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pi(c,y,A){return typeof c=="string"?(c=encodeURI(c).replace(y,Hl),A&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ra=/[#\/\?@]/g,Wl=/[#\?:]/g,gi=/[#\?]/g,$s=/[#\?@]/g,Hs=/#/g;function Mi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Us(c.i,function(y,A){c.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}e=Mi.prototype,e.add=function(c,y){cn(this),this.i=null,c=Vi(this,c);var A=this.g.get(c);return A||this.g.set(c,A=[]),A.push(y),this.h+=1,this};function ka(c,y){cn(c),y=Vi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qo(c,y){return cn(c),y=Vi(c,y),c.g.has(y)}e.forEach=function(c,y){cn(this),this.g.forEach(function(A,V){A.forEach(function(gt){c.call(y,gt,V,this)},this)},this)},e.na=function(){cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),A=[];for(let V=0;V<y.length;V++){const gt=c[V];for(let xt=0;xt<gt.length;xt++)A.push(y[V])}return A},e.V=function(c){cn(this);let y=[];if(typeof c=="string")Qo(this,c)&&(y=y.concat(this.g.get(Vi(this,c))));else{c=Array.from(this.g.values());for(let A=0;A<c.length;A++)y=y.concat(c[A])}return y},e.set=function(c,y){return cn(this),this.i=null,c=Vi(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},e.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function fe(c,y,A){ka(c,y),0<A.length&&(c.i=null,c.g.set(Vi(c,y),I(A)),c.h+=A.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var A=0;A<y.length;A++){var V=y[A];const xt=encodeURIComponent(String(V)),qt=this.V(V);for(V=0;V<qt.length;V++){var gt=xt;qt[V]!==""&&(gt+="="+encodeURIComponent(String(qt[V]))),c.push(gt)}}return this.i=c.join("&")};function Vi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Gl(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(A,V){var gt=V.toLowerCase();V!=gt&&(ka(this,V),fe(this,gt,A))},c)),c.j=y}function ni(c,y){const A=new Ln;if(a.Image){const V=new Image;V.onload=m(Ur,A,"TestLoadImage: loaded",!0,y,V),V.onerror=m(Ur,A,"TestLoadImage: error",!1,y,V),V.onabort=m(Ur,A,"TestLoadImage: abort",!1,y,V),V.ontimeout=m(Ur,A,"TestLoadImage: timeout",!1,y,V),a.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=c}else y(!1)}function Da(c,y){const A=new Ln,V=new AbortController,gt=setTimeout(()=>{V.abort(),Ur(A,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:V.signal}).then(xt=>{clearTimeout(gt),xt.ok?Ur(A,"TestPingServer: ok",!0,y):Ur(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(gt),Ur(A,"TestPingServer: error",!1,y)})}function Ur(c,y,A,V,gt){try{gt&&(gt.onload=null,gt.onerror=null,gt.onabort=null,gt.ontimeout=null),V(A)}catch{}}function Ws(){this.g=new yr}function Yo(c,y,A){const V=A||"";try{Ca(c,function(gt,xt){let qt=gt;h(gt)&&(qt=pe(gt)),y.push(V+xt+"="+encodeURIComponent(qt))})}catch(gt){throw y.push(V+"type="+encodeURIComponent("_badmap")),gt}}function Gs(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Gs,Pe),Gs.prototype.g=function(){return new Ks(this.l,this.j)},Gs.prototype.i=function(c){return function(){return c}}({});function Ks(c,y){Wt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ks,Wt),e=Ks.prototype,e.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,zr(this)},e.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},e.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}e.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?mi(this):zr(this),this.readyState==3&&Oa(this)}},e.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},e.Qa=function(c){this.g&&(this.response=c,mi(this))},e.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zr(c)}e.setRequestHeader=function(c,y){this.u.append(c,y)},e.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,c.push(A[0]+": "+A[1]),A=y.next();return c.join(`\r
`)};function zr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vi(c){let y="";return Pt(c,function(A,V){y+=V,y+=":",y+=A,y+=`\r
`}),y}function Jo(c,y,A){t:{for(V in A){var V=!1;break t}V=!0}V||(A=vi(A),typeof c=="string"?A!=null&&encodeURIComponent(String(A)):We(c,y,A))}function je(c){Wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(je,Wt);var Xo=/^https?$/i,Qs=["POST","PUT"];e=je.prototype,e.Ha=function(c){this.J=c},e.ea=function(c,y,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?Ci(this.o):Ci(_r),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(xt){Zo(this,xt);return}if(c=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var gt in V)A.set(gt,V[gt]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const xt of V.keys())A.set(xt,V.get(xt));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(xt=>xt.toLowerCase()=="content-type"),gt=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Qs,y,void 0))||V||gt||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xt,qt]of A)this.g.setRequestHeader(xt,qt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$r(this),this.u=!0,this.g.send(c),this.u=!1}catch(xt){Zo(this,xt)}};function Zo(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ta(c),ps(c)}function ta(c){c.A||(c.A=!0,Yt(c,"complete"),Yt(c,"error"))}e.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Yt(this,"complete"),Yt(this,"abort"),ps(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),je.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},e.bb=function(){ea(this)};function ea(c){if(c.h&&typeof o<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)ee(c.Ea,0,c);else if(Yt(c,"readystatechange"),On(c)==4){c.h=!1;try{const qt=c.Z();t:switch(qt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var A;if(!(A=y)){var V;if(V=qt===0){var gt=String(c.D).match(Lr)[1]||null;!gt&&a.self&&a.self.location&&(gt=a.self.location.protocol.slice(0,-1)),V=!Xo.test(gt?gt.toLowerCase():"")}A=V}if(A)Yt(c,"complete"),Yt(c,"success");else{c.m=6;try{var xt=2<On(c)?c.g.statusText:""}catch{xt=""}c.l=xt+" ["+c.Z()+"]",ta(c)}}finally{ps(c)}}}}function ps(c,y){if(c.g){$r(c);const A=c.g,V=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Yt(c,"ready");try{A.onreadystatechange=V}catch{}}}function $r(c){c.I&&(a.clearTimeout(c.I),c.I=null)}e.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}e.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Se(y)}};function Fa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<c.length;V++){if(k(c[V]))continue;var A=E(c[V]);const gt=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const xt=y[gt]||[];y[gt]=xt,xt.push(A)}O(y,function(V){return V.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gn(c,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[c]||y}function Ys(c){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gn("baseRetryDelayMs",5e3,c),this.cb=Gn("retryDelaySeedMs",1e4,c),this.Wa=Gn("forwardChannelMaxRetries",2,c),this.wa=Gn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zo(c&&c.concurrentRequestLimit),this.Da=new Ws,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ys.prototype,e.la=8,e.G=1,e.connect=function(c,y,A,V){te(0),this.W=c,this.H=y||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.I=p(this,null,this.W),Xs(this)};function yi(c){if(gs(c),c.G==3){var y=c.U++,A=wr(c.I);if(We(A,"SID",c.K),We(A,"RID",y),We(A,"TYPE","terminate"),Bi(c,A),y=new bn(c,c.j,y),y.L=2,y.v=fs(wr(A)),A=!1,a.navigator&&a.navigator.sendBeacon)try{A=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!A&&a.Image&&(new Image().src=y.v,A=!0),A||(y.g=N(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qs(y)}ro(c)}function Js(c){c.g&&(eo(c),c.g.cancel(),c.g=null)}function gs(c){Js(c),c.u&&(a.clearTimeout(c.u),c.u=null),_i(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Xs(c){if(!Na(c.h)&&!c.s){c.s=!0;var y=c.Ga;lt||st(),nt||(lt(),nt=!0),At.add(y,c),c.B=0}}function na(c,y){return cs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=nr(_(c.Ga,c,y),no(c,c.B)),c.B++,!0)}e.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const gt=new bn(this,this.j,c);let xt=this.o;if(this.S&&(xt?(xt=b(xt),U(xt,this.S)):xt=this.S),this.m!==null||this.O||(gt.H=xt,xt=null),this.P)t:{for(var y=0,A=0;A<this.i.length;A++){e:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break e}V=void 0}if(V===void 0)break;if(y+=V,4096<y){y=A;break t}if(y===4096||A===this.i.length-1){y=A+1;break t}}y=1e3}else y=1e3;y=ms(this,gt,y),A=wr(this.I),We(A,"RID",c),We(A,"CVER",22),this.D&&We(A,"X-HTTP-Session-Id",this.D),Bi(this,A),xt&&(this.O?y="headers="+encodeURIComponent(String(vi(xt)))+"&"+y:this.m&&Jo(A,this.m,xt)),un(this.h,gt),this.Ua&&We(A,"TYPE","init"),this.P?(We(A,"$req",y),We(A,"SID","null"),gt.T=!0,Di(gt,A,null)):Di(gt,A,y),this.G=2}}else this.G==3&&(c?Zs(this,c):this.i.length==0||Na(this.h)||Zs(this))};function Zs(c,y){var A;y?A=y.l:A=c.U++;const V=wr(c.I);We(V,"SID",c.K),We(V,"RID",A),We(V,"AID",c.T),Bi(c,V),c.m&&c.o&&Jo(V,c.m,c.o),A=new bn(c,c.j,A,c.B+1),c.m===null&&(A.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ms(c,A,1e3),A.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),un(c.h,A),Di(A,V,y)}function Bi(c,y){c.H&&Pt(c.H,function(A,V){We(y,V,A)}),c.l&&Ca({},function(A,V){We(y,V,A)})}function ms(c,y,A){A=Math.min(c.i.length,A);var V=c.l?_(c.l.Na,c.l,c):null;t:{var gt=c.i;let xt=-1;for(;;){const qt=["count="+A];xt==-1?0<A?(xt=gt[0].g,qt.push("ofs="+xt)):xt=0:qt.push("ofs="+xt);let me=!0;for(let xe=0;xe<A;xe++){let ve=gt[xe].g;const Be=gt[xe].map;if(ve-=xt,0>ve)xt=Math.max(0,gt[xe].g-100),me=!1;else try{Yo(Be,qt,"req"+ve+"_")}catch{V&&V(Be)}}if(me){V=qt.join("&");break t}}}return c=c.i.splice(0,A),y.D=c,V}function to(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;lt||st(),nt||(lt(),nt=!0),At.add(y,c),c.v=0}}function vs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=nr(_(c.Fa,c),no(c,c.v)),c.v++,!0)}e.Fa=function(){if(this.u=null,Ma(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=nr(_(this.ab,this),c)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Js(this),Ma(this))};function eo(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Ma(c){c.g=new bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=wr(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Bi(c,y),c.m&&c.o&&Jo(y,c.m,c.o),c.L&&(c.g.I=c.L);var A=c.g;c=c.ia,A.L=1,A.v=fs(wr(y)),A.m=null,A.P=!0,as(A,c)}e.Za=function(){this.C!=null&&(this.C=null,Js(this),vs(this),te(19))};function _i(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function qi(c,y){var A=null;if(c.g==y){_i(c),eo(c),c.g=null;var V=2}else if($o(c.h,y))A=y.D,Ho(c.h,y),V=1;else return;if(c.G!=0){if(y.o)if(V==1){A=y.m?y.m.length:0,y=Date.now()-y.F;var gt=c.B;V=ei(),Yt(V,new Pr(V,A)),Xs(c)}else to(c);else if(gt=y.s,gt==3||gt==0&&0<y.X||!(V==1&&na(c,y)||V==2&&vs(c)))switch(A&&0<A.length&&(y=c.h,y.i=y.i.concat(A)),gt){case 1:ir(c,5);break;case 4:ir(c,10);break;case 3:ir(c,6);break;default:ir(c,2)}}}function no(c,y){let A=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(A*=2),A*y}function ir(c,y){if(c.j.info("Error code "+y),y==2){var A=_(c.fb,c),V=c.Xa;const gt=!V;V=new mn(V||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hs(V,"https"),fs(V),gt?ni(V.toString(),A):Da(V.toString(),A)}else te(2);c.G=0,c.l&&c.l.sa(y),ro(c),gs(c)}e.fb=function(c){c?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function ro(c){if(c.G=0,c.ka=[],c.l){const y=Wo(c.h);(y.length!=0||c.i.length!=0)&&(M(c.ka,y),M(c.ka,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.ra()}}function p(c,y,A){var V=A instanceof mn?wr(A):new mn(A);if(V.g!="")y&&(V.g=y+"."+V.g),zs(V,V.s);else{var gt=a.location;V=gt.protocol,y=y?y+"."+gt.hostname:gt.hostname,gt=+gt.port;var xt=new mn(null);V&&hs(xt,V),y&&(xt.g=y),gt&&zs(xt,gt),A&&(xt.l=A),V=xt}return A=c.D,y=c.ya,A&&y&&We(V,A,y),We(V,"VER",c.la),Bi(c,V),V}function N(c,y,A){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new je(new Gs({eb:A})):new je(c.pa),y.Ha(c.J),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Y(){}e=Y.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function at(){}at.prototype.g=function(c,y){return new vt(c,y)};function vt(c,y){Wt.call(this),this.g=new Ys(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!k(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Qt(this)}P(vt,Wt),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){yi(this.g)},vt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var A={};A.__data__=c,c=A}else this.u&&(A={},A.__data__=pe(c),c=A);y.i.push(new $l(y.Ya++,c)),y.G==3&&Xs(y)},vt.prototype.N=function(){this.g.l=null,delete this.j,yi(this.g),delete this.g,vt.aa.N.call(this)};function Ct(c){jr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const A in y){c=A;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(Ct,jr);function Bt(){nn.call(this),this.status=1}P(Bt,nn);function Qt(c){this.g=c}P(Qt,Y),Qt.prototype.ua=function(){Yt(this.g,"a")},Qt.prototype.ta=function(c){Yt(this.g,new Ct(c))},Qt.prototype.sa=function(c){Yt(this.g,new Bt)},Qt.prototype.ra=function(){Yt(this.g,"b")},at.prototype.createWebChannel=at.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,H0=function(){return new at},$0=function(){return ei()},z0=oe,Ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Hc=rr,Nr.COMPLETE="complete",U0=Nr,ln.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,gu=ln,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,q0=je}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const Wg="@firebase/firestore",Gg="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new D0("@firebase/firestore");function rl(){return wa.logLevel}function Zt(e,...t){if(wa.logLevel<=Ce.DEBUG){const n=t.map(Tp);wa.debug(`Firestore (${jl}): ${e}`,...n)}}function Fs(e,...t){if(wa.logLevel<=Ce.ERROR){const n=t.map(Tp);wa.error(`Firestore (${jl}): ${e}`,...n)}}function Ll(e,...t){if(wa.logLevel<=Ce.WARN){const n=t.map(Tp);wa.warn(`Firestore (${jl}): ${e}`,...n)}}function Tp(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,W0(e,r,n)}function W0(e,t,n){let r=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fs(r),new Error(r)}function He(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||W0(t,i,r)}function _e(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Vl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class O3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(cr.UNAUTHENTICATED))}shutdown(){}}class F3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M3{constructor(t){this.t=t,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){He(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ds,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ds)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new G0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return He(t===null||typeof t=="string",2055,{h:t}),new cr(t)}}class V3{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j3{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new V3(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kg{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B3{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,y3(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){He(this.o===void 0,3512);const r=s=>{s.error!=null&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Zt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kg(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=q3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function Ee(e,t){return e<t?-1:e>t?1:0}function Cd(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ee(r,i);{const s=K0(),o=U3(s.encode(Qg(e,n)),s.encode(Qg(t,n)));return o!==0?o:Ee(r,i)}}n+=r>65535?2:1}return Ee(e.length,t.length)}function Qg(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function U3(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Ee(e[n],t[n]);return Ee(e.length,t.length)}function Cl(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=-62135596800,Jg=1e6;class jn{static now(){return jn.fromMillis(Date.now())}static fromDate(t){return jn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Jg);return new jn(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ie(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Yg)throw new ie(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ie(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jg}_compareTo(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Yg;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(t){return new ge(t)}static min(){return new ge(new jn(0,0))}static max(){return new ge(new jn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="__name__";class Ki{constructor(t,n,r){n===void 0?n=0:n>t.length&&he(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&he(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ki.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ki?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=Ki.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return Ee(t.length,n.length)}static compareSegments(t,n){const r=Ki.isNumericId(t),i=Ki.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ki.extractNumericId(t).compare(Ki.extractNumericId(n)):Cd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Po.fromString(t.substring(4,t.length-2))}}class dn extends Ki{construct(t,n,r){return new dn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ie(zt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new dn(n)}static emptyPath(){return new dn([])}}const z3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Ki{construct(t,n,r){return new Xn(t,n,r)}static isValidIdentifier(t){return z3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xg}static keyField(){return new Xn([Xg])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(zt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new ie(zt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(zt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(zt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xn(n)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.path=t}static fromPath(t){return new le(dn.fromString(t))}static fromName(t){return new le(dn.fromString(t).popFirst(5))}static empty(){return new le(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&dn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return dn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new le(new dn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=-1;function $3(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new jn(n+1,0):new jn(n,r));return new Co(i,le.empty(),t)}function H3(e){return new Co(e.readTime,e.key,Uu)}class Co{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Co(ge.min(),le.empty(),Uu)}static max(){return new Co(ge.max(),le.empty(),Uu)}}function W3(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=le.comparator(e.documentKey,t.documentKey),n!==0?n:Ee(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(e){if(e.code!==zt.FAILED_PRECONDITION||e.message!==G3)throw e;Zt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Vt((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Vt?n:Vt.resolve(n)}catch(n){return Vt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Vt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Vt.reject(n)}static resolve(t){return new Vt((n,r)=>{n(t)})}static reject(t){return new Vt((n,r)=>{r(t)})}static waitFor(t){return new Vt((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(t){let n=Vt.resolve(!1);for(const r of t)n=n.next(i=>i?Vt.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Vt((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{o[h]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(t,n){return new Vt((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Q3(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ql(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Hh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function Wh(e){return e==null}function gh(e){return e===0&&1/e==-1/0}function Y3(e){return typeof e=="number"&&Number.isInteger(e)&&!gh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="";function J3(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Zg(t)),t=X3(e.get(n),t);return Zg(t)}function X3(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case Y0:n+="";break;default:n+=s}}return n}function Zg(e){return e+Y0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function J0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t,n){this.comparator=t,this.root=n||Jn.EMPTY}insert(t,n){return new pn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(t){return new pn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jn{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Jn.RED,this.left=i??Jn.EMPTY,this.right=s??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Jn(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw he(27949);return t+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(t,n,r,i,s){return this}insert(t,n,r){return new Jn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.comparator=t,this.data=new pn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new em(this.data.getIterator())}getIteratorFrom(t){return new em(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Bn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Bn(this.comparator);return n.data=t,n}}class em{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this.fields=t,t.sort(Xn.comparator)}static empty(){return new Xr([])}unionWith(t){let n=new Bn(Xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Xr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Cl(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new X0("Invalid base64 string: "+s):s}}(t);return new tr(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new tr(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ee(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const Z3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(e){if(He(!!e,39018),typeof e=="string"){let t=0;const n=Z3.exec(e);if(He(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:En(e.seconds),nanos:En(e.nanos)}}function En(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ko(e){return typeof e=="string"?tr.fromBase64String(e):tr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="server_timestamp",t5="__type__",e5="__previous_value__",n5="__local_write_time__";function Np(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[t5])===null||n===void 0?void 0:n.stringValue)===Z0}function Gh(e){const t=e.mapValue.fields[e5];return Np(t)?Gh(t):t}function zu(e){const t=Ro(e.mapValue.fields[n5].timestampValue);return new jn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n,r,i,s,o,a,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const mh="(default)";class $u{constructor(t,n){this.projectId=t,this.database=n||mh}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===mh}isEqual(t){return t instanceof $u&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="__type__",eA="__max__",Rc={mapValue:{}},i5="__vector__",vh="value";function Do(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Np(e)?4:rA(e)?9007199254740991:nA(e)?10:11:he(28295,{value:e})}function is(e,t){if(e===t)return!0;const n=Do(e);if(n!==Do(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zu(e).isEqual(zu(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ro(i.timestampValue),a=Ro(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return ko(i.bytesValue).isEqual(ko(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return En(i.geoPointValue.latitude)===En(s.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return En(i.integerValue)===En(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=En(i.doubleValue),a=En(s.doubleValue);return o===a?gh(o)===gh(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Cl(e.arrayValue.values||[],t.arrayValue.values||[],is);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tm(o)!==tm(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!is(o[u],a[u])))return!1;return!0}(e,t);default:return he(52216,{left:e})}}function Hu(e,t){return(e.values||[]).find(n=>is(n,t))!==void 0}function Rl(e,t){if(e===t)return 0;const n=Do(e),r=Do(t);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=En(s.integerValue||s.doubleValue),u=En(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return nm(e.timestampValue,t.timestampValue);case 4:return nm(zu(e),zu(t));case 5:return Cd(e.stringValue,t.stringValue);case 6:return function(s,o){const a=ko(s),u=ko(o);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let h=0;h<a.length&&h<u.length;h++){const d=Ee(a[h],u[h]);if(d!==0)return d}return Ee(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Ee(En(s.latitude),En(o.latitude));return a!==0?a:Ee(En(s.longitude),En(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return rm(e.arrayValue,t.arrayValue);case 10:return function(s,o){var a,u,h,d;const g=s.fields||{},_=o.fields||{},m=(a=g[vh])===null||a===void 0?void 0:a.arrayValue,P=(u=_[vh])===null||u===void 0?void 0:u.arrayValue,I=Ee(((h=m==null?void 0:m.values)===null||h===void 0?void 0:h.length)||0,((d=P==null?void 0:P.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:rm(m,P)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===Rc.mapValue&&o===Rc.mapValue)return 0;if(s===Rc.mapValue)return 1;if(o===Rc.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),h=o.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const _=Cd(u[g],d[g]);if(_!==0)return _;const m=Rl(a[u[g]],h[d[g]]);if(m!==0)return m}return Ee(u.length,d.length)}(e.mapValue,t.mapValue);default:throw he(23264,{Pe:n})}}function nm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ee(e,t);const n=Ro(e),r=Ro(t),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function rm(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Rl(n[i],r[i]);if(s)return s}return Ee(n.length,r.length)}function kl(e){return Rd(e)}function Rd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Ro(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ko(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return le.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Rd(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Rd(n.fields[o])}`;return i+"}"}(e.mapValue):he(61005,{value:e})}function Wc(e){switch(Do(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gh(e);return t?16+Wc(t):16;case 5:return 2*e.stringValue.length;case 6:return ko(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Wc(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return qo(r.fields,(s,o)=>{i+=s.length+Wc(o)}),i}(e.mapValue);default:throw he(13486,{value:e})}}function kd(e){return!!e&&"integerValue"in e}function Lp(e){return!!e&&"arrayValue"in e}function im(e){return!!e&&"nullValue"in e}function sm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gc(e){return!!e&&"mapValue"in e}function nA(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[r5])===null||n===void 0?void 0:n.stringValue)===i5}function Pu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return qo(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Pu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rA(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===eA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t){this.value=t}static empty(){return new Mr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Gc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pu(n)}setAll(t){let n=Xn.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Pu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return is(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Gc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){qo(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Mr(Pu(this.value))}}function s5(e){const t=[];return qo(e.fields,(n,r)=>{const i=new Xn([n]);if(Gc(r)){const s=s5(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Xr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new dr(t,0,ge.min(),ge.min(),ge.min(),Mr.empty(),0)}static newFoundDocument(t,n,r,i){return new dr(t,1,n,ge.min(),r,i,0)}static newNoDocument(t,n){return new dr(t,2,n,ge.min(),ge.min(),Mr.empty(),0)}static newUnknownDocument(t,n){return new dr(t,3,n,ge.min(),ge.min(),Mr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n){this.position=t,this.inclusive=n}}function om(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=Rl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function am(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!is(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n="asc"){this.field=t,this.dir=n}}function iA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{}class Vn extends o5{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new oA(t,n,r):n==="array-contains"?new uA(t,r):n==="in"?new cA(t,r):n==="not-in"?new hA(t,r):n==="array-contains-any"?new fA(t,r):new Vn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new aA(t,r):new lA(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rl(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(Rl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends o5{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new ss(t,n)}matches(t){return a5(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function a5(e){return e.op==="and"}function l5(e){return sA(e)&&a5(e)}function sA(e){for(const t of e.filters)if(t instanceof ss)return!1;return!0}function Dd(e){if(e instanceof Vn)return e.field.canonicalString()+e.op.toString()+kl(e.value);if(l5(e))return e.filters.map(t=>Dd(t)).join(",");{const t=e.filters.map(n=>Dd(n)).join(",");return`${e.op}(${t})`}}function u5(e,t){return e instanceof Vn?function(r,i){return i instanceof Vn&&r.op===i.op&&r.field.isEqual(i.field)&&is(r.value,i.value)}(e,t):e instanceof ss?function(r,i){return i instanceof ss&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&u5(o,i.filters[a]),!0):!1}(e,t):void he(19439)}function c5(e){return e instanceof Vn?function(n){return`${n.field.canonicalString()} ${n.op} ${kl(n.value)}`}(e):e instanceof ss?function(n){return n.op.toString()+" {"+n.getFilters().map(c5).join(" ,")+"}"}(e):"Filter"}class oA extends Vn{constructor(t,n,r){super(t,n,r),this.key=le.fromName(r.referenceValue)}matches(t){const n=le.comparator(t.key,this.key);return this.matchesComparison(n)}}class aA extends Vn{constructor(t,n){super(t,"in",n),this.keys=h5("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class lA extends Vn{constructor(t,n){super(t,"not-in",n),this.keys=h5("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function h5(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class uA extends Vn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Lp(n)&&Hu(n.arrayValue,this.value)}}class cA extends Vn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class hA extends Vn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hu(this.value.arrayValue,n)}}class fA extends Vn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function lm(e,t=null,n=[],r=[],i=null,s=null,o=null){return new dA(e,t,n,r,i,s,o)}function Cp(e){const t=_e(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Dd(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>kl(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>kl(r)).join(",")),t.Ie=n}return t.Ie}function Rp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!iA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!u5(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!am(e.startAt,t.startAt)&&am(e.endAt,t.endAt)}function Od(e){return le.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pA(e,t,n,r,i,s,o,a){return new Kh(e,t,n,r,i,s,o,a)}function kp(e){return new Kh(e)}function um(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function gA(e){return e.collectionGroup!==null}function Nu(e){const t=_e(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ee.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bn(Xn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ee.push(new _h(s,r))}),n.has(Xn.keyField().canonicalString())||t.Ee.push(new _h(Xn.keyField(),r))}return t.Ee}function Zi(e){const t=_e(e);return t.de||(t.de=mA(t,Nu(e))),t.de}function mA(e,t){if(e.limitType==="F")return lm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new _h(i.field,s)});const n=e.endAt?new yh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new yh(e.startAt.position,e.startAt.inclusive):null;return lm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Fd(e,t,n){return new Kh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qh(e,t){return Rp(Zi(e),Zi(t))&&e.limitType===t.limitType}function f5(e){return`${Cp(Zi(e))}|lt:${e.limitType}`}function il(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>c5(i)).join(", ")}]`),Wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>kl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>kl(i)).join(",")),`Target(${r})`}(Zi(e))}; limitType=${e.limitType})`}function Yh(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Nu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,u){const h=om(o,a,u);return o.inclusive?h<=0:h<0}(r.startAt,Nu(r),i)||r.endAt&&!function(o,a,u){const h=om(o,a,u);return o.inclusive?h>=0:h>0}(r.endAt,Nu(r),i))}(e,t)}function vA(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function d5(e){return(t,n)=>{let r=!1;for(const i of Nu(e)){const s=yA(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function yA(e,t,n){const r=e.field.isKeyField()?le.comparator(t.key,n.key):function(s,o,a){const u=o.data.field(s),h=a.data.field(s);return u!==null&&h!==null?Rl(u,h):he(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){qo(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new pn(le.comparator);function Ms(){return _A}const p5=new pn(le.comparator);function mu(...e){let t=p5;for(const n of e)t=t.insert(n.key,n);return t}function g5(e){let t=p5;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ma(){return Lu()}function m5(){return Lu()}function Lu(){return new Sa(e=>e.toString(),(e,t)=>e.isEqual(t))}const bA=new pn(le.comparator),wA=new Bn(le.comparator);function Te(...e){let t=wA;for(const n of e)t=t.add(n);return t}const AA=new Bn(Ee);function EA(){return AA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(t)?"-0":t}}function v5(e){return{integerValue:""+e}}function SA(e,t){return Y3(t)?v5(t):Dp(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function xA(e,t,n){return e instanceof bh?function(i,s){const o={fields:{[t5]:{stringValue:Z0},[n5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Np(s)&&(s=Gh(s)),s&&(o.fields[e5]=s),{mapValue:o}}(n,t):e instanceof Wu?_5(e,t):e instanceof Gu?b5(e,t):function(i,s){const o=y5(i,s),a=cm(o)+cm(i.Re);return kd(o)&&kd(i.Re)?v5(a):Dp(i.serializer,a)}(e,t)}function IA(e,t,n){return e instanceof Wu?_5(e,t):e instanceof Gu?b5(e,t):n}function y5(e,t){return e instanceof wh?function(r){return kd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class bh extends Jh{}class Wu extends Jh{constructor(t){super(),this.elements=t}}function _5(e,t){const n=w5(t);for(const r of e.elements)n.some(i=>is(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gu extends Jh{constructor(t){super(),this.elements=t}}function b5(e,t){let n=w5(t);for(const r of e.elements)n=n.filter(i=>!is(i,r));return{arrayValue:{values:n}}}class wh extends Jh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function cm(e){return En(e.integerValue||e.doubleValue)}function w5(e){return Lp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function TA(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Wu&&i instanceof Wu||r instanceof Gu&&i instanceof Gu?Cl(r.elements,i.elements,is):r instanceof wh&&i instanceof wh?is(r.Re,i.Re):r instanceof bh&&i instanceof bh}(e.transform,t.transform)}class PA{constructor(t,n){this.version=t,this.transformResults=n}}class Ti{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Xh{}function A5(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Op(e.key,Ti.none()):new Xu(e.key,e.data,Ti.none());{const n=e.data,r=Mr.empty();let i=new Bn(Xn.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Uo(e.key,r,new Xr(i.toArray()),Ti.none())}}function NA(e,t,n){e instanceof Xu?function(i,s,o){const a=i.value.clone(),u=fm(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Uo?function(i,s,o){if(!Kc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=fm(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(E5(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Cu(e,t,n,r){return e instanceof Xu?function(s,o,a,u){if(!Kc(s.precondition,o))return a;const h=s.value.clone(),d=dm(s.fieldTransforms,u,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(e,t,n,r):e instanceof Uo?function(s,o,a,u){if(!Kc(s.precondition,o))return a;const h=dm(s.fieldTransforms,u,o),d=o.data;return d.setAll(E5(s)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,r):function(s,o,a){return Kc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function LA(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=y5(r.transform,i||null);s!=null&&(n===null&&(n=Mr.empty()),n.set(r.field,s))}return n||null}function hm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cl(r,i,(s,o)=>TA(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Xu extends Xh{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uo extends Xh{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function E5(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function fm(e,t,n){const r=new Map;He(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,IA(o,a,n[i]))}return r}function dm(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,xA(s,o,t))}return r}class Op extends Xh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CA extends Xh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&NA(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Cu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Cu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=m5();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=A5(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Te())}isEqual(t){return this.batchId===t.batchId&&Cl(this.mutations,t.mutations,(n,r)=>hm(n,r))&&Cl(this.baseMutations,t.baseMutations,(n,r)=>hm(n,r))}}class Fp{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){He(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let i=function(){return bA}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Fp(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn,Ne;function OA(e){switch(e){case zt.OK:return he(64938);case zt.CANCELLED:case zt.UNKNOWN:case zt.DEADLINE_EXCEEDED:case zt.RESOURCE_EXHAUSTED:case zt.INTERNAL:case zt.UNAVAILABLE:case zt.UNAUTHENTICATED:return!1;case zt.INVALID_ARGUMENT:case zt.NOT_FOUND:case zt.ALREADY_EXISTS:case zt.PERMISSION_DENIED:case zt.FAILED_PRECONDITION:case zt.ABORTED:case zt.OUT_OF_RANGE:case zt.UNIMPLEMENTED:case zt.DATA_LOSS:return!0;default:return he(15467,{code:e})}}function S5(e){if(e===void 0)return Fs("GRPC error has no .code"),zt.UNKNOWN;switch(e){case Dn.OK:return zt.OK;case Dn.CANCELLED:return zt.CANCELLED;case Dn.UNKNOWN:return zt.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return zt.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return zt.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return zt.INTERNAL;case Dn.UNAVAILABLE:return zt.UNAVAILABLE;case Dn.UNAUTHENTICATED:return zt.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return zt.INVALID_ARGUMENT;case Dn.NOT_FOUND:return zt.NOT_FOUND;case Dn.ALREADY_EXISTS:return zt.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return zt.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return zt.FAILED_PRECONDITION;case Dn.ABORTED:return zt.ABORTED;case Dn.OUT_OF_RANGE:return zt.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return zt.UNIMPLEMENTED;case Dn.DATA_LOSS:return zt.DATA_LOSS;default:return he(39323,{code:e})}}(Ne=Dn||(Dn={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new Po([4294967295,4294967295],0);function pm(e){const t=K0().encode(e),n=new B0;return n.update(t),new Uint8Array(n.digest())}function gm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Po([n,r],0),new Po([i,s],0)]}class Mp{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vu(`Invalid padding: ${n}`);if(r<0)throw new vu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new vu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Po.fromNumber(this.pe)}we(t,n,r){let i=t.add(n.multiply(Po.fromNumber(r)));return i.compare(FA)===1&&(i=new Po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=pm(t),[r,i]=gm(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Mp(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.pe===0)return;const n=pm(t),[r,i]=gm(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Zu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Zh(ge.min(),i,new pn(Ee),Ms(),Te())}}class Zu{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Zu(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n,r,i){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=i}}class x5{constructor(t,n){this.targetId=t,this.Ce=n}}class I5{constructor(t,n,r=tr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mm{constructor(){this.Fe=0,this.Me=vm(),this.xe=tr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Te(),n=Te(),r=Te();return this.Me.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he(38017,{changeType:s})}}),new Zu(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=vm()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class MA{constructor(t){this.ze=t,this.je=new Map,this.He=Ms(),this.Je=kc(),this.Ye=kc(),this.Ze=new pn(Ee)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:he(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(t){const n=t.targetId,r=t.Ce.count,i=this._t(n);if(i){const s=i.target;if(Od(s))if(r===0){const o=new le(s.path);this.tt(n,o,dr.newNoDocument(o,ge.min()))}else He(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(t),u=a?this.lt(a,t,o):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ko(r).toUint8Array()}catch(u){if(u instanceof X0)return Ll("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Mp(o,i,s)}catch(u){return Ll(u instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(t){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Od(a.target)){const u=new le(a.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,dr.newNoDocument(u,t))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=Te();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(t));const i=new Zh(t,n,this.Ze,this.He,r);return this.He=Ms(),this.Je=kc(),this.Ye=kc(),this.Ze=new pn(Ee),i}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const i=this.rt(t);this.dt(t,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new mm,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Bn(Ee),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Bn(Ee),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||Zt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new mm),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function kc(){return new pn(le.comparator)}function vm(){return new pn(le.comparator)}const VA={asc:"ASCENDING",desc:"DESCENDING"},jA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BA={and:"AND",or:"OR"};class qA{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Md(e,t){return e.useProto3Json||Wh(t)?t:{value:t}}function Ah(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function T5(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function UA(e,t){return Ah(e,t.toTimestamp())}function ts(e){return He(!!e,49232),ge.fromTimestamp(function(n){const r=Ro(n);return new jn(r.seconds,r.nanos)}(e))}function Vp(e,t){return Vd(e,t).canonicalString()}function Vd(e,t){const n=function(i){return new dn(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function P5(e){const t=dn.fromString(e);return He(k5(t),10190,{key:t.toString()}),t}function jd(e,t){return Vp(e.databaseId,t.path)}function Gf(e,t){const n=P5(t);if(n.get(1)!==e.databaseId.projectId)throw new ie(zt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ie(zt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new le(L5(n))}function N5(e,t){return Vp(e.databaseId,t)}function zA(e){const t=P5(e);return t.length===4?dn.emptyPath():L5(t)}function Bd(e){return new dn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function L5(e){return He(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function ym(e,t,n){return{name:jd(e,t),fields:n.value.mapValue.fields}}function $A(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:he(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(He(d===void 0||typeof d=="string",58123),tr.fromBase64String(d||"")):(He(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),tr.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(h){const d=h.code===void 0?zt.UNKNOWN:S5(h.code);return new ie(d,h.message||"")}(o);n=new I5(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gf(e,r.document.name),s=ts(r.document.updateTime),o=r.document.createTime?ts(r.document.createTime):ge.min(),a=new Mr({mapValue:{fields:r.document.fields}}),u=dr.newFoundDocument(i,s,o,a),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Qc(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gf(e,r.document),s=r.readTime?ts(r.readTime):ge.min(),o=dr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gf(e,r.document),s=r.removedTargetIds||[];n=new Qc([],s,i,null)}else{if(!("filter"in t))return he(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new DA(i,s),a=r.targetId;n=new x5(a,o)}}return n}function HA(e,t){let n;if(t instanceof Xu)n={update:ym(e,t.key,t.value)};else if(t instanceof Op)n={delete:jd(e,t.key)};else if(t instanceof Uo)n={update:ym(e,t.key,t.data),updateMask:t6(t.fieldMask)};else{if(!(t instanceof CA))return he(16599,{ft:t.type});n={verify:jd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wh)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw he(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:UA(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he(27497)}(e,t.precondition)),n}function WA(e,t){return e&&e.length>0?(He(t!==void 0,14353),e.map(n=>function(i,s){let o=i.updateTime?ts(i.updateTime):ts(s);return o.isEqual(ge.min())&&(o=ts(s)),new PA(o,i.transformResults||[])}(n,t))):[]}function GA(e,t){return{documents:[N5(e,t.path)]}}function KA(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=N5(e,i);const s=function(h){if(h.length!==0)return R5(ss.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(d=>function(_){return{field:sl(_.field),direction:JA(_.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Md(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:i}}function QA(e){let t=zA(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const _=C5(g);return _ instanceof ss&&l5(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(P){return new _h(ol(P.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,Wh(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){const _=!!g.before,m=g.values||[];return new yh(m,_)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const _=!g.before,m=g.values||[];return new yh(m,_)}(n.endAt)),pA(t,i,o,s,a,"F",u,h)}function YA(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function C5(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ol(n.unaryFilter.field);return Vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ol(n.unaryFilter.field);return Vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ol(n.unaryFilter.field);return Vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ol(n.unaryFilter.field);return Vn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(e):e.fieldFilter!==void 0?function(n){return Vn.create(ol(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ss.create(n.compositeFilter.filters.map(r=>C5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(n.compositeFilter.op))}(e):he(30097,{filter:e})}function JA(e){return VA[e]}function XA(e){return jA[e]}function ZA(e){return BA[e]}function sl(e){return{fieldPath:e.canonicalString()}}function ol(e){return Xn.fromServerFormat(e.fieldPath)}function R5(e){return e instanceof Vn?function(n){if(n.op==="=="){if(sm(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(im(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sm(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(im(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:XA(n.op),value:n.value}}}(e):e instanceof ss?function(n){const r=n.getFilters().map(i=>R5(i));return r.length===1?r[0]:{compositeFilter:{op:ZA(n.op),filters:r}}}(e):he(54877,{filter:e})}function t6(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function k5(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,n,r,i,s=ge.min(),o=ge.min(),a=tr.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new Eo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(t){this.wt=t}}function n6(e){const t=QA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Fd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.yn=new i6}addToCollectionParentIndex(t,n){return this.yn.add(n),Vt.resolve()}getCollectionParents(t,n){return Vt.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return Vt.resolve()}deleteFieldIndex(t,n){return Vt.resolve()}deleteAllFieldIndexes(t){return Vt.resolve()}createTargetIndexes(t,n){return Vt.resolve()}getDocumentsMatchingTarget(t,n){return Vt.resolve(null)}getIndexType(t,n){return Vt.resolve(0)}getFieldIndexes(t,n){return Vt.resolve([])}getNextCollectionGroupToUpdate(t){return Vt.resolve(null)}getMinOffset(t,n){return Vt.resolve(Co.min())}getMinOffsetFromCollectionGroup(t,n){return Vt.resolve(Co.min())}updateCollectionGroup(t,n,r){return Vt.resolve()}updateIndexEntries(t,n){return Vt.resolve()}}class i6{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Bn(dn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Bn(dn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D5=41943040;class Or{static withCacheSize(t){return new Or(t,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or.DEFAULT_COLLECTION_PERCENTILE=10,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Or.DEFAULT=new Or(D5,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Or.DISABLED=new Or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Dl(0)}static ir(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="LruGarbageCollector",s6=1048576;function wm([e,t],[n,r]){const i=Ee(e,n);return i===0?Ee(t,r):i}class o6{constructor(t){this.cr=t,this.buffer=new Bn(wm),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wm(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a6{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Zt(bm,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ql(n)?Zt(bm,"Ignoring IndexedDB error during garbage collection: ",n):await Bl(n)}await this.Ir(3e5)})}}class l6{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Vt.resolve(Hh.le);const r=new o6(n);return this.Er.forEachTarget(t,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(t,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Er.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Zt("LruGarbageCollector","Garbage collection skipped; disabled"),Vt.resolve(_m)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_m):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let r,i,s,o,a,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(t,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(t,r,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(g=>(h=Date.now(),rl()<=Ce.DEBUG&&Zt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),Vt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function u6(e,t){return new l6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.changes=new Sa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,dr.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Vt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Cu(r.mutation,i,Xr.empty(),jn.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Te()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Te()){const i=ma();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=mu();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=ma();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Te()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Ms();const o=Lu(),a=function(){return Lu()}();return n.forEach((u,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof Uo)?s=s.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Cu(d.mutation,h,d.mutation.getFieldMask(),jn.now())):o.set(h.key,Xr.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>{var g;return a.set(h,new h6(d,(g=o.get(h))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Lu();let i=new pn((o,a)=>o-a),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=r.get(u)||Xr.empty();d=a.applyToLocalView(h,d),r.set(u,d);const g=(i.get(a.batchId)||Te()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),h=u.key,d=u.value,g=m5();d.forEach(_=>{if(!s.has(_)){const m=A5(n.get(_),r.get(_));m!==null&&g.set(_,m),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(t,h,g))}return Vt.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):gA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Vt.resolve(ma());let a=Uu,u=s;return o.next(h=>Vt.forEach(h,(d,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(d)?Vt.resolve():this.remoteDocumentCache.getEntry(t,d).next(_=>{u=u.insert(d,_)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,Te())).next(d=>({batchId:a,changes:g5(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new le(n)).next(r=>{let i=mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=mu();return this.indexManager.getCollectionParents(t,s).next(a=>Vt.forEach(a,u=>{const h=function(g,_){return new Kh(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,r,i).next(d=>{d.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((u,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,dr.newInvalidDocument(d)))});let a=mu();return o.forEach((u,h)=>{const d=s.get(u);d!==void 0&&Cu(d.mutation,h,Xr.empty(),jn.now()),Yh(n,h)&&(a=a.insert(u,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return Vt.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ts(i.createTime)}}(n)),Vt.resolve()}getNamedQuery(t,n){return Vt.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:n6(i.bundledQuery),readTime:ts(i.readTime)}}(n)),Vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.overlays=new pn(le.comparator),this.Or=new Map}getOverlay(t,n){return Vt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ma();return Vt.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.St(t,n,s)}),Vt.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),Vt.resolve()}getOverlaysForCollection(t,n,r){const i=ma(),s=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Vt.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new pn((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=s.get(h.largestBatchId);d===null&&(d=ma(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const a=ma(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>a.set(h,d)),!(a.size()>=i)););return Vt.resolve(a)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kA(n,r));let s=this.Or.get(n);s===void 0&&(s=Te(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(t){return Vt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.Nr=new Bn(zn.Br),this.Lr=new Bn(zn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const r=new zn(t,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Qr(new zn(t,n))}$r(t,n){t.forEach(r=>this.removeReference(r,n))}Ur(t){const n=new le(new dn([])),r=new zn(n,t),i=new zn(n,t+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new le(new dn([])),r=new zn(n,t),i=new zn(n,t+1);let s=Te();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new zn(t,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class zn{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return le.comparator(t.key,n.key)||Ee(t.Gr,n.Gr)}static kr(t,n){return Ee(t.Gr,n.Gr)||le.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Bn(zn.Br)}checkEmpty(t){return Vt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new RA(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.zr=this.zr.add(new zn(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Vt.resolve(o)}lookupMutationBatch(t,n){return Vt.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return Vt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Vt.resolve(this.mutationQueue.length===0?Pp:this.Jn-1)}getAllMutationBatches(t){return Vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new zn(n,0),i=new zn(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const a=this.jr(o.Gr);s.push(a)}),Vt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Bn(Ee);return n.forEach(i=>{const s=new zn(i,0),o=new zn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),Vt.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new zn(new le(s),0);let a=new Bn(Ee);return this.zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(u.Gr)),!0)},o),Vt.resolve(this.Jr(a))}Jr(t){const n=[];return t.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){He(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return Vt.forEach(n.mutations,i=>{const s=new zn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.zr=r})}Xn(t){}containsKey(t,n){const r=new zn(n,0),i=this.zr.firstAfterOrEqual(r);return Vt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Vt.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(t){this.Zr=t,this.docs=function(){return new pn(le.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Vt.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(n))}getEntries(t,n){let r=Ms();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dr.newInvalidDocument(i))}),Vt.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ms();const o=n.path,a=new le(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||W3(H3(d),r)<=0||(i.has(d.key)||Yh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Vt.resolve(s)}getAllFromCollectionGroup(t,n,r,i){he(9500)}Xr(t,n){return Vt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new y6(this)}getSize(t){return Vt.resolve(this.size)}}class y6 extends c6{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(t,i)):this.vr.removeEntry(r)}),Vt.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(t){this.persistence=t,this.ei=new Sa(n=>Cp(n),Rp),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.ti=0,this.ni=new jp,this.targetCount=0,this.ri=Dl.rr()}forEachTarget(t,n){return this.ei.forEach((r,i)=>n(i)),Vt.resolve()}getLastRemoteSnapshotVersion(t){return Vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Vt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),Vt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),Vt.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new Dl(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,Vt.resolve()}updateTargetData(t,n){return this.ar(n),Vt.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Vt.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Vt.waitFor(s).next(()=>i)}getTargetCount(t){return Vt.resolve(this.targetCount)}getTargetData(t,n){const r=this.ei.get(n)||null;return Vt.resolve(r)}addMatchingKeys(t,n,r){return this.ni.qr(n,r),Vt.resolve()}removeMatchingKeys(t,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Vt.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),Vt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ni.Wr(n);return Vt.resolve(r)}containsKey(t,n){return Vt.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(t,n){this.ii={},this.overlays={},this.si=new Hh(0),this.oi=!1,this.oi=!0,this._i=new g6,this.referenceDelegate=t(this),this.ai=new _6(this),this.indexManager=new r6,this.remoteDocumentCache=function(i){return new v6(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new e6(n),this.ci=new d6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new p6,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ii[t.toKey()];return r||(r=new m6(n,this.referenceDelegate),this.ii[t.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,r){Zt("MemoryPersistence","Starting transaction:",t);const i=new b6(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(t,n){return Vt.or(Object.values(this.ii).map(r=>()=>r.containsKey(t,n)))}}class b6 extends K3{constructor(t){super(),this.currentSequenceNumber=t}}class Bp{constructor(t){this.persistence=t,this.Ti=new jp,this.Ii=null}static Ei(t){return new Bp(t)}get di(){if(this.Ii)return this.Ii;throw he(60996)}addReference(t,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),Vt.resolve()}removeReference(t,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),Vt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Vt.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vt.forEach(this.di,r=>{const i=le.fromPath(r);return this.Ai(t,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return Vt.or([()=>Vt.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class Eh{constructor(t,n){this.persistence=t,this.Ri=new Sa(r=>J3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=u6(this,n)}static Ei(t,n){return new Eh(t,n)}li(){}hi(t){return Vt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}Vr(t){let n=0;return this.Ar(t,r=>{n++}).next(()=>n)}Ar(t,n){return Vt.forEach(this.Ri,(r,i)=>this.gr(t,r,i).next(s=>s?Vt.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(t,o=>this.gr(t,o,n).next(a=>{a||(r++,s.removeEntry(o,ge.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),Vt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.Ri.set(r,t.currentSequenceNumber),Vt.resolve()}removeReference(t,n,r){return this.Ri.set(r,t.currentSequenceNumber),Vt.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),Vt.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wc(t.data.value)),n}gr(t,n,r){return Vt.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.Ri.get(n);return Vt.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ls=r,this.hs=i}static Ps(t,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qp(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return p4()?8:Q3(f4())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.Rs(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new w6;return this.fs(t,n,o).next(a=>{if(s.result=a,this.Is)return this.gs(t,n,o,a.size)})}).next(()=>s.result)}gs(t,n,r,i){return r.documentReadCount<this.Es?(rl()<=Ce.DEBUG&&Zt("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Vt.resolve()):(rl()<=Ce.DEBUG&&Zt("QueryEngine","Query:",il(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(rl()<=Ce.DEBUG&&Zt("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zi(n))):Vt.resolve())}Rs(t,n){if(um(n))return Vt.resolve(null);let r=Zi(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fd(n,null,"F"),r=Zi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Te(...s);return this.As.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const h=this.ps(n,a);return this.ys(n,h,o,u.readTime)?this.Rs(t,Fd(n,null,"F")):this.ws(t,h,n,u)}))})))}Vs(t,n,r,i){return um(n)||i.isEqual(ge.min())?Vt.resolve(null):this.As.getDocuments(t,r).next(s=>{const o=this.ps(n,s);return this.ys(n,o,r,i)?Vt.resolve(null):(rl()<=Ce.DEBUG&&Zt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),il(n)),this.ws(t,o,n,$3(i,Uu)).next(a=>a))})}ps(t,n){let r=new Bn(d5(t));return n.forEach((i,s)=>{Yh(t,s)&&(r=r.add(s))}),r}ys(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(t,n,r){return rl()<=Ce.DEBUG&&Zt("QueryEngine","Using full collection scan to execute query:",il(n)),this.As.getDocumentsMatchingQuery(t,n,Co.min(),r)}ws(t,n,r,i){return this.As.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="LocalStore",E6=3e8;class S6{constructor(t,n,r,i){this.persistence=t,this.bs=n,this.serializer=i,this.Ss=new pn(Ee),this.Ds=new Sa(s=>Cp(s),Rp),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(r)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new f6(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function x6(e,t,n,r){return new S6(e,t,n,r)}async function F5(e,t){const n=_e(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Te();for(const h of i){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ms:h,removedBatchIds:o,addedBatchIds:a}))})})}function I6(e,t){const n=_e(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,h,d){const g=h.batch,_=g.keys();let m=Vt.resolve();return _.forEach(P=>{m=m.next(()=>d.getEntry(u,P)).next(I=>{const M=h.docVersions.get(P);He(M!==null,48541),I.version.compareTo(M)<0&&(g.applyToRemoteDocument(I,h),I.isValidDocument()&&(I.setReadTime(h.commitVersion),d.addEntry(I)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Te();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(u=u.add(a.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function M5(e){const t=_e(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function T6(e,t){const n=_e(e),r=t.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];t.targetChanges.forEach((d,g)=>{const _=i.get(g);if(!_)return;a.push(n.ai.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.ai.addMatchingKeys(s,d.addedDocuments,g)));let m=_.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?m=m.withResumeToken(tr.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(g,m),function(I,M,C){return I.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=E6?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(_,m,d)&&a.push(n.ai.updateTargetData(s,m))});let u=Ms(),h=Te();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(P6(s,o,t.documentUpdates).next(d=>{u=d.xs,h=d.Os})),!r.isEqual(ge.min())){const d=n.ai.getLastRemoteSnapshotVersion(s).next(g=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Vt.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.Ss=i,s))}function P6(e,t,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Ms();return n.forEach((a,u)=>{const h=s.get(a);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ge.min())?(t.removeEntry(a,u.readTime),o=o.insert(a,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),o=o.insert(a,u)):Zt(Up,"Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",u.version)}),{xs:o,Os:i}})}function N6(e,t){const n=_e(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function L6(e,t){const n=_e(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,t).next(s=>s?(i=s,Vt.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new Eo(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(t,r.targetId)),r})}async function qd(e,t,n){const r=_e(e),i=r.Ss.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ql(o))throw o;Zt(Up,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(i.target)}function Am(e,t,n){const r=_e(e);let i=ge.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,d){const g=_e(u),_=g.Ds.get(d);return _!==void 0?Vt.resolve(g.Ss.get(_)):g.ai.getTargetData(h,d)}(r,o,Zi(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.bs.getDocumentsMatchingQuery(o,t,n?i:ge.min(),n?s:Te())).next(a=>(C6(r,vA(t),a),{documents:a,Ns:s})))}function C6(e,t,n){let r=e.vs.get(t)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.vs.set(t,r)}class Em{constructor(){this.activeTargetIds=EA()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class R6{constructor(){this.So=new Em,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,r){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new Em,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="ConnectivityMonitor";class xm{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Zt(Sm,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Zt(Sm,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function Ud(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="RestConnection",D6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O6{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===mh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(t,n,r,i,s){const o=Ud(),a=this.$o(t,n.toUriEncodedString());Zt(Kf,`Sending RPC '${t}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(u,i,s);const{host:h}=new URL(a),d=k0(h);return this.Ko(t,a,u,r,d).then(g=>(Zt(Kf,`Received RPC '${t}' ${o}: `,g),g),g=>{throw Ll(Kf,`RPC '${t}' ${o} failed with error: `,g,"url: ",a,"request:",r),g})}Wo(t,n,r,i,s,o){return this.Qo(t,n,r,i,s)}Uo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}$o(t,n){const r=D6[t];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class M6 extends O6{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,r,i,s){const o=Ud();return new Promise((a,u)=>{const h=new q0;h.setWithCredentials(!0),h.listenOnce(U0.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Hc.NO_ERROR:const g=h.getResponseJson();Zt(sr,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(g)),a(g);break;case Hc.TIMEOUT:Zt(sr,`RPC '${t}' ${o} timed out`),u(new ie(zt.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const _=h.getStatus();if(Zt(sr,`RPC '${t}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let m=h.getResponseJson();Array.isArray(m)&&(m=m[0]);const P=m==null?void 0:m.error;if(P&&P.status&&P.message){const I=function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values(zt).indexOf(k)>=0?k:zt.UNKNOWN}(P.status);u(new ie(I,P.message))}else u(new ie(zt.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ie(zt.UNAVAILABLE,"Connection failed."));break;default:he(9055,{s_:t,streamId:o,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{Zt(sr,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(i);Zt(sr,`RPC '${t}' ${o} sending request:`,i),h.send(n,"POST",d,r,15)})}a_(t,n,r){const i=Ud(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=H0(),a=$0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");Zt(sr,`Creating RPC '${t}' stream ${i}: ${d}`,u);const g=o.createWebChannel(d,u);let _=!1,m=!1;const P=new F6({Go:M=>{m?Zt(sr,`Not sending because RPC '${t}' stream ${i} is closed:`,M):(_||(Zt(sr,`Opening RPC '${t}' stream ${i} transport.`),g.open(),_=!0),Zt(sr,`RPC '${t}' stream ${i} sending:`,M),g.send(M))},zo:()=>g.close()}),I=(M,C,k)=>{M.listen(C,H=>{try{k(H)}catch(tt){setTimeout(()=>{throw tt},0)}})};return I(g,gu.EventType.OPEN,()=>{m||(Zt(sr,`RPC '${t}' stream ${i} transport opened.`),P.t_())}),I(g,gu.EventType.CLOSE,()=>{m||(m=!0,Zt(sr,`RPC '${t}' stream ${i} transport closed`),P.r_())}),I(g,gu.EventType.ERROR,M=>{m||(m=!0,Ll(sr,`RPC '${t}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),P.r_(new ie(zt.UNAVAILABLE,"The operation could not be completed")))}),I(g,gu.EventType.MESSAGE,M=>{var C;if(!m){const k=M.data[0];He(!!k,16349);const H=k,tt=(H==null?void 0:H.error)||((C=H[0])===null||C===void 0?void 0:C.error);if(tt){Zt(sr,`RPC '${t}' stream ${i} received error:`,tt);const _t=tt.status;let Pt=function(x){const U=Dn[x];if(U!==void 0)return S5(U)}(_t),O=tt.message;Pt===void 0&&(Pt=zt.INTERNAL,O="Unknown error status: "+_t+" with message "+tt.message),m=!0,P.r_(new ie(Pt,O)),g.close()}else Zt(sr,`RPC '${t}' stream ${i} received:`,k),P.i_(k)}}),I(a,z0.STAT_EVENT,M=>{M.stat===Ld.PROXY?Zt(sr,`RPC '${t}' stream ${i} detected buffering proxy`):M.stat===Ld.NOPROXY&&Zt(sr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.n_()},0),P}}function Qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(e){return new qA(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(t,n,r=1e3,i=1.5,s=6e4){this.bi=t,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Zt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="PersistentStream";class j5{constructor(t,n,r,i,s,o,a,u){this.bi=t,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new V5(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===zt.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===zt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{t(()=>{const i=new ie(zt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(t,n){const r=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Zt(Im,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(Zt(Im,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V6 extends j5{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=$A(this.serializer,t),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?ts(o.readTime):ge.min()}(t);return this.listener.Q_(n,r)}U_(t){const n={};n.database=Bd(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Od(u)?{documents:GA(s,u)}:{query:KA(s,u).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=T5(s,o.resumeToken);const h=Md(s,o.expectedCount);h!==null&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Ah(s,o.snapshotVersion.toTimestamp());const h=Md(s,o.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,t);const r=YA(this.serializer,t);r&&(n.labels=r),this.F_(n)}K_(t){const n={};n.database=Bd(this.serializer),n.removeTarget=t,this.F_(n)}}class j6 extends j5{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return He(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,He(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){He(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=WA(t.writeResults,t.commitTime),r=ts(t.commitTime);return this.listener.j_(r,n)}H_(){const t={};t.database=Bd(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>HA(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{}class q6 extends B6{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ie(zt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(t,Vd(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(zt.UNKNOWN,s.toString())})}Wo(t,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(t,Vd(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(zt.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class U6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Fs(n),this.ea=!1):Zt("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class z6{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{xa(this)&&(Zt(Aa,"Restarting streams for network reachability change."),await async function(u){const h=_e(u);h.aa.add(4),await tc(h),h.la.set("Unknown"),h.aa.delete(4),await ef(h)}(this))})}),this.la=new U6(r,i)}}async function ef(e){if(xa(e))for(const t of e.ua)await t(!0)}async function tc(e){for(const t of e.ua)await t(!1)}function B5(e,t){const n=_e(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Wp(n)?Hp(n):Ul(n).b_()&&$p(n,t))}function zp(e,t){const n=_e(e),r=Ul(n);n._a.delete(t),r.b_()&&q5(n,t),n._a.size===0&&(r.b_()?r.v_():xa(n)&&n.la.set("Unknown"))}function $p(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ge.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ul(e).U_(t)}function q5(e,t){e.ha.Ke(t),Ul(e).K_(t)}function Hp(e){e.ha=new MA({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Ul(e).start(),e.la.ta()}function Wp(e){return xa(e)&&!Ul(e).w_()&&e._a.size>0}function xa(e){return _e(e).aa.size===0}function U5(e){e.ha=void 0}async function $6(e){e.la.set("Online")}async function H6(e){e._a.forEach((t,n)=>{$p(e,t)})}async function W6(e,t){U5(e),Wp(e)?(e.la.ia(t),Hp(e)):e.la.set("Unknown")}async function G6(e,t,n){if(e.la.set("Online"),t instanceof I5&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i._a.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))}(e,t)}catch(r){Zt(Aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Sh(e,r)}else if(t instanceof Qc?e.ha.Xe(t):t instanceof x5?e.ha.ot(t):e.ha.nt(t),!n.isEqual(ge.min()))try{const r=await M5(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s._a.get(h);d&&s._a.set(h,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,h)=>{const d=s._a.get(u);if(!d)return;s._a.set(u,d.withResumeToken(tr.EMPTY_BYTE_STRING,d.snapshotVersion)),q5(s,u);const g=new Eo(d.target,u,h,d.sequenceNumber);$p(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Zt(Aa,"Failed to raise snapshot:",r),await Sh(e,r)}}async function Sh(e,t,n){if(!ql(t))throw t;e.aa.add(1),await tc(e),e.la.set("Offline"),n||(n=()=>M5(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Zt(Aa,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await ef(e)})}function z5(e,t){return t().catch(n=>Sh(e,n,t))}async function nf(e){const t=_e(e),n=Oo(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:Pp;for(;K6(t);)try{const i=await N6(t.localStore,r);if(i===null){t.oa.length===0&&n.v_();break}r=i.batchId,Q6(t,i)}catch(i){await Sh(t,i)}$5(t)&&H5(t)}function K6(e){return xa(e)&&e.oa.length<10}function Q6(e,t){e.oa.push(t);const n=Oo(e);n.b_()&&n.W_&&n.G_(t.mutations)}function $5(e){return xa(e)&&!Oo(e).w_()&&e.oa.length>0}function H5(e){Oo(e).start()}async function Y6(e){Oo(e).H_()}async function J6(e){const t=Oo(e);for(const n of e.oa)t.G_(n.mutations)}async function X6(e,t,n){const r=e.oa.shift(),i=Fp.from(r,t,n);await z5(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await nf(e)}async function Z6(e,t){t&&Oo(e).W_&&await async function(r,i){if(function(o){return OA(o)&&o!==zt.ABORTED}(i.code)){const s=r.oa.shift();Oo(r).D_(),await z5(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await nf(r)}}(e,t),$5(e)&&H5(e)}async function Tm(e,t){const n=_e(e);n.asyncQueue.verifyOperationInProgress(),Zt(Aa,"RemoteStore received new credentials");const r=xa(n);n.aa.add(3),await tc(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await ef(n)}async function tE(e,t){const n=_e(e);t?(n.aa.delete(2),await ef(n)):t||(n.aa.add(2),await tc(n),n.la.set("Unknown"))}function Ul(e){return e.Pa||(e.Pa=function(n,r,i){const s=_e(n);return s.Y_(),new V6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{jo:$6.bind(null,e),Jo:H6.bind(null,e),Zo:W6.bind(null,e),Q_:G6.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),Wp(e)?Hp(e):e.la.set("Unknown")):(await e.Pa.stop(),U5(e))})),e.Pa}function Oo(e){return e.Ta||(e.Ta=function(n,r,i){const s=_e(n);return s.Y_(),new j6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Y6.bind(null,e),Zo:Z6.bind(null,e),z_:J6.bind(null,e),j_:X6.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await nf(e)):(await e.Ta.stop(),e.oa.length>0&&(Zt(Aa,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Gp(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(zt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(e,t){if(Fs("AsyncQueue",`${t}: ${e}`),ql(e))return new ie(zt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{static emptySet(t){return new wl(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=mu(),this.sortedSet=new pn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof wl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new wl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.Ia=new pn(le.comparator)}track(t){const n=t.doc.key,r=this.Ia.get(n);r?t.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Ia=this.Ia.remove(n):t.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):he(63341,{Vt:t,Ea:r}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ol{constructor(t,n,r,i,s,o,a,u,h){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ol(t,n,wl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class nE{constructor(){this.queries=Nm(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=_e(n),s=i.queries;i.queries=Nm(),s.forEach((o,a)=>{for(const u of a.Ra)u.onError(r)})})(this,new ie(zt.ABORTED,"Firestore shutting down"))}}function Nm(){return new Sa(e=>f5(e),Qh)}async function W5(e,t){const n=_e(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Va()&&t.ma()&&(r=2):(s=new eE,r=t.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Kp(o,`Initialization of query '${il(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.Ra.push(t),t.ga(n.onlineState),s.Aa&&t.pa(s.Aa)&&Qp(n)}async function G5(e,t){const n=_e(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Ra.indexOf(t);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=t.ma()?0:1:!s.Va()&&t.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rE(e,t){const n=_e(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&Qp(n)}function iE(e,t,n){const r=_e(e),i=r.queries.get(t);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(t)}function Qp(e){e.fa.forEach(t=>{t.next()})}var zd,Lm;(Lm=zd||(zd={})).ya="default",Lm.Cache="cache";class K5{constructor(t,n,r){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Ol(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=Ol.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(t){this.key=t}}class Y5{constructor(t){this.key=t}}class sE{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Te(),this.mutatedKeys=Te(),this.Ua=d5(t),this.Ka=new wl(this.Ua)}get Wa(){return this.qa}Ga(t,n){const r=n?n.za:new Pm,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,g)=>{const _=i.get(d),m=Yh(this.query,g)?g:null,P=!!_&&this.mutatedKeys.has(_.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let M=!1;_&&m?_.data.isEqual(m.data)?P!==I&&(r.track({type:3,doc:m}),M=!0):this.ja(_,m)||(r.track({type:2,doc:m}),M=!0,(u&&this.Ua(m,u)>0||h&&this.Ua(m,h)<0)&&(a=!0)):!_&&m?(r.track({type:0,doc:m}),M=!0):_&&!m&&(r.track({type:1,doc:_}),M=!0,(u||h)&&(a=!0)),M&&(m?(o=o.add(m),s=I?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const o=t.za.da();o.sort((d,g)=>function(m,P){const I=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Vt:M})}};return I(m)-I(P)}(d.type,g.type)||this.Ua(d.doc,g.doc)),this.Ha(r),i=i!=null&&i;const a=n&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,h=u!==this.Qa;return this.Qa=u,o.length!==0||h?{snapshot:new Ol(this.query,t.Ka,s,o,t.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Pm,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Te(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return t.forEach(r=>{this.$a.has(r)||n.push(new Y5(r))}),this.$a.forEach(r=>{t.has(r)||n.push(new Q5(r))}),n}Xa(t){this.qa=t.Ns,this.$a=Te();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return Ol.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Yp="SyncEngine";class oE{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class aE{constructor(t){this.key=t,this.tu=!1}}class lE{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Sa(a=>f5(a),Qh),this.iu=new Map,this.su=new Set,this.ou=new pn(le.comparator),this._u=new Map,this.au=new jp,this.uu={},this.cu=new Map,this.lu=Dl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function uE(e,t,n=!0){const r=nv(e);let i;const s=r.ru.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await J5(r,t,n,!0),i}async function cE(e,t){const n=nv(e);await J5(n,t,!0,!1)}async function J5(e,t,n,r){const i=await L6(e.localStore,Zi(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await hE(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&B5(e.remoteStore,i),a}async function hE(e,t,n,r,i){e.Pu=(g,_,m)=>async function(I,M,C,k){let H=M.view.Ga(C);H.ys&&(H=await Am(I.localStore,M.query,!1).then(({documents:O})=>M.view.Ga(O,H)));const tt=k&&k.targetChanges.get(M.targetId),_t=k&&k.targetMismatches.get(M.targetId)!=null,Pt=M.view.applyChanges(H,I.isPrimaryClient,tt,_t);return Rm(I,M.targetId,Pt.Ya),Pt.snapshot}(e,g,_,m);const s=await Am(e.localStore,t,!0),o=new sE(t,s.Ns),a=o.Ga(s.documents),u=Zu.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),h=o.applyChanges(a,e.isPrimaryClient,u);Rm(e,n,h.Ya);const d=new oE(t,n,o);return e.ru.set(t,d),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),h.snapshot}async function fE(e,t,n){const r=_e(e),i=r.ru.get(t),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!Qh(o,t))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zp(r.remoteStore,i.targetId),$d(r,i.targetId)}).catch(Bl)):($d(r,i.targetId),await qd(r.localStore,i.targetId,!0))}async function dE(e,t){const n=_e(e),r=n.ru.get(t),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zp(n.remoteStore,r.targetId))}async function pE(e,t,n){const r=wE(e);try{const i=await function(o,a){const u=_e(o),h=jn.now(),d=a.reduce((m,P)=>m.add(P.key),Te());let g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let P=Ms(),I=Te();return u.Cs.getEntries(m,d).next(M=>{P=M,P.forEach((C,k)=>{k.isValidDocument()||(I=I.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,P)).next(M=>{g=M;const C=[];for(const k of a){const H=LA(k,g.get(k.key).overlayedDocument);H!=null&&C.push(new Uo(k.key,H,s5(H.value.mapValue),Ti.exists(!0)))}return u.mutationQueue.addMutationBatch(m,h,C,a)}).next(M=>{_=M;const C=M.applyToLocalDocumentSet(g,I);return u.documentOverlayCache.saveOverlays(m,M.batchId,C)})}).then(()=>({batchId:_.batchId,changes:g5(g)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let h=o.uu[o.currentUser.toKey()];h||(h=new pn(Ee)),h=h.insert(a,u),o.uu[o.currentUser.toKey()]=h}(r,i.batchId,n),await ec(r,i.changes),await nf(r.remoteStore)}catch(i){const s=Kp(i,"Failed to persist write");n.reject(s)}}async function X5(e,t){const n=_e(e);try{const r=await T6(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n._u.get(s);o&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?He(o.tu,14607):i.removedDocuments.size>0&&(He(o.tu,42227),o.tu=!1))}),await ec(n,r,t)}catch(r){await Bl(r)}}function Cm(e,t,n){const r=_e(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,o)=>{const a=o.view.ga(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=_e(o);u.onlineState=a;let h=!1;u.queries.forEach((d,g)=>{for(const _ of g.Ra)_.ga(a)&&(h=!0)}),h&&Qp(u)}(r.eventManager,t),i.length&&r.nu.Q_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gE(e,t,n){const r=_e(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r._u.get(t),s=i&&i.key;if(s){let o=new pn(le.comparator);o=o.insert(s,dr.newNoDocument(s,ge.min()));const a=Te().add(s),u=new Zh(ge.min(),new Map,new pn(Ee),o,a);await X5(r,u),r.ou=r.ou.remove(s),r._u.delete(t),Jp(r)}else await qd(r.localStore,t,!1).then(()=>$d(r,t,n)).catch(Bl)}async function mE(e,t){const n=_e(e),r=t.batch.batchId;try{const i=await I6(n.localStore,t);tv(n,r,null),Z5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ec(n,i)}catch(i){await Bl(i)}}async function vE(e,t,n){const r=_e(e);try{const i=await function(o,a){const u=_e(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,a).next(g=>(He(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(r.localStore,t);tv(r,t,n),Z5(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ec(r,i)}catch(i){await Bl(i)}}function Z5(e,t){(e.cu.get(t)||[]).forEach(n=>{n.resolve()}),e.cu.delete(t)}function tv(e,t,n){const r=_e(e);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.uu[r.currentUser.toKey()]=i}}function $d(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(r=>{e.au.containsKey(r)||ev(e,r)})}function ev(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);n!==null&&(zp(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),Jp(e))}function Rm(e,t,n){for(const r of n)r instanceof Q5?(e.au.addReference(r.key,t),yE(e,r)):r instanceof Y5?(Zt(Yp,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||ev(e,r.key)):he(19791,{Iu:r})}function yE(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(Zt(Yp,"New document in limbo: "+n),e.su.add(r),Jp(e))}function Jp(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new le(dn.fromString(t)),r=e.lu.next();e._u.set(r,new aE(n)),e.ou=e.ou.insert(n,r),B5(e.remoteStore,new Eo(Zi(kp(n.path)),r,"TargetPurposeLimboResolution",Hh.le))}}async function ec(e,t,n){const r=_e(e),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,u)=>{o.push(r.Pu(u,t,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=qp.Ps(u.targetId,h);s.push(g)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(u,h){const d=_e(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Vt.forEach(h,_=>Vt.forEach(_.ls,m=>d.persistence.referenceDelegate.addReference(g,_.targetId,m)).next(()=>Vt.forEach(_.hs,m=>d.persistence.referenceDelegate.removeReference(g,_.targetId,m)))))}catch(g){if(!ql(g))throw g;Zt(Up,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const m=d.Ss.get(_),P=m.snapshotVersion,I=m.withLastLimboFreeSnapshotVersion(P);d.Ss=d.Ss.insert(_,I)}}}(r.localStore,s))}async function _E(e,t){const n=_e(e);if(!n.currentUser.isEqual(t)){Zt(Yp,"User change. New user:",t.toKey());const r=await F5(n.localStore,t);n.currentUser=t,function(s,o){s.cu.forEach(a=>{a.forEach(u=>{u.reject(new ie(zt.CANCELLED,o))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ec(n,r.Ms)}}function bE(e,t){const n=_e(e),r=n._u.get(t);if(r&&r.tu)return Te().add(r.key);{let i=Te();const s=n.iu.get(t);if(!s)return i;for(const o of s){const a=n.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function nv(e){const t=_e(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=X5.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gE.bind(null,t),t.nu.Q_=rE.bind(null,t.eventManager),t.nu.Tu=iE.bind(null,t.eventManager),t}function wE(e){const t=_e(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vE.bind(null,t),t}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=tf(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return x6(this.persistence,new A6,t.initialUser,this.serializer)}Ru(t){return new O5(Bp.Ei,this.serializer)}Au(t){return new R6}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class AE extends xh{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){He(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new a6(r,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?Or.withCacheSize(this.cacheSizeBytes):Or.DEFAULT;return new O5(r=>Eh.Ei(r,n),this.serializer)}}class Hd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_E.bind(null,this.syncEngine),await tE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nE}()}createDatastore(t){const n=tf(t.databaseInfo.databaseId),r=function(s){return new M6(s)}(t.databaseInfo);return function(s,o,a,u){return new q6(s,o,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new z6(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Cm(this.syncEngine,n,0),function(){return xm.C()?new xm:new k6}())}createSyncEngine(t,n){return function(i,s,o,a,u,h,d){const g=new lE(i,s,o,a,u,h);return d&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const s=_e(i);Zt(Aa,"RemoteStore shutting down."),s.aa.add(5),await tc(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hd.provider={build:()=>new Hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Fs("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="FirestoreClient";class EE{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cr.UNAUTHENTICATED,this.clientId=Q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Zt(Fo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Zt(Fo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Kp(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Yf(e,t){e.asyncQueue.verifyOperationInProgress(),Zt(Fo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F5(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function km(e,t){e.asyncQueue.verifyOperationInProgress();const n=await SE(e);Zt(Fo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Tm(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Tm(t.remoteStore,i)),e._onlineComponents=t}async function SE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Zt(Fo,"Using user provided OfflineComponentProvider");try{await Yf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===zt.FAILED_PRECONDITION||i.code===zt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ll("Error using user provided cache. Falling back to memory cache: "+n),await Yf(e,new xh)}}else Zt(Fo,"Using default OfflineComponentProvider"),await Yf(e,new AE(void 0));return e._offlineComponents}async function iv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Zt(Fo,"Using user provided OnlineComponentProvider"),await km(e,e._uninitializedComponentsProvider._online)):(Zt(Fo,"Using default OnlineComponentProvider"),await km(e,new Hd))),e._onlineComponents}function xE(e){return iv(e).then(t=>t.syncEngine)}async function sv(e){const t=await iv(e),n=t.eventManager;return n.onListen=uE.bind(null,t.syncEngine),n.onUnlisten=fE.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=cE.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=dE.bind(null,t.syncEngine),n}function IE(e,t,n={}){const r=new Ds;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,h){const d=new rv({next:_=>{d.yu(),o.enqueueAndForget(()=>G5(s,g));const m=_.docs.has(a);!m&&_.fromCache?h.reject(new ie(zt.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&_.fromCache&&u&&u.source==="server"?h.reject(new ie(zt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new K5(kp(a.path),d,{includeMetadataChanges:!0,Fa:!0});return W5(s,g)}(await sv(e),e.asyncQueue,t,n,r)),r.promise}function TE(e,t,n={}){const r=new Ds;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,h){const d=new rv({next:_=>{d.yu(),o.enqueueAndForget(()=>G5(s,g)),_.fromCache&&u.source==="server"?h.reject(new ie(zt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new K5(a,d,{includeMetadataChanges:!0,Fa:!0});return W5(s,g)}(await sv(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(e,t,n){if(!n)throw new ie(zt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function PE(e,t,n,r){if(t===!0&&r===!0)throw new ie(zt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Om(e){if(!le.isDocumentKey(e))throw new ie(zt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Fm(e){if(le.isDocumentKey(e))throw new ie(zt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Xp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":he(12329,{type:typeof e})}function Vs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ie(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(e);throw new ie(zt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="firestore.googleapis.com",Mm=!0;class Vm{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ie(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lv,this.ssl=Mm}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Mm;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=D5;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<s6)throw new ie(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ov((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rf{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ie(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vm(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O3;switch(r.type){case"firstParty":return new j3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Dm.get(n);r&&(Zt("ComponentProvider","Removing Datastore"),Dm.delete(n),r.terminate())}(this),Promise.resolve()}}function NE(e,t,n,r={}){var i;e=Vs(e,rf);const s=k0(t),o=e._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;s&&b4(`https://${u}`),o.host!==lv&&o.host!==u&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:r});if(!fh(h,a)&&(e._setSettings(h),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=cr.MOCK_USER;else{d=h4(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ie(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cr(_)}e._authCredentials=new F3(new G0(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new sf(this.firestore,t,this._query)}}class ti{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ti(this.firestore,t,this._key)}}class No extends sf{constructor(t,n,r){super(t,n,kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ti(this.firestore,null,new le(t))}withConverter(t){return new No(this.firestore,t,this._path)}}function Qr(e,t,...n){if(e=Lo(e),av("collection","path",t),e instanceof rf){const r=dn.fromString(t,...n);return Fm(r),new No(e,null,r)}{if(!(e instanceof ti||e instanceof No))throw new ie(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(dn.fromString(t,...n));return Fm(r),new No(e.firestore,null,r)}}function Fr(e,t,...n){if(e=Lo(e),arguments.length===1&&(t=Q0.newId()),av("doc","path",t),e instanceof rf){const r=dn.fromString(t,...n);return Om(r),new ti(e,null,new le(r))}{if(!(e instanceof ti||e instanceof No))throw new ie(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(dn.fromString(t,...n));return Om(r),new ti(e.firestore,e instanceof No?e.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="AsyncQueue";class Bm{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new V5(this,"async_queue_retry"),this.ju=()=>{const r=Qf();r&&Zt(jm,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const n=Qf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=Qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ds;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!ql(t))throw t;Zt(jm,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,Fs("INTERNAL UNHANDLED ERROR: ",qm(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(t,n,r){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const i=Gp.createAndSchedule(this,t,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&he(47125,{ec:qm(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function qm(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class zl extends rf{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Bm,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Bm(t),this._firestoreClient=void 0,await t}}}function LE(e,t){const n=typeof e=="object"?e:A3(),r=typeof e=="string"?e:mh,i=v3(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=u4("firestore");s&&NE(i,...s)}return i}function Zp(e){if(e._terminated)throw new ie(zt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||CE(e),e._firestoreClient}function CE(e){var t,n,r;const i=e._freezeSettings(),s=function(a,u,h,d){return new tA(a,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ov(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new EE(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fl(tr.fromBase64String(t))}catch(n){throw new ie(zt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fl(tr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ie(zt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ie(zt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ie(zt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ee(this._lat,t._lat)||Ee(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=/^__.*__$/;class kE{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Uo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(t,this.data,n,this.fieldTransforms)}}class uv{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Uo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function cv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{oc:e})}}class r1{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new r1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ac({path:r,cc:!1});return i.lc(t),i}hc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Ih(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(cv(this.oc)&&RE.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class DE{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||tf(t)}dc(t,n,r,i=!1){return new r1({oc:t,methodName:n,Ec:r,path:Xn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hv(e){const t=e._freezeSettings(),n=tf(e._databaseId);return new DE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function OE(e,t,n,r,i,s={}){const o=e.dc(s.merge||s.mergeFields?2:0,t,n,i);i1("Data must be an object, but it was:",o,r);const a=fv(r,o);let u,h;if(s.merge)u=new Xr(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const _=Wd(t,g,n);if(!o.contains(_))throw new ie(zt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);pv(d,_)||d.push(_)}u=new Xr(d),h=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=o.fieldTransforms;return new kE(new Mr(a),u,h)}class af extends t1{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof af}}function FE(e,t,n,r){const i=e.dc(1,t,n);i1("Data must be an object, but it was:",i,r);const s=[],o=Mr.empty();qo(r,(u,h)=>{const d=s1(t,u,n);h=Lo(h);const g=i.hc(d);if(h instanceof af)s.push(d);else{const _=lf(h,g);_!=null&&(s.push(d),o.set(d,_))}});const a=new Xr(s);return new uv(o,a,i.fieldTransforms)}function ME(e,t,n,r,i,s){const o=e.dc(1,t,n),a=[Wd(t,r,n)],u=[i];if(s.length%2!=0)throw new ie(zt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)a.push(Wd(t,s[_])),u.push(s[_+1]);const h=[],d=Mr.empty();for(let _=a.length-1;_>=0;--_)if(!pv(h,a[_])){const m=a[_];let P=u[_];P=Lo(P);const I=o.hc(m);if(P instanceof af)h.push(m);else{const M=lf(P,I);M!=null&&(h.push(m),d.set(m,M))}}const g=new Xr(h);return new uv(d,g,o.fieldTransforms)}function lf(e,t){if(dv(e=Lo(e)))return i1("Unsupported field value:",t,e),fv(e,t);if(e instanceof t1)return function(r,i){if(!cv(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=lf(a,i.Pc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Lo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=jn.fromDate(r);return{timestampValue:Ah(i.serializer,s)}}if(r instanceof jn){const s=new jn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(i.serializer,s)}}if(r instanceof e1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fl)return{bytesValue:T5(i.serializer,r._byteString)};if(r instanceof ti){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof n1)return function(o,a){return{mapValue:{fields:{[r5]:{stringValue:i5},[vh]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw a.Tc("VectorValues must only contain numeric values.");return Dp(a.serializer,h)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Xp(r)}`)}(e,t)}function fv(e,t){const n={};return J0(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qo(e,(r,i)=>{const s=lf(i,t.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dv(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof jn||e instanceof e1||e instanceof Fl||e instanceof ti||e instanceof t1||e instanceof n1)}function i1(e,t,n){if(!dv(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Xp(n);throw r==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function Wd(e,t,n){if((t=Lo(t))instanceof of)return t._internalPath;if(typeof t=="string")return s1(e,t);throw Ih("Field path arguments must be of type string or ",e,!1,void 0,n)}const VE=new RegExp("[~\\*/\\[\\]]");function s1(e,t,n){if(t.search(VE)>=0)throw Ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new of(...t.split("."))._internalPath}catch{throw Ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ih(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ie(zt.INVALID_ARGUMENT,a+e+u)}function pv(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(mv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jE extends gv{data(){return super.data()}}function mv(e,t){return typeof t=="string"?s1(e,t):t instanceof of?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ie(zt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qE{convertValue(t,n="none"){switch(Do(t)){case 0:return null;case 1:return t.booleanValue;case 2:return En(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ko(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw he(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return qo(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){var n,r,i;const s=(i=(r=(n=t.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>En(o.doubleValue));return new n1(s)}convertGeoPoint(t){return new e1(En(t.latitude),En(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Gh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zu(t));default:return null}}convertTimestamp(t){const n=Ro(t);return new jn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=dn.fromString(t);He(k5(r),9688,{name:t});const i=new $u(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||Fs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vv extends gv{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(mv("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yc extends vv{data(t={}){return super.data(t)}}class zE{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Yc(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(zt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Yc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return a.type!==0&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:$E(a.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $E(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(e){e=Vs(e,ti);const t=Vs(e.firestore,zl);return IE(Zp(t),e._key).then(n=>HE(t,e,n))}class yv extends qE{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fl(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ti(this.firestore,null,n)}}function Ns(e){e=Vs(e,sf);const t=Vs(e.firestore,zl),n=Zp(t),r=new yv(t);return BE(e._query),TE(n,e._query).then(i=>new zE(t,r,e,i))}function Al(e,t,n,...r){e=Vs(e,ti);const i=Vs(e.firestore,zl),s=hv(i);let o;return o=typeof(t=Lo(t))=="string"||t instanceof of?ME(s,"updateDoc",e._key,t,n,r):FE(s,"updateDoc",e._key,t),o1(i,[o.toMutation(e._key,Ti.exists(!0))])}function Ao(e){return o1(Vs(e.firestore,zl),[new Op(e._key,Ti.none())])}function Th(e,t){const n=Vs(e.firestore,zl),r=Fr(e),i=UE(e.converter,t);return o1(n,[OE(hv(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then(()=>r)}function o1(e,t){return function(r,i){const s=new Ds;return r.asyncQueue.enqueueAndForget(async()=>pE(await xE(r),i,s)),s.promise}(Zp(e),t)}function HE(e,t,n){const r=n.docs.get(t._key),i=new yv(e);return new vv(e,i,t._key,r,new yu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){jl=i})(w3),ph(new Bu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new zl(new M3(r.getProvider("auth-internal")),new B3(o,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ie(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(h.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),bl(Wg,Gg,t),bl(Wg,Gg,"esm2017")})();const WE={apiKey:"AIzaSyB3UMXpG2mt0feWC8K9SOkzR8VIUqgCUDY",authDomain:"notasdepedido.firebaseapp.com",projectId:"notasdepedido",storageBucket:"notasdepedido.firebasestorage.app",messagingSenderId:"74167398468",appId:"1:74167398468:web:4fee46f74b466de40a4c11"},GE=M0(WE),fn=LE(GE),KE={type:"submit"},QE={border:"1",style:{"margin-top":"10px"}},YE={class:"border px-1 py-0"},JE={class:"border px-1 py-0"},XE={class:"border px-1 py-0"},ZE={class:"border px-1 py-0"},tS={class:"border px-1 py-0"},eS={class:"border px-1 py-0"},nS={class:"border px-1 py-0"},rS=["onClick"],iS=["onClick"],sS={class:"flex justify-center mt-4"},oS=["disabled"],aS=["onClick"],lS=["disabled"],Jf=10,uS={__name:"GestorStock",setup(e){const t=Ve([]),n=Ve(""),r=Ve({codigo:"",descripcion:"",existencias:0,precioUnitario:0,descuento:0}),i=Ve(!1),s=Ve(null),o=async()=>{const C=await Ns(Qr(fn,"productos"));t.value=C.docs.map(k=>({id:k.id,...k.data()}))},a=Tn(()=>{const C=n.value.toLowerCase();return t.value.filter(k=>k.codigo.toLowerCase().includes(C)||k.descripcion.toLowerCase().includes(C)).sort((k,H)=>{const tt=isNaN(k.codigo)?k.codigo:Number(k.codigo),_t=isNaN(H.codigo)?H.codigo:Number(H.codigo);return tt>_t?1:tt<_t?-1:0})}),u=async()=>{await Th(Qr(fn,"productos"),{...r.value}),m(),await o()},h=C=>{i.value=!0,s.value=C.id,r.value={codigo:C.codigo,descripcion:C.descripcion,existencias:C.existencias,precioUnitario:C.precioUnitario,descuento:C.descuento}},d=async()=>{const C=Fr(fn,"productos",s.value);await Al(C,{...r.value}),m(),i.value=!1,s.value=null,await o()},g=async C=>{confirm("Seguro que quers eliminar este producto?")&&(await Ao(Fr(fn,"productos",C)),await o())},_=()=>{m(),i.value=!1,s.value=null},m=()=>{r.value={codigo:"",descripcion:"",existencias:0,precioUnitario:0,modo:0,descuento:0}},P=Ve(1),I=Tn(()=>{const C=(P.value-1)*Jf,k=C+Jf;return a.value.slice(C,k)}),M=Tn(()=>Math.ceil(a.value.length/Jf));return yl(a,()=>{P.value=1}),Bh(o),(C,k)=>(Le(),Je("div",null,[k[12]||(k[12]=ft("h2",null,"Gestor de Stock",-1)),Oe(ft("input",{"onUpdate:modelValue":k[0]||(k[0]=H=>n.value=H),placeholder:"Buscar por cdigo o descripcin",style:{"margin-bottom":"10px",width:"100%",padding:"5px"}},null,512),[[Me,n.value]]),ft("form",{onSubmit:k[7]||(k[7]=wd(H=>i.value?d():u(),["prevent"]))},[Oe(ft("input",{"onUpdate:modelValue":k[1]||(k[1]=H=>r.value.codigo=H),placeholder:"Cdigo",required:""},null,512),[[Me,r.value.codigo]]),Oe(ft("input",{"onUpdate:modelValue":k[2]||(k[2]=H=>r.value.descripcion=H),placeholder:"Descripcin",required:""},null,512),[[Me,r.value.descripcion]]),Oe(ft("input",{"onUpdate:modelValue":k[3]||(k[3]=H=>r.value.existencias=H),placeholder:"Existencias",type:"number",required:""},null,512),[[Me,r.value.existencias,void 0,{number:!0}]]),Oe(ft("input",{"onUpdate:modelValue":k[4]||(k[4]=H=>r.value.precioUnitario=H),placeholder:"Precio",type:"number",step:"0.01",required:""},null,512),[[Me,r.value.precioUnitario,void 0,{number:!0}]]),Oe(ft("select",{"onUpdate:modelValue":k[5]||(k[5]=H=>r.value.modo=H),required:""},k[10]||(k[10]=[ft("option",{value:0},"Por unidad",-1),ft("option",{value:1},"Por peso",-1)]),512),[[Vb,r.value.modo,void 0,{number:!0}]]),Oe(ft("input",{"onUpdate:modelValue":k[6]||(k[6]=H=>r.value.descuento=H),placeholder:"Descuento (%)",type:"number"},null,512),[[Me,r.value.descuento,void 0,{number:!0}]]),ft("button",KE,$e(i.value?"Actualizar":"Agregar producto"),1),i.value?(Le(),Je("button",{key:0,type:"button",onClick:_},"Cancelar")):cl("",!0)],32),ft("table",QE,[k[11]||(k[11]=ft("thead",null,[ft("tr",null,[ft("th",{class:"border px-4 py-2"},"Cdigo"),ft("th",{class:"border px-4 py-2"},"Descripcin"),ft("th",{class:"border px-4 py-2"},"Stock"),ft("th",{class:"border px-4 py-2"},"Precio"),ft("th",{class:"border px-4 py-2"},"Modo"),ft("th",{class:"border px-4 py-2"},"Descuento"),ft("th",{class:"border px-4 py-2"},"Acciones")])],-1)),ft("tbody",null,[(Le(!0),Je(Mn,null,Rs(I.value,H=>(Le(),Je("tr",{key:H.id},[ft("td",YE,$e(H.codigo),1),ft("td",JE,$e(H.descripcion),1),ft("td",XE,$e(H.existencias),1),ft("td",ZE,$e(H.precioUnitario),1),ft("td",tS,$e(H.modo===1?"Peso":"Unidad"),1),ft("td",eS,$e(H.descuento)+"%",1),ft("td",nS,[ft("button",{onClick:tt=>h(H)},"Editar",8,rS),ft("button",{onClick:tt=>g(H.id)},"Eliminar",8,iS)])]))),128))])]),ft("div",sS,[ft("button",{disabled:P.value===1,onClick:k[8]||(k[8]=H=>P.value--),class:"px-3 py-1 bg-gray-300 rounded disabled:opacity-50"}," < ",8,oS),(Le(!0),Je(Mn,null,Rs(M.value,H=>(Le(),Je("button",{key:H,onClick:tt=>P.value=H,class:Ml(["px-3 py-1 mx-1 rounded",P.value===H?"bg-blue-500 text-white":"bg-gray-200"])},$e(H),11,aS))),128)),ft("button",{disabled:P.value===M.value,onClick:k[9]||(k[9]=H=>P.value++),class:"px-3 py-1 bg-gray-300 rounded disabled:opacity-50"}," > ",8,lS)])]))}},cS={class:"mb-4"},hS={key:0,id:"modal-overlay",class:"vue-modal-overlay"},fS={class:"vue-modal-content"},dS={border:"1",style:{"margin-top":"10px"}},pS={class:"border px-4 py-0"},gS={class:"border px-4 py-0"},mS={class:"border px-4 py-0"},vS={class:"border px-4 py-0"},yS=["onClick"],_S=["onClick"],bS=["onClick"],wS=["onClick"],AS={class:"mt-4 flex justify-center space-x-2"},ES=["disabled"],SS=["onClick"],xS=["disabled"],IS={key:0,id:"modal-edit-overlay",class:"vue-modal-overlay"},TS={class:"vue-modal-content"},PS={key:0,class:"vue-modal-overlay"},NS={class:"vue-modal-content"},LS={class:"mb-2"},CS={class:"mb-4"},RS={key:0,class:"vue-modal-overlay"},kS={class:"vue-modal-content"},DS={class:"mb-2"},OS={class:"mb-4"},Xf=10,FS={__name:"Clientes",setup(e){const t=Ve(""),n=Ve(!1),r=Ve([]),i=Ve(null),s=Ve({nombre:"",identificador:"",direccion:"",codigoPostal:"6400",localidad:"TRENQUE LAUQUEN",provincia:"BUENOS AIRES",telefono:"",cuentaCorriente:"",cuit:"",deuda:0}),o=async()=>{const O=await Ns(Qr(fn,"clientes"));r.value=O.docs.map(b=>({id:b.id,...b.data()})),r.value.sort((b,x)=>b.nombre.localeCompare(x.nombre))},a=async()=>{await Th(Qr(fn,"clientes"),s.value),n.value=!1,Object.assign(s.value,{nombre:"",identificador:"",direccion:"",codigoPostal:"",localidad:"",provincia:"BUENOS AIRES",telefono:"",cuentaCorriente:"",cuit:"",deuda:0}),o()},u=Ve(null),h=Ve(null),d=Ve(null),g=Ve(null),_=O=>{u.value=O,h.value=null},m=async()=>{if(!h.value||h.value<=0){alert("Ingresa un monto vlido");return}const O=(u.value.deuda||0)-h.value,b=Fr(fn,"clientes",u.value.id);await Al(b,{deuda:O}),u.value.deuda=O,u.value=null,o()},P=O=>{d.value=O,g.value=null},I=async()=>{if(!g.value||g.value<=0){alert("Ingresa un monto vlido");return}const O=(d.value.deuda||0)+g.value,b=Fr(fn,"clientes",d.value.id);await Al(b,{deuda:O}),d.value.deuda=O,d.value=null,o()},M=async O=>{await Ao(Fr(fn,"clientes",O)),o()},C=O=>{i.value={...O}},k=async()=>{const O=Fr(fn,"clientes",i.value.id),{id:b,...x}=i.value;await Al(O,x),i.value=null,o()},H=Tn(()=>r.value.filter(O=>O.nombre.toLowerCase().includes(t.value.toLowerCase())||O.identificador.toLowerCase().includes(t.value.toLowerCase()))),tt=Ve(1),_t=Tn(()=>{const O=(tt.value-1)*Xf,b=O+Xf;return H.value.slice(O,b)}),Pt=Tn(()=>Math.ceil(H.value.length/Xf));return yl(H,()=>{tt.value=1}),Bh(o),(O,b)=>(Le(),Je("div",null,[b[41]||(b[41]=ft("h2",{class:"text-2xl font-bold mb-4"},"Gestin de Clientes",-1)),ft("div",cS,[Oe(ft("input",{"onUpdate:modelValue":b[0]||(b[0]=x=>t.value=x),type:"text",placeholder:"Buscar por nombre o identificador",class:"border p-2 w-full md:w-1/2"},null,512),[[Me,t.value]])]),ft("button",{onClick:b[1]||(b[1]=x=>n.value=!0),class:"bg-blue-500 text-white px-4 py-2 mb-4 rounded"}," Agendar Cliente "),(Le(),ul(du,{to:"body"},[n.value?(Le(),Je("div",hS,[ft("div",fS,[ft("button",{onClick:b[2]||(b[2]=x=>n.value=!1),class:"modal-close"},""),b[29]||(b[29]=ft("h3",{class:"text-xl font-bold mb-4"},"Nuevo Cliente",-1)),ft("form",{onSubmit:wd(a,["prevent"])},[Oe(ft("input",{"onUpdate:modelValue":b[3]||(b[3]=x=>s.value.nombre=x),type:"text",placeholder:"Nombre",class:"modal-input",required:""},null,512),[[Me,s.value.nombre]]),Oe(ft("input",{"onUpdate:modelValue":b[4]||(b[4]=x=>s.value.identificador=x),type:"text",placeholder:"Identificacin",class:"modal-input",required:""},null,512),[[Me,s.value.identificador]]),Oe(ft("input",{"onUpdate:modelValue":b[5]||(b[5]=x=>s.value.direccion=x),type:"text",placeholder:"Direccin",class:"modal-input",required:""},null,512),[[Me,s.value.direccion]]),Oe(ft("input",{disabled:"","onUpdate:modelValue":b[6]||(b[6]=x=>s.value.codigoPostal=x),type:"text",placeholder:"Cdigo Postal",class:"modal-input",required:""},null,512),[[Me,s.value.codigoPostal]]),Oe(ft("input",{disabled:"","onUpdate:modelValue":b[7]||(b[7]=x=>s.value.localidad=x),type:"text",placeholder:"Localidad",class:"modal-input",required:""},null,512),[[Me,s.value.localidad]]),Oe(ft("input",{disabled:"","onUpdate:modelValue":b[8]||(b[8]=x=>s.value.provincia=x),type:"text",placeholder:"Provincia",class:"modal-input"},null,512),[[Me,s.value.provincia]]),Oe(ft("input",{"onUpdate:modelValue":b[9]||(b[9]=x=>s.value.telefono=x),type:"text",placeholder:"Telfono",class:"modal-input",required:""},null,512),[[Me,s.value.telefono]]),Oe(ft("input",{"onUpdate:modelValue":b[10]||(b[10]=x=>s.value.cuentaCorriente=x),type:"text",placeholder:"Cuenta Corriente",class:"modal-input",required:""},null,512),[[Me,s.value.cuentaCorriente]]),Oe(ft("input",{"onUpdate:modelValue":b[11]||(b[11]=x=>s.value.cuit=x),type:"text",placeholder:"CUIT",class:"modal-input",required:""},null,512),[[Me,s.value.cuit]]),b[28]||(b[28]=ft("div",{class:"flex justify-end mt-4"},[ft("button",{type:"submit",class:"bg-green-500 text-white px-4 py-2 rounded mr-2"},"Agendar")],-1))],32)])])):cl("",!0)])),ft("table",dS,[b[30]||(b[30]=ft("thead",null,[ft("tr",null,[ft("th",{class:"border px-4 py-2"},"Nombre"),ft("th",{class:"border px-4 py-2"},"Identificador"),ft("th",{class:"border px-4 py-2"},"Deuda"),ft("th",{class:"border px-4 py-2"},"Acciones")])],-1)),ft("tbody",null,[(Le(!0),Je(Mn,null,Rs(_t.value,x=>(Le(),Je("tr",{key:x.id},[ft("td",pS,$e(x.nombre),1),ft("td",gS,$e(x.identificador),1),ft("td",mS,"$"+$e(x.deuda.toFixed(2)),1),ft("td",vS,[ft("button",{onClick:U=>_(x),class:"bg-yellow-500 text-white px-2 py-1 rounded"},"Pagar Deuda",8,yS),ft("button",{onClick:U=>P(x),class:"bg-red-500 text-white px-2 py-1 rounded"},"Agregar Deuda",8,_S),ft("button",{onClick:U=>C(x),class:"bg-blue-500 text-white px-2 py-1 rounded"},"Ver/Editar",8,bS),ft("button",{onClick:U=>M(x.id),class:"bg-red-500 text-white px-2 py-1 rounded"},"Eliminar",8,wS)])]))),128))])]),ft("div",AS,[ft("button",{disabled:tt.value===1,onClick:b[12]||(b[12]=x=>tt.value--),class:"px-3 py-1 bg-gray-300 rounded disabled:opacity-50"}," < ",8,ES),(Le(!0),Je(Mn,null,Rs(Pt.value,x=>(Le(),Je("button",{key:x,onClick:U=>tt.value=x,class:Ml(["px-3 py-1 rounded",tt.value===x?"bg-blue-500 text-white":"bg-gray-200"])},$e(x),11,SS))),128)),ft("button",{disabled:tt.value===Pt.value,onClick:b[13]||(b[13]=x=>tt.value++),class:"px-3 py-1 bg-gray-300 rounded disabled:opacity-50"}," > ",8,xS)]),(Le(),ul(du,{to:"body"},[i.value?(Le(),Je("div",IS,[ft("div",TS,[ft("button",{onClick:b[14]||(b[14]=x=>i.value=null),class:"modal-close"},""),b[32]||(b[32]=ft("h3",{class:"text-xl font-bold mb-4"},"Editar Cliente",-1)),ft("form",{onSubmit:wd(k,["prevent"])},[Oe(ft("input",{"onUpdate:modelValue":b[15]||(b[15]=x=>i.value.nombre=x),type:"text",placeholder:"Nombre",class:"modal-input",required:""},null,512),[[Me,i.value.nombre]]),Oe(ft("input",{"onUpdate:modelValue":b[16]||(b[16]=x=>i.value.identificador=x),type:"text",placeholder:"Identificacin",class:"modal-input",required:""},null,512),[[Me,i.value.identificador]]),Oe(ft("input",{"onUpdate:modelValue":b[17]||(b[17]=x=>i.value.direccion=x),type:"text",placeholder:"Direccin",class:"modal-input",required:""},null,512),[[Me,i.value.direccion]]),Oe(ft("input",{"onUpdate:modelValue":b[18]||(b[18]=x=>i.value.codigoPostal=x),type:"text",placeholder:"Cdigo Postal",class:"modal-input",required:""},null,512),[[Me,i.value.codigoPostal]]),Oe(ft("input",{"onUpdate:modelValue":b[19]||(b[19]=x=>i.value.localidad=x),type:"text",placeholder:"Localidad",class:"modal-input",required:""},null,512),[[Me,i.value.localidad]]),Oe(ft("input",{disabled:"","onUpdate:modelValue":b[20]||(b[20]=x=>i.value.provincia=x),type:"text",placeholder:"Provincia",class:"modal-input"},null,512),[[Me,i.value.provincia]]),Oe(ft("input",{"onUpdate:modelValue":b[21]||(b[21]=x=>i.value.telefono=x),type:"text",placeholder:"Telfono",class:"modal-input",required:""},null,512),[[Me,i.value.telefono]]),Oe(ft("input",{"onUpdate:modelValue":b[22]||(b[22]=x=>i.value.cuentaCorriente=x),type:"text",placeholder:"Cuenta Corriente",class:"modal-input",required:""},null,512),[[Me,i.value.cuentaCorriente]]),Oe(ft("input",{"onUpdate:modelValue":b[23]||(b[23]=x=>i.value.cuit=x),type:"text",placeholder:"CUIT",class:"modal-input",required:""},null,512),[[Me,i.value.cuit]]),b[31]||(b[31]=ft("div",{class:"flex justify-end mt-4"},[ft("button",{type:"submit",class:"bg-green-500 text-white px-4 py-2 rounded mr-2"},"Guardar")],-1))],32)])])):cl("",!0)])),(Le(),ul(du,{to:"body"},[u.value?(Le(),Je("div",PS,[ft("div",NS,[ft("button",{class:"modal-close",onClick:b[24]||(b[24]=x=>u.value=null)},""),b[35]||(b[35]=ft("h3",{class:"text-xl font-bold mb-4"},"Pago de Deuda",-1)),ft("p",LS,[b[33]||(b[33]=ft("strong",null,"Cliente:",-1)),Yi(" "+$e(u.value.nombre),1)]),ft("p",CS,[b[34]||(b[34]=ft("strong",null,"Deuda actual:",-1)),Yi(" $"+$e(u.value.deuda),1)]),b[36]||(b[36]=ft("label",{for:"monto",class:"block mb-2"},"Monto a pagar:",-1)),Oe(ft("input",{id:"monto",type:"number","onUpdate:modelValue":b[25]||(b[25]=x=>h.value=x),class:"modal-input",placeholder:"Ingrese el monto",min:"0"},null,512),[[Me,h.value]]),ft("div",{class:"flex justify-end"},[ft("button",{onClick:m,class:"bg-green-500 text-white px-4 py-2 rounded mr-2"},"Pagar")])])])):cl("",!0)])),(Le(),ul(du,{to:"body"},[d.value?(Le(),Je("div",RS,[ft("div",kS,[ft("button",{class:"modal-close",onClick:b[26]||(b[26]=x=>d.value=null)},""),b[39]||(b[39]=ft("h3",{class:"text-xl font-bold mb-4"},"Agregar Deuda",-1)),ft("p",DS,[b[37]||(b[37]=ft("strong",null,"Cliente:",-1)),Yi(" "+$e(d.value.nombre),1)]),ft("p",OS,[b[38]||(b[38]=ft("strong",null,"Deuda actual:",-1)),Yi(" $"+$e(d.value.deuda),1)]),b[40]||(b[40]=ft("label",{for:"montoDeuda",class:"block mb-2"},"Monto a agregar:",-1)),Oe(ft("input",{id:"montoDeuda",type:"number","onUpdate:modelValue":b[27]||(b[27]=x=>g.value=x),class:"modal-input",placeholder:"Ingrese el monto",min:"0"},null,512),[[Me,g.value]]),ft("div",{class:"flex justify-end"},[ft("button",{onClick:I,class:"bg-blue-500 text-white px-4 py-2 rounded"},"Agregar")])])])):cl("",!0)]))]))}},MS="modulepreload",VS=function(e){return"/Stock/"+e},Um={},Gd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(h=>{if(h=VS(h),h in Um)return;Um[h]=!0;const d=h.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":MS,d||(_.as="script"),_.crossOrigin="",_.href=h,u&&_.setAttribute("nonce",u),document.head.appendChild(_),d)return new Promise((m,P)=>{_.addEventListener("load",m),_.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function Qe(e){"@babel/helpers - typeof";return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(e)}var gr=Uint8Array,Zr=Uint16Array,a1=Int32Array,uf=new gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cf=new gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Kd=new gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_v=function(e,t){for(var n=new Zr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new a1(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},bv=_v(uf,2),wv=bv.b,Qd=bv.r;wv[28]=258,Qd[258]=28;var Av=_v(cf,0),jS=Av.b,zm=Av.r,Yd=new Zr(32768);for(var hn=0;hn<32768;++hn){var vo=(hn&43690)>>1|(hn&21845)<<1;vo=(vo&52428)>>2|(vo&13107)<<2,vo=(vo&61680)>>4|(vo&3855)<<4,Yd[hn]=((vo&65280)>>8|(vo&255)<<8)>>1}var es=function(e,t,n){for(var r=e.length,i=0,s=new Zr(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Zr(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Zr(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var h=i<<4|e[i],d=t-e[i],g=o[e[i]-1]++<<d,_=g|(1<<d)-1;g<=_;++g)a[Yd[g]>>u]=h}else for(a=new Zr(r),i=0;i<r;++i)e[i]&&(a[i]=Yd[o[e[i]-1]++]>>15-e[i]);return a},Mo=new gr(288);for(var hn=0;hn<144;++hn)Mo[hn]=8;for(var hn=144;hn<256;++hn)Mo[hn]=9;for(var hn=256;hn<280;++hn)Mo[hn]=7;for(var hn=280;hn<288;++hn)Mo[hn]=8;var Ku=new gr(32);for(var hn=0;hn<32;++hn)Ku[hn]=5;var BS=es(Mo,9,0),qS=es(Mo,9,1),US=es(Ku,5,0),zS=es(Ku,5,1),Zf=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ei=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},td=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},l1=function(e){return(e+7)/8|0},Ev=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new gr(e.subarray(t,n))},$S=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xi=function(e,t,n){var r=new Error(t||$S[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,xi),!n)throw r;return r},HS=function(e,t,n,r){var i=e.length,s=0;if(!i||t.f&&!t.l)return n||new gr(0);var o=!n,a=o||t.i!=2,u=t.i;o&&(n=new gr(i*3));var h=function(Rt){var $=n.length;if(Rt>$){var z=new gr(Math.max($*2,Rt));z.set(n),n=z}},d=t.f||0,g=t.p||0,_=t.b||0,m=t.l,P=t.d,I=t.m,M=t.n,C=i*8;do{if(!m){d=Ei(e,g,1);var k=Ei(e,g+1,3);if(g+=3,k)if(k==1)m=qS,P=zS,I=9,M=5;else if(k==2){var Pt=Ei(e,g,31)+257,O=Ei(e,g+10,15)+4,b=Pt+Ei(e,g+5,31)+1;g+=14;for(var x=new gr(b),U=new gr(19),E=0;E<O;++E)U[Kd[E]]=Ei(e,g+E*3,7);g+=O*3;for(var S=Zf(U),T=(1<<S)-1,et=es(U,S,1),E=0;E<b;){var pt=et[Ei(e,g,T)];g+=pt&15;var H=pt>>4;if(H<16)x[E++]=H;else{var Q=0,lt=0;for(H==16?(lt=3+Ei(e,g,3),g+=2,Q=x[E-1]):H==17?(lt=3+Ei(e,g,7),g+=3):H==18&&(lt=11+Ei(e,g,127),g+=7);lt--;)x[E++]=Q}}var nt=x.subarray(0,Pt),At=x.subarray(Pt);I=Zf(nt),M=Zf(At),m=es(nt,I,1),P=es(At,M,1)}else xi(1);else{var H=l1(g)+4,tt=e[H-4]|e[H-3]<<8,_t=H+tt;if(_t>i){u&&xi(0);break}a&&h(_+tt),n.set(e.subarray(H,_t),_),t.b=_+=tt,t.p=g=_t*8,t.f=d;continue}if(g>C){u&&xi(0);break}}a&&h(_+131072);for(var st=(1<<I)-1,$t=(1<<M)-1,R=g;;R=g){var Q=m[td(e,g)&st],W=Q>>4;if(g+=Q&15,g>C){u&&xi(0);break}if(Q||xi(2),W<256)n[_++]=W;else if(W==256){R=g,m=null;break}else{var J=W-254;if(W>264){var E=W-257,it=uf[E];J=Ei(e,g,(1<<it)-1)+wv[E],g+=it}var ht=P[td(e,g)&$t],G=ht>>4;ht||xi(3),g+=ht&15;var At=jS[G];if(G>3){var it=cf[G];At+=td(e,g)&(1<<it)-1,g+=it}if(g>C){u&&xi(0);break}a&&h(_+131072);var ot=_+J;if(_<At){var X=s-At,It=Math.min(At,ot);for(X+_<0&&xi(3);_<It;++_)n[_]=r[X+_]}for(;_<ot;++_)n[_]=n[_-At]}}t.l=m,t.p=R,t.b=_,t.f=d,m&&(d=1,t.m=I,t.d=P,t.n=M)}while(!d);return _!=n.length&&o?Ev(n,0,_):n.subarray(0,_)},Ts=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},hu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},ed=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:xv,l:0};if(i==1){var o=new gr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(_t,Pt){return _t.f-Pt.f}),n.push({s:-1,f:25001});var a=n[0],u=n[1],h=0,d=1,g=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};d!=i-1;)a=n[n[h].f<n[g].f?h++:g++],u=n[h!=d&&n[h].f<n[g].f?h++:g++],n[d++]={s:-1,f:a.f+u.f,l:a,r:u};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var m=new Zr(_+1),P=Jd(n[d-1],m,0);if(P>t){var r=0,I=0,M=P-t,C=1<<M;for(s.sort(function(Pt,O){return m[O.s]-m[Pt.s]||Pt.f-O.f});r<i;++r){var k=s[r].s;if(m[k]>t)I+=C-(1<<P-m[k]),m[k]=t;else break}for(I>>=M;I>0;){var H=s[r].s;m[H]<t?I-=1<<t-m[H]++-1:++r}for(;r>=0&&I;--r){var tt=s[r].s;m[tt]==t&&(--m[tt],++I)}P=t}return{t:new gr(m),l:P}},Jd=function(e,t,n){return e.s==-1?Math.max(Jd(e.l,t,n+1),Jd(e.r,t,n+1)):t[e.s]=n},$m=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Zr(++t),r=0,i=e[0],s=1,o=function(u){n[r++]=u},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},fu=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Sv=function(e,t,n){var r=n.length,i=l1(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},Hm=function(e,t,n,r,i,s,o,a,u,h,d){Ts(t,d++,n),++i[256];for(var g=ed(i,15),_=g.t,m=g.l,P=ed(s,15),I=P.t,M=P.l,C=$m(_),k=C.c,H=C.n,tt=$m(I),_t=tt.c,Pt=tt.n,O=new Zr(19),b=0;b<k.length;++b)++O[k[b]&31];for(var b=0;b<_t.length;++b)++O[_t[b]&31];for(var x=ed(O,7),U=x.t,E=x.l,S=19;S>4&&!U[Kd[S-1]];--S);var T=h+5<<3,et=fu(i,Mo)+fu(s,Ku)+o,pt=fu(i,_)+fu(s,I)+o+14+3*S+fu(O,U)+2*O[16]+3*O[17]+7*O[18];if(u>=0&&T<=et&&T<=pt)return Sv(t,d,e.subarray(u,u+h));var Q,lt,nt,At;if(Ts(t,d,1+(pt<et)),d+=2,pt<et){Q=es(_,m,0),lt=_,nt=es(I,M,0),At=I;var st=es(U,E,0);Ts(t,d,H-257),Ts(t,d+5,Pt-1),Ts(t,d+10,S-4),d+=14;for(var b=0;b<S;++b)Ts(t,d+3*b,U[Kd[b]]);d+=3*S;for(var $t=[k,_t],R=0;R<2;++R)for(var W=$t[R],b=0;b<W.length;++b){var J=W[b]&31;Ts(t,d,st[J]),d+=U[J],J>15&&(Ts(t,d,W[b]>>5&127),d+=W[b]>>12)}}else Q=BS,lt=Mo,nt=US,At=Ku;for(var b=0;b<a;++b){var it=r[b];if(it>255){var J=it>>18&31;hu(t,d,Q[J+257]),d+=lt[J+257],J>7&&(Ts(t,d,it>>23&31),d+=uf[J]);var ht=it&31;hu(t,d,nt[ht]),d+=At[ht],ht>3&&(hu(t,d,it>>5&8191),d+=cf[ht])}else hu(t,d,Q[it]),d+=lt[it]}return hu(t,d,Q[256]),d+lt[256]},WS=new a1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xv=new gr(0),GS=function(e,t,n,r,i,s){var o=s.z||e.length,a=new gr(r+o+5*(1+Math.ceil(o/7e3))+i),u=a.subarray(r,a.length-i),h=s.l,d=(s.r||0)&7;if(t){d&&(u[0]=s.r>>3);for(var g=WS[t-1],_=g>>13,m=g&8191,P=(1<<n)-1,I=s.p||new Zr(32768),M=s.h||new Zr(P+1),C=Math.ceil(n/3),k=2*C,H=function(rt){return(e[rt]^e[rt+1]<<C^e[rt+2]<<k)&P},tt=new a1(25e3),_t=new Zr(288),Pt=new Zr(32),O=0,b=0,x=s.i||0,U=0,E=s.w||0,S=0;x+2<o;++x){var T=H(x),et=x&32767,pt=M[T];if(I[et]=pt,M[T]=et,E<=x){var Q=o-x;if((O>7e3||U>24576)&&(Q>423||!h)){d=Hm(e,u,0,tt,_t,Pt,b,U,S,x-S,d),U=O=b=0,S=x;for(var lt=0;lt<286;++lt)_t[lt]=0;for(var lt=0;lt<30;++lt)Pt[lt]=0}var nt=2,At=0,st=m,$t=et-pt&32767;if(Q>2&&T==H(x-$t))for(var R=Math.min(_,Q)-1,W=Math.min(32767,x),J=Math.min(258,Q);$t<=W&&--st&&et!=pt;){if(e[x+nt]==e[x+nt-$t]){for(var it=0;it<J&&e[x+it]==e[x+it-$t];++it);if(it>nt){if(nt=it,At=$t,it>R)break;for(var ht=Math.min($t,it-2),G=0,lt=0;lt<ht;++lt){var ot=x-$t+lt&32767,X=I[ot],It=ot-X&32767;It>G&&(G=It,pt=ot)}}}et=pt,pt=I[et],$t+=et-pt&32767}if(At){tt[U++]=268435456|Qd[nt]<<18|zm[At];var Rt=Qd[nt]&31,$=zm[At]&31;b+=uf[Rt]+cf[$],++_t[257+Rt],++Pt[$],E=x+nt,++O}else tt[U++]=e[x],++_t[e[x]]}}for(x=Math.max(x,E);x<o;++x)tt[U++]=e[x],++_t[e[x]];d=Hm(e,u,h,tt,_t,Pt,b,U,S,x-S,d),h||(s.r=d&7|u[d/8|0]<<3,d-=7,s.h=M,s.p=I,s.i=x,s.w=E)}else{for(var x=s.w||0;x<o+h;x+=65535){var z=x+65535;z>=o&&(u[d/8|0]=h,z=o),d=Sv(u,d+1,e.subarray(x,z))}s.i=o}return Ev(a,0,r+l1(d)+i)},Iv=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},KS=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new gr(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return GS(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},Tv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},QS=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Iv();i.p(t.dictionary),Tv(e,2,i.d())}},YS=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&xi(6,"invalid zlib data"),(e[1]>>5&1)==1&&xi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Xd(e,t){t||(t={});var n=Iv();n.p(e);var r=KS(e,t,t.dictionary?6:2,4);return QS(r,t),Tv(r,r.length-4,n.d()),r}function JS(e,t){return HS(e.subarray(YS(e),-4),{i:2},t,t)}var XS=typeof TextDecoder<"u"&&new TextDecoder,ZS=0;try{XS.decode(xv,{stream:!0}),ZS=1}catch{}var ce=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function nd(){ce.console&&typeof ce.console.log=="function"&&ce.console.log.apply(ce.console,arguments)}var tn={log:nd,warn:function(e){ce.console&&(typeof ce.console.warn=="function"?ce.console.warn.apply(ce.console,arguments):nd.call(null,arguments))},error:function(e){ce.console&&(typeof ce.console.error=="function"?ce.console.error.apply(ce.console,arguments):nd(e))}};function rd(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){da(r.response,t,n)},r.onerror=function(){tn.error("could not download file")},r.send()}function Wm(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Oc(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ru,Zd,da=ce.saveAs||((typeof window>"u"?"undefined":Qe(window))!=="object"||window!==ce?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ce.URL||ce.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Wm(i.href)?rd(e,t,n):Oc(i,i.target="_blank"):Oc(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Oc(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Wm(e))rd(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Oc(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Qe(s)!=="object"&&(tn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return rd(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(ce.HTMLElement)||ce.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Qe(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(e)}else{var u=ce.URL||ce.webkitURL,h=u.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Pv(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+a+u+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function id(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=or(n,r,i,s,t[0],7,-680876936),s=or(s,n,r,i,t[1],12,-389564586),i=or(i,s,n,r,t[2],17,606105819),r=or(r,i,s,n,t[3],22,-1044525330),n=or(n,r,i,s,t[4],7,-176418897),s=or(s,n,r,i,t[5],12,1200080426),i=or(i,s,n,r,t[6],17,-1473231341),r=or(r,i,s,n,t[7],22,-45705983),n=or(n,r,i,s,t[8],7,1770035416),s=or(s,n,r,i,t[9],12,-1958414417),i=or(i,s,n,r,t[10],17,-42063),r=or(r,i,s,n,t[11],22,-1990404162),n=or(n,r,i,s,t[12],7,1804603682),s=or(s,n,r,i,t[13],12,-40341101),i=or(i,s,n,r,t[14],17,-1502002290),n=ar(n,r=or(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=ar(s,n,r,i,t[6],9,-1069501632),i=ar(i,s,n,r,t[11],14,643717713),r=ar(r,i,s,n,t[0],20,-373897302),n=ar(n,r,i,s,t[5],5,-701558691),s=ar(s,n,r,i,t[10],9,38016083),i=ar(i,s,n,r,t[15],14,-660478335),r=ar(r,i,s,n,t[4],20,-405537848),n=ar(n,r,i,s,t[9],5,568446438),s=ar(s,n,r,i,t[14],9,-1019803690),i=ar(i,s,n,r,t[3],14,-187363961),r=ar(r,i,s,n,t[8],20,1163531501),n=ar(n,r,i,s,t[13],5,-1444681467),s=ar(s,n,r,i,t[2],9,-51403784),i=ar(i,s,n,r,t[7],14,1735328473),n=lr(n,r=ar(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=lr(s,n,r,i,t[8],11,-2022574463),i=lr(i,s,n,r,t[11],16,1839030562),r=lr(r,i,s,n,t[14],23,-35309556),n=lr(n,r,i,s,t[1],4,-1530992060),s=lr(s,n,r,i,t[4],11,1272893353),i=lr(i,s,n,r,t[7],16,-155497632),r=lr(r,i,s,n,t[10],23,-1094730640),n=lr(n,r,i,s,t[13],4,681279174),s=lr(s,n,r,i,t[0],11,-358537222),i=lr(i,s,n,r,t[3],16,-722521979),r=lr(r,i,s,n,t[6],23,76029189),n=lr(n,r,i,s,t[9],4,-640364487),s=lr(s,n,r,i,t[12],11,-421815835),i=lr(i,s,n,r,t[15],16,530742520),n=ur(n,r=lr(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=ur(s,n,r,i,t[7],10,1126891415),i=ur(i,s,n,r,t[14],15,-1416354905),r=ur(r,i,s,n,t[5],21,-57434055),n=ur(n,r,i,s,t[12],6,1700485571),s=ur(s,n,r,i,t[3],10,-1894986606),i=ur(i,s,n,r,t[10],15,-1051523),r=ur(r,i,s,n,t[1],21,-2054922799),n=ur(n,r,i,s,t[8],6,1873313359),s=ur(s,n,r,i,t[15],10,-30611744),i=ur(i,s,n,r,t[6],15,-1560198380),r=ur(r,i,s,n,t[13],21,1309151649),n=ur(n,r,i,s,t[4],6,-145523070),s=ur(s,n,r,i,t[11],10,-1120210379),i=ur(i,s,n,r,t[2],15,718787259),r=ur(r,i,s,n,t[9],21,-343485551),e[0]=So(n,e[0]),e[1]=So(r,e[1]),e[2]=So(i,e[2]),e[3]=So(s,e[3])}function hf(e,t,n,r,i,s){return t=So(So(t,e),So(r,s)),So(t<<i|t>>>32-i,n)}function or(e,t,n,r,i,s,o){return hf(t&n|~t&r,e,t,i,s,o)}function ar(e,t,n,r,i,s,o){return hf(t&r|n&~r,e,t,i,s,o)}function lr(e,t,n,r,i,s,o){return hf(t^n^r,e,t,i,s,o)}function ur(e,t,n,r,i,s,o){return hf(n^(t|~r),e,t,i,s,o)}function Nv(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)id(r,tx(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(id(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,id(r,i),r}function tx(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Ru=ce.atob.bind(ce),Zd=ce.btoa.bind(ce);var Gm="0123456789abcdef".split("");function ex(e){for(var t="",n=0;n<4;n++)t+=Gm[e>>8*n+4&15]+Gm[e>>8*n&15];return t}function nx(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function tp(e){return Nv(e).map(nx).join("")}var rx=function(e){for(var t=0;t<e.length;t++)e[t]=ex(e[t]);return e.join("")}(Nv("hello"))!="5d41402abc4b2a76b9719d911017c592";function So(e,t){if(rx){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ep(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],u=0;u<256;u++)a[u]=u;var h=0;for(u=0;u<256;u++){var d=a[u];h=(h+d+o.charCodeAt(u))%256,a[u]=a[h],a[h]=d}n=e,r=a}else a=r;var g=t.length,_=0,m=0,P="";for(u=0;u<g;u++)m=(m+(d=a[_=(_+1)%256]))%256,a[_]=a[m],a[m]=d,o=a[(a[_]+a[m])%256],P+=String.fromCharCode(t.charCodeAt(u)^o);return P}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Km={print:4,modify:8,copy:16,"annot-forms":32};function al(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(Km.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Km[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=tp(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ep(this.encryptionKey,this.padding)}function ll(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function Qm(e){if(Qe(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){ce.console&&tn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ph(e){if(!(this instanceof Ph))return new Ph(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Lv(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ga(e,t,n,r,i){if(!(this instanceof ga))return new ga(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Lv.call(this,r,i)}function hl(e,t,n,r,i){if(!(this instanceof hl))return new hl(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Lv.call(this,r,i)}function ue(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,u=16,h="S",d=null;Qe(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),h=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,_={},m={internal:{},__private__:{}};m.__private__.PubSub=Qm;var P="1.3",I=m.__private__.getPdfVersion=function(){return P};m.__private__.setPdfVersion=function(p){P=p};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return M};var C=m.__private__.getPageFormat=function(p){return M[p]};i=i||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},H=k.COMPAT;function tt(){this.saveGraphicsState(),j(new te(Gt,0,0,-Gt,0,ir()*Gt).toString()+" cm"),this.setFontSize(this.getFontSize()/Gt),h="n",H=k.ADVANCED}function _t(){this.restoreGraphicsState(),h="S",H=k.COMPAT}var Pt=m.__private__.combineFontStyleAndFontWeight=function(p,N){if(p=="bold"&&N=="normal"||p=="bold"&&N==400||p=="normal"&&N=="italic"||p=="bold"&&N=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return N&&(p=N==400||N==="normal"?p==="italic"?"italic":"normal":N!=700&&N!=="bold"||p!=="normal"?(N==700?"bold":N)+""+p:"bold"),p};m.advancedAPI=function(p){var N=H===k.COMPAT;return N&&tt.call(this),typeof p!="function"||(p(this),N&&_t.call(this)),this},m.compatAPI=function(p){var N=H===k.ADVANCED;return N&&_t.call(this),typeof p!="function"||(p(this),N&&tt.call(this)),this},m.isAdvancedAPI=function(){return H===k.ADVANCED};var O,b=function(p){if(H!==k.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},x=m.roundToPrecision=m.__private__.roundToPrecision=function(p,N){var Y=t||N;if(isNaN(p)||isNaN(Y))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(Y).replace(/0+$/,"")};O=m.hpf=m.__private__.hpf=typeof u=="number"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return x(p,u)}:u==="smart"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return x(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return x(p,16)};var U=m.f2=m.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return x(p,2)},E=m.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return x(p,3)},S=m.scale=m.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return H===k.COMPAT?p*Gt:H===k.ADVANCED?p:void 0},T=function(p){return H===k.COMPAT?ir()-p:H===k.ADVANCED?p:void 0},et=function(p){return S(T(p))};m.__private__.setPrecision=m.setPrecision=function(p){typeof parseInt(p,10)=="number"&&(t=parseInt(p,10))};var pt,Q="00000000000000000000000000000000",lt=m.__private__.getFileId=function(){return Q},nt=m.__private__.setFileId=function(p){return Q=p!==void 0&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(cn=new al(d.userPermissions,d.userPassword,d.ownerPassword,Q)),Q};m.setFileId=function(p){return nt(p),this},m.getFileId=function(){return lt()};var At=m.__private__.convertDateToPDFDate=function(p){var N=p.getTimezoneOffset(),Y=N<0?"+":"-",at=Math.floor(Math.abs(N/60)),vt=Math.abs(N%60),Ct=[Y,J(at),"'",J(vt),"'"].join("");return["D:",p.getFullYear(),J(p.getMonth()+1),J(p.getDate()),J(p.getHours()),J(p.getMinutes()),J(p.getSeconds()),Ct].join("")},st=m.__private__.convertPDFDateToDate=function(p){var N=parseInt(p.substr(2,4),10),Y=parseInt(p.substr(6,2),10)-1,at=parseInt(p.substr(8,2),10),vt=parseInt(p.substr(10,2),10),Ct=parseInt(p.substr(12,2),10),Bt=parseInt(p.substr(14,2),10);return new Date(N,Y,at,vt,Ct,Bt,0)},$t=m.__private__.setCreationDate=function(p){var N;if(p===void 0&&(p=new Date),p instanceof Date)N=At(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");N=p}return pt=N},R=m.__private__.getCreationDate=function(p){var N=pt;return p==="jsDate"&&(N=st(pt)),N};m.setCreationDate=function(p){return $t(p),this},m.getCreationDate=function(p){return R(p)};var W,J=m.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},it=m.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},ht=0,G=[],ot=[],X=0,It=[],Rt=[],$=!1,z=ot,rt=function(){ht=0,X=0,ot=[],G=[],It=[],fi=gn(),rr=gn()};m.__private__.setCustomOutputDestination=function(p){$=!0,z=p};var Z=function(p){$||(z=p)};m.__private__.resetCustomOutputDestination=function(){$=!1,z=ot};var j=m.__private__.out=function(p){return p=p.toString(),X+=p.length+1,z.push(p),z},Tt=m.__private__.write=function(p){return j(arguments.length===1?p.toString():Array.prototype.join.call(arguments," "))},Nt=m.__private__.getArrayBuffer=function(p){for(var N=p.length,Y=new ArrayBuffer(N),at=new Uint8Array(Y);N--;)at[N]=p.charCodeAt(N);return Y},mt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return mt};var wt=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(p){return wt=H===k.ADVANCED?p/Gt:p,this};var bt,Dt=m.__private__.getFontSize=m.getFontSize=function(){return H===k.COMPAT?wt:wt*Gt},kt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(p){return kt=p,this},m.__private__.getR2L=m.getR2L=function(){return kt};var Ut,Ht=m.__private__.setZoomMode=function(p){var N=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))bt=p;else if(isNaN(p)){if(N.indexOf(p)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');bt=p}else bt=parseInt(p,10)};m.__private__.getZoomMode=function(){return bt};var Wt,Yt=m.__private__.setPageMode=function(p){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');Ut=p};m.__private__.getPageMode=function(){return Ut};var re=m.__private__.setLayoutMode=function(p){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');Wt=p};m.__private__.getLayoutMode=function(){return Wt},m.__private__.setDisplayMode=m.setDisplayMode=function(p,N,Y){return Ht(p),re(N),Yt(Y),this};var ee={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(p){if(Object.keys(ee).indexOf(p)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ee[p]},m.__private__.getDocumentProperties=function(){return ee},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(p){for(var N in ee)ee.hasOwnProperty(N)&&p[N]&&(ee[N]=p[N]);return this},m.__private__.setDocumentProperty=function(p,N){if(Object.keys(ee).indexOf(p)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ee[p]=N};var se,Gt,Re,Ae,Hn,pe={},Se={},yr=[],Pe={},Ci={},ln={},Wn={},jr=null,nn=0,oe=[],ke=new Qm(m),ei=e.hotfixes||[],Nn={},er={},Br=[],te=function p(N,Y,at,vt,Ct,Bt){if(!(this instanceof p))return new p(N,Y,at,vt,Ct,Bt);isNaN(N)&&(N=1),isNaN(Y)&&(Y=0),isNaN(at)&&(at=0),isNaN(vt)&&(vt=1),isNaN(Ct)&&(Ct=0),isNaN(Bt)&&(Bt=0),this._matrix=[N,Y,at,vt,Ct,Bt]};Object.defineProperty(te.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(te.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(te.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(te.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(te.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(te.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(te.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(te.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(te.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(te.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(te.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(te.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(te.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(te.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(te.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(te.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),te.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(p)},te.prototype.multiply=function(p){var N=p.sx*this.sx+p.shy*this.shx,Y=p.sx*this.shy+p.shy*this.sy,at=p.shx*this.sx+p.sy*this.shx,vt=p.shx*this.shy+p.sy*this.sy,Ct=p.tx*this.sx+p.ty*this.shx+this.tx,Bt=p.tx*this.shy+p.ty*this.sy+this.ty;return new te(N,Y,at,vt,Ct,Bt)},te.prototype.decompose=function(){var p=this.sx,N=this.shy,Y=this.shx,at=this.sy,vt=this.tx,Ct=this.ty,Bt=Math.sqrt(p*p+N*N),Qt=(p/=Bt)*Y+(N/=Bt)*at;Y-=p*Qt,at-=N*Qt;var c=Math.sqrt(Y*Y+at*at);return Qt/=c,p*(at/=c)<N*(Y/=c)&&(p=-p,N=-N,Qt=-Qt,Bt=-Bt),{scale:new te(Bt,0,0,c,0,0),translate:new te(1,0,0,1,vt,Ct),rotate:new te(p,N,-N,p,0,0),skew:new te(1,0,Qt,1,0,0)}},te.prototype.toString=function(p){return this.join(" ")},te.prototype.inversed=function(){var p=this.sx,N=this.shy,Y=this.shx,at=this.sy,vt=this.tx,Ct=this.ty,Bt=1/(p*at-N*Y),Qt=at*Bt,c=-N*Bt,y=-Y*Bt,A=p*Bt;return new te(Qt,c,y,A,-Qt*vt-y*Ct,-c*vt-A*Ct)},te.prototype.applyToPoint=function(p){var N=p.x*this.sx+p.y*this.shx+this.tx,Y=p.x*this.shy+p.y*this.sy+this.ty;return new ms(N,Y)},te.prototype.applyToRectangle=function(p){var N=this.applyToPoint(p),Y=this.applyToPoint(new ms(p.x+p.w,p.y+p.h));return new to(N.x,N.y,Y.x-N.x,Y.y-N.y)},te.prototype.clone=function(){var p=this.sx,N=this.shy,Y=this.shx,at=this.sy,vt=this.tx,Ct=this.ty;return new te(p,N,Y,at,vt,Ct)},m.Matrix=te;var Pr=m.matrixMult=function(p,N){return N.multiply(p)},nr=new te(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=nr;var Ln=function(p,N){if(!Ci[p]){var Y=(N instanceof ga?"Sh":"P")+(Object.keys(Pe).length+1).toString(10);N.id=Y,Ci[p]=Y,Pe[Y]=N,ke.publish("addPattern",N)}};m.ShadingPattern=ga,m.TilingPattern=hl,m.addShadingPattern=function(p,N){return b("addShadingPattern()"),Ln(p,N),this},m.beginTilingPattern=function(p){b("beginTilingPattern()"),eo(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},m.endTilingPattern=function(p,N){b("endTilingPattern()"),N.stream=Rt[W].join(`
`),Ln(p,N),ke.publish("endTilingPattern",N),Br.pop().restore()};var _n=m.__private__.newObject=function(){var p=gn();return Cn(p,!0),p},gn=m.__private__.newObjectDeferred=function(){return ht++,G[ht]=function(){return X},ht},Cn=function(p,N){return N=typeof N=="boolean"&&N,G[p]=X,N&&j(p+" 0 obj"),p},Bs=m.__private__.newAdditionalObject=function(){var p={objId:gn(),content:""};return It.push(p),p},fi=gn(),rr=gn(),Nr=m.__private__.decodeColorString=function(p){var N=p.split(" ");if(N.length!==2||N[1]!=="g"&&N[1]!=="G")N.length===5&&(N[4]==="k"||N[4]==="K")&&(N=[(1-N[0])*(1-N[3]),(1-N[1])*(1-N[3]),(1-N[2])*(1-N[3]),"r"]);else{var Y=parseFloat(N[0]);N=[Y,Y,Y,"r"]}for(var at="#",vt=0;vt<3;vt++)at+=("0"+Math.floor(255*parseFloat(N[vt])).toString(16)).slice(-2);return at},_r=m.__private__.encodeColorString=function(p){var N;typeof p=="string"&&(p={ch1:p});var Y=p.ch1,at=p.ch2,vt=p.ch3,Ct=p.ch4,Bt=p.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Y=="string"&&Y.charAt(0)!=="#"){var Qt=new Pv(Y);if(Qt.ok)Y=Qt.toHex();else if(!/^\d*\.?\d*$/.test(Y))throw new Error('Invalid color "'+Y+'" passed to jsPDF.encodeColorString.')}if(typeof Y=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Y)&&(Y="#"+Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]),typeof Y=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Y)){var c=parseInt(Y.substr(1),16);Y=c>>16&255,at=c>>8&255,vt=255&c}if(at===void 0||Ct===void 0&&Y===at&&at===vt)if(typeof Y=="string")N=Y+" "+Bt[0];else switch(p.precision){case 2:N=U(Y/255)+" "+Bt[0];break;case 3:default:N=E(Y/255)+" "+Bt[0]}else if(Ct===void 0||Qe(Ct)==="object"){if(Ct&&!isNaN(Ct.a)&&Ct.a===0)return N=["1.","1.","1.",Bt[1]].join(" ");if(typeof Y=="string")N=[Y,at,vt,Bt[1]].join(" ");else switch(p.precision){case 2:N=[U(Y/255),U(at/255),U(vt/255),Bt[1]].join(" ");break;default:case 3:N=[E(Y/255),E(at/255),E(vt/255),Bt[1]].join(" ")}}else if(typeof Y=="string")N=[Y,at,vt,Ct,Bt[2]].join(" ");else switch(p.precision){case 2:N=[U(Y),U(at),U(vt),U(Ct),Bt[2]].join(" ");break;case 3:default:N=[E(Y),E(at),E(vt),E(Ct),Bt[2]].join(" ")}return N},br=m.__private__.getFilters=function(){return o},bn=m.__private__.putStream=function(p){var N=(p=p||{}).data||"",Y=p.filters||br(),at=p.alreadyAppliedFilters||[],vt=p.addLength1||!1,Ct=N.length,Bt=p.objectId,Qt=function(me){return me};if(d!==null&&Bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Qt=cn.encryptor(Bt,0));var c={};Y===!0&&(Y=["FlateEncode"]);var y=p.additionalKeyValues||[],A=(c=ue.API.processDataByFilters!==void 0?ue.API.processDataByFilters(N,Y):{data:N,reverseChain:[]}).reverseChain+(Array.isArray(at)?at.join(" "):at.toString());if(c.data.length!==0&&(y.push({key:"Length",value:c.data.length}),vt===!0&&y.push({key:"Length1",value:Ct})),A.length!=0)if(A.split("/").length-1==1)y.push({key:"Filter",value:A});else{y.push({key:"Filter",value:"["+A+"]"});for(var V=0;V<y.length;V+=1)if(y[V].key==="DecodeParms"){for(var gt=[],xt=0;xt<c.reverseChain.split("/").length-1;xt+=1)gt.push("null");gt.push(y[V].value),y[V].value="["+gt.join(" ")+"]"}}j("<<");for(var qt=0;qt<y.length;qt++)j("/"+y[qt].key+" "+y[qt].value);j(">>"),c.data.length!==0&&(j("stream"),j(Qt(c.data)),j("endstream"))},qr=m.__private__.putPage=function(p){var N=p.number,Y=p.data,at=p.objId,vt=p.contentsObjId;Cn(at,!0),j("<</Type /Page"),j("/Parent "+p.rootDictionaryObjId+" 0 R"),j("/Resources "+p.resourceDictionaryObjId+" 0 R"),j("/MediaBox ["+parseFloat(O(p.mediaBox.bottomLeftX))+" "+parseFloat(O(p.mediaBox.bottomLeftY))+" "+O(p.mediaBox.topRightX)+" "+O(p.mediaBox.topRightY)+"]"),p.cropBox!==null&&j("/CropBox ["+O(p.cropBox.bottomLeftX)+" "+O(p.cropBox.bottomLeftY)+" "+O(p.cropBox.topRightX)+" "+O(p.cropBox.topRightY)+"]"),p.bleedBox!==null&&j("/BleedBox ["+O(p.bleedBox.bottomLeftX)+" "+O(p.bleedBox.bottomLeftY)+" "+O(p.bleedBox.topRightX)+" "+O(p.bleedBox.topRightY)+"]"),p.trimBox!==null&&j("/TrimBox ["+O(p.trimBox.bottomLeftX)+" "+O(p.trimBox.bottomLeftY)+" "+O(p.trimBox.topRightX)+" "+O(p.trimBox.topRightY)+"]"),p.artBox!==null&&j("/ArtBox ["+O(p.artBox.bottomLeftX)+" "+O(p.artBox.bottomLeftY)+" "+O(p.artBox.topRightX)+" "+O(p.artBox.topRightY)+"]"),typeof p.userUnit=="number"&&p.userUnit!==1&&j("/UserUnit "+p.userUnit),ke.publish("putPage",{objId:at,pageContext:oe[N],pageNumber:N,page:Y}),j("/Contents "+vt+" 0 R"),j(">>"),j("endobj");var Ct=Y.join(`
`);return H===k.ADVANCED&&(Ct+=`
Q`),Cn(vt,!0),bn({data:Ct,filters:br(),objectId:vt}),j("endobj"),at},Ri=m.__private__.putPages=function(){var p,N,Y=[];for(p=1;p<=nn;p++)oe[p].objId=gn(),oe[p].contentsObjId=gn();for(p=1;p<=nn;p++)Y.push(qr({number:p,data:Rt[p],objId:oe[p].objId,contentsObjId:oe[p].contentsObjId,mediaBox:oe[p].mediaBox,cropBox:oe[p].cropBox,bleedBox:oe[p].bleedBox,trimBox:oe[p].trimBox,artBox:oe[p].artBox,userUnit:oe[p].userUnit,rootDictionaryObjId:fi,resourceDictionaryObjId:rr}));Cn(fi,!0),j("<</Type /Pages");var at="/Kids [";for(N=0;N<nn;N++)at+=Y[N]+" 0 R ";j(at+"]"),j("/Count "+nn),j(">>"),j("endobj"),ke.publish("postPutPages")},ki=function(p){ke.publish("putFont",{font:p,out:j,newObject:_n,putStream:bn}),p.isAlreadyPutted!==!0&&(p.objectNumber=_n(),j("<<"),j("/Type /Font"),j("/BaseFont /"+ll(p.postScriptName)),j("/Subtype /Type1"),typeof p.encoding=="string"&&j("/Encoding /"+p.encoding),j("/FirstChar 32"),j("/LastChar 255"),j(">>"),j("endobj"))},Di=function(){for(var p in pe)pe.hasOwnProperty(p)&&(g===!1||g===!0&&_.hasOwnProperty(p))&&ki(pe[p])},as=function(p){p.objectNumber=_n();var N=[];N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Form"}),N.push({key:"BBox",value:"["+[O(p.x),O(p.y),O(p.x+p.width),O(p.y+p.height)].join(" ")+"]"}),N.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var Y=p.pages[1].join(`
`);bn({data:Y,additionalKeyValues:N,objectId:p.objectNumber}),j("endobj")},ls=function(){for(var p in Nn)Nn.hasOwnProperty(p)&&as(Nn[p])},Ta=function(p,N){var Y,at=[],vt=1/(N-1);for(Y=0;Y<1;Y+=vt)at.push(Y);if(at.push(1),p[0].offset!=0){var Ct={offset:0,color:p[0].color};p.unshift(Ct)}if(p[p.length-1].offset!=1){var Bt={offset:1,color:p[p.length-1].color};p.push(Bt)}for(var Qt="",c=0,y=0;y<at.length;y++){for(Y=at[y];Y>p[c+1].offset;)c++;var A=p[c].offset,V=(Y-A)/(p[c+1].offset-A),gt=p[c].color,xt=p[c+1].color;Qt+=it(Math.round((1-V)*gt[0]+V*xt[0]).toString(16))+it(Math.round((1-V)*gt[1]+V*xt[1]).toString(16))+it(Math.round((1-V)*gt[2]+V*xt[2]).toString(16))}return Qt.trim()},qs=function(p,N){N||(N=21);var Y=_n(),at=Ta(p.colors,N),vt=[];vt.push({key:"FunctionType",value:"0"}),vt.push({key:"Domain",value:"[0.0 1.0]"}),vt.push({key:"Size",value:"["+N+"]"}),vt.push({key:"BitsPerSample",value:"8"}),vt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bn({data:at,additionalKeyValues:vt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Y}),j("endobj"),p.objectNumber=_n(),j("<< /ShadingType "+p.type),j("/ColorSpace /DeviceRGB");var Ct="/Coords ["+O(parseFloat(p.coords[0]))+" "+O(parseFloat(p.coords[1]))+" ";p.type===2?Ct+=O(parseFloat(p.coords[2]))+" "+O(parseFloat(p.coords[3])):Ct+=O(parseFloat(p.coords[2]))+" "+O(parseFloat(p.coords[3]))+" "+O(parseFloat(p.coords[4]))+" "+O(parseFloat(p.coords[5])),j(Ct+="]"),p.matrix&&j("/Matrix ["+p.matrix.toString()+"]"),j("/Function "+Y+" 0 R"),j("/Extend [true true]"),j(">>"),j("endobj")},Pa=function(p,N){var Y=gn(),at=_n();N.push({resourcesOid:Y,objectOid:at}),p.objectNumber=at;var vt=[];vt.push({key:"Type",value:"/Pattern"}),vt.push({key:"PatternType",value:"1"}),vt.push({key:"PaintType",value:"1"}),vt.push({key:"TilingType",value:"1"}),vt.push({key:"BBox",value:"["+p.boundingBox.map(O).join(" ")+"]"}),vt.push({key:"XStep",value:O(p.xStep)}),vt.push({key:"YStep",value:O(p.yStep)}),vt.push({key:"Resources",value:Y+" 0 R"}),p.matrix&&vt.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),bn({data:p.stream,additionalKeyValues:vt,objectId:p.objectNumber}),j("endobj")},Oi=function(p){var N;for(N in Pe)Pe.hasOwnProperty(N)&&(Pe[N]instanceof ga?qs(Pe[N]):Pe[N]instanceof hl&&Pa(Pe[N],p))},Fi=function(p){for(var N in p.objectNumber=_n(),j("<<"),p)switch(N){case"opacity":j("/ca "+U(p[N]));break;case"stroke-opacity":j("/CA "+U(p[N]))}j(">>"),j("endobj")},di=function(){var p;for(p in ln)ln.hasOwnProperty(p)&&Fi(ln[p])},us=function(){for(var p in j("/XObject <<"),Nn)Nn.hasOwnProperty(p)&&Nn[p].objectNumber>=0&&j("/"+p+" "+Nn[p].objectNumber+" 0 R");ke.publish("putXobjectDict"),j(">>")},$l=function(){cn.oid=_n(),j("<<"),j("/Filter /Standard"),j("/V "+cn.v),j("/R "+cn.r),j("/U <"+cn.toHexString(cn.U)+">"),j("/O <"+cn.toHexString(cn.O)+">"),j("/P "+cn.P),j(">>"),j("endobj")},zo=function(){for(var p in j("/Font <<"),pe)pe.hasOwnProperty(p)&&(g===!1||g===!0&&_.hasOwnProperty(p))&&j("/"+p+" "+pe[p].objectNumber+" 0 R");j(">>")},Na=function(){if(Object.keys(Pe).length>0){for(var p in j("/Shading <<"),Pe)Pe.hasOwnProperty(p)&&Pe[p]instanceof ga&&Pe[p].objectNumber>=0&&j("/"+p+" "+Pe[p].objectNumber+" 0 R");ke.publish("putShadingPatternDict"),j(">>")}},cs=function(p){if(Object.keys(Pe).length>0){for(var N in j("/Pattern <<"),Pe)Pe.hasOwnProperty(N)&&Pe[N]instanceof m.TilingPattern&&Pe[N].objectNumber>=0&&Pe[N].objectNumber<p&&j("/"+N+" "+Pe[N].objectNumber+" 0 R");ke.publish("putTilingPatternDict"),j(">>")}},$o=function(){if(Object.keys(ln).length>0){var p;for(p in j("/ExtGState <<"),ln)ln.hasOwnProperty(p)&&ln[p].objectNumber>=0&&j("/"+p+" "+ln[p].objectNumber+" 0 R");ke.publish("putGStateDict"),j(">>")}},un=function(p){Cn(p.resourcesOid,!0),j("<<"),j("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),zo(),Na(),cs(p.objectOid),$o(),us(),j(">>"),j("endobj")},Ho=function(){var p=[];Di(),di(),ls(),Oi(p),ke.publish("putResources"),p.forEach(un),un({resourcesOid:rr,objectOid:Number.MAX_SAFE_INTEGER}),ke.publish("postPutResources")},Wo=function(){ke.publish("putAdditionalObjects");for(var p=0;p<It.length;p++){var N=It[p];Cn(N.objId,!0),j(N.content),j("endobj")}ke.publish("postPutAdditionalObjects")},La=function(p){Se[p.fontName]=Se[p.fontName]||{},Se[p.fontName][p.fontStyle]=p.id},Go=function(p,N,Y,at,vt){var Ct={id:"F"+(Object.keys(pe).length+1).toString(10),postScriptName:p,fontName:N,fontStyle:Y,encoding:at,isStandardFont:vt||!1,metadata:{}};return ke.publish("addFont",{font:Ct,instance:this}),pe[Ct.id]=Ct,La(Ct),Ct.id},Ca=function(p){for(var N=0,Y=mt.length;N<Y;N++){var at=Go.call(this,p[N][0],p[N][1],p[N][2],mt[N][3],!0);g===!1&&(_[at]=!0);var vt=p[N][0].split("-");La({id:at,fontName:vt[0],fontStyle:vt[1]||""})}ke.publish("addFonts",{fonts:pe,dictionary:Se})},Lr=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(at){var N=at.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var Y="Error in function "+N.split(`
`)[0].split("<")[0]+": "+at.message;if(!ce.console)throw new Error(Y);ce.console.error(Y,at),ce.alert&&alert(Y)}},p.foo.bar=p,p.foo},Us=function(p,N){var Y,at,vt,Ct,Bt,Qt,c,y,A;if(vt=(N=N||{}).sourceEncoding||"Unicode",Bt=N.outputEncoding,(N.autoencode||Bt)&&pe[se].metadata&&pe[se].metadata[vt]&&pe[se].metadata[vt].encoding&&(Ct=pe[se].metadata[vt].encoding,!Bt&&pe[se].encoding&&(Bt=pe[se].encoding),!Bt&&Ct.codePages&&(Bt=Ct.codePages[0]),typeof Bt=="string"&&(Bt=Ct[Bt]),Bt)){for(c=!1,Qt=[],Y=0,at=p.length;Y<at;Y++)(y=Bt[p.charCodeAt(Y)])?Qt.push(String.fromCharCode(y)):Qt.push(p[Y]),Qt[Y].charCodeAt(0)>>8&&(c=!0);p=Qt.join("")}for(Y=p.length;c===void 0&&Y!==0;)p.charCodeAt(Y-1)>>8&&(c=!0),Y--;if(!c)return p;for(Qt=N.noBOM?[]:[254,255],Y=0,at=p.length;Y<at;Y++){if((A=(y=p.charCodeAt(Y))>>8)>>8)throw new Error("Character at position "+Y+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qt.push(A),Qt.push(y-(A<<8))}return String.fromCharCode.apply(void 0,Qt)},mn=m.__private__.pdfEscape=m.pdfEscape=function(p,N){return Us(p,N).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wr=m.__private__.beginPage=function(p){Rt[++nn]=[],oe[nn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},Ko(nn),Z(Rt[W])},hs=function(p,N){var Y,at,vt;switch(n=N||n,typeof p=="string"&&(Y=C(p.toLowerCase()),Array.isArray(Y)&&(at=Y[0],vt=Y[1])),Array.isArray(p)&&(at=p[0]*Gt,vt=p[1]*Gt),isNaN(at)&&(at=i[0],vt=i[1]),(at>14400||vt>14400)&&(tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),at=Math.min(14400,at),vt=Math.min(14400,vt)),i=[at,vt],n.substr(0,1)){case"l":vt>at&&(i=[vt,at]);break;case"p":at>vt&&(i=[vt,at])}wr(i),Zo(Xo),j(Gn),na!==0&&j(na+" J"),Zs!==0&&j(Zs+" j"),ke.publish("addPage",{pageNumber:nn})},zs=function(p){p>0&&p<=nn&&(Rt.splice(p,1),oe.splice(p,1),nn--,W>nn&&(W=nn),this.setPage(W))},Ko=function(p){p>0&&p<=nn&&(W=p)},We=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Rt.length-1},fs=function(p,N,Y){var at,vt=void 0;return Y=Y||{},p=p!==void 0?p:pe[se].fontName,N=N!==void 0?N:pe[se].fontStyle,at=p.toLowerCase(),Se[at]!==void 0&&Se[at][N]!==void 0?vt=Se[at][N]:Se[p]!==void 0&&Se[p][N]!==void 0?vt=Se[p][N]:Y.disableWarning===!1&&tn.warn("Unable to look up font label for font '"+p+"', '"+N+"'. Refer to getFontList() for available fonts."),vt||Y.noFallback||(vt=Se.times[N])==null&&(vt=Se.times.normal),vt},ds=m.__private__.putInfo=function(){var p=_n(),N=function(at){return at};for(var Y in d!==null&&(N=cn.encryptor(p,0)),j("<<"),j("/Producer ("+mn(N("jsPDF "+ue.version))+")"),ee)ee.hasOwnProperty(Y)&&ee[Y]&&j("/"+Y.substr(0,1).toUpperCase()+Y.substr(1)+" ("+mn(N(ee[Y]))+")");j("/CreationDate ("+mn(N(pt))+")"),j(">>"),j("endobj")},pi=m.__private__.putCatalog=function(p){var N=(p=p||{}).rootDictionaryObjId||fi;switch(_n(),j("<<"),j("/Type /Catalog"),j("/Pages "+N+" 0 R"),bt||(bt="fullwidth"),bt){case"fullwidth":j("/OpenAction [3 0 R /FitH null]");break;case"fullheight":j("/OpenAction [3 0 R /FitV null]");break;case"fullpage":j("/OpenAction [3 0 R /Fit]");break;case"original":j("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Y=""+bt;Y.substr(Y.length-1)==="%"&&(bt=parseInt(bt)/100),typeof bt=="number"&&j("/OpenAction [3 0 R /XYZ null null "+U(bt)+"]")}switch(Wt||(Wt="continuous"),Wt){case"continuous":j("/PageLayout /OneColumn");break;case"single":j("/PageLayout /SinglePage");break;case"two":case"twoleft":j("/PageLayout /TwoColumnLeft");break;case"tworight":j("/PageLayout /TwoColumnRight")}Ut&&j("/PageMode /"+Ut),ke.publish("putCatalog"),j(">>"),j("endobj")},Hl=m.__private__.putTrailer=function(){j("trailer"),j("<<"),j("/Size "+(ht+1)),j("/Root "+ht+" 0 R"),j("/Info "+(ht-1)+" 0 R"),d!==null&&j("/Encrypt "+cn.oid+" 0 R"),j("/ID [ <"+Q+"> <"+Q+"> ]"),j(">>")},Ra=m.__private__.putHeader=function(){j("%PDF-"+P),j("%")},Wl=m.__private__.putXRef=function(){var p="0000000000";j("xref"),j("0 "+(ht+1)),j("0000000000 65535 f ");for(var N=1;N<=ht;N++)typeof G[N]=="function"?j((p+G[N]()).slice(-10)+" 00000 n "):G[N]!==void 0?j((p+G[N]).slice(-10)+" 00000 n "):j("0000000000 00000 n ")},gi=m.__private__.buildDocument=function(){rt(),Z(ot),ke.publish("buildDocument"),Ra(),Ri(),Wo(),Ho(),d!==null&&$l(),ds(),pi();var p=X;return Wl(),Hl(),j("startxref"),j(""+p),j("%%EOF"),Z(Rt[W]),ot.join(`
`)},$s=m.__private__.getBlob=function(p){return new Blob([Nt(p)],{type:"application/pdf"})},Hs=m.output=m.__private__.output=Lr(function(p,N){switch(typeof(N=N||{})=="string"?N={filename:N}:N.filename=N.filename||"generated.pdf",p){case void 0:return gi();case"save":m.save(N.filename);break;case"arraybuffer":return Nt(gi());case"blob":return $s(gi());case"bloburi":case"bloburl":if(ce.URL!==void 0&&typeof ce.URL.createObjectURL=="function")return ce.URL&&ce.URL.createObjectURL($s(gi()))||void 0;tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Y="",at=gi();try{Y=Zd(at)}catch{Y=Zd(unescape(encodeURIComponent(at)))}return"data:application/pdf;filename="+N.filename+";base64,"+Y;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ce)==="[object Window]"){var vt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';N.pdfObjectUrl&&(vt=N.pdfObjectUrl,Ct="");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+vt+'"'+Ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(N)+");<\/script></body></html>",Qt=ce.open();return Qt!==null&&Qt.document.write(Bt),Qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ce)==="[object Window]"){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(N.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+N.filename+'" width="500px" height="400px" /></body></html>',y=ce.open();if(y!==null){y.document.write(c);var A=this;y.document.documentElement.querySelector("#pdfViewer").onload=function(){y.document.title=N.filename,y.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(A.output("bloburl"))}}return y}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ce)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var V='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",N)+'"></iframe></body></html>',gt=ce.open();if(gt!==null&&(gt.document.write(V),gt.document.title=N.filename),gt||typeof safari>"u")return gt;break;case"datauri":case"dataurl":return ce.document.location.href=this.output("datauristring",N);default:return null}}),Mi=function(p){return Array.isArray(ei)===!0&&ei.indexOf(p)>-1};switch(r){case"pt":Gt=1;break;case"mm":Gt=72/25.4;break;case"cm":Gt=72/2.54;break;case"in":Gt=72;break;case"px":Gt=Mi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Gt=12;break;case"ex":Gt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Gt=r}var cn=null;$t(),nt();var ka=function(p){return d!==null?cn.encryptor(p,0):function(N){return N}},Qo=m.__private__.getPageInfo=m.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:oe[p].objId,pageNumber:p,pageContext:oe[p]}},fe=m.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var N in oe)if(oe[N].objId===p)break;return Qo(N)},Vi=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:oe[W].objId,pageNumber:W,pageContext:oe[W]}};m.addPage=function(){return hs.apply(this,arguments),this},m.setPage=function(){return Ko.apply(this,arguments),Z.call(this,Rt[W]),this},m.insertPage=function(p){return this.addPage(),this.movePage(W,p),this},m.movePage=function(p,N){var Y,at;if(p>N){Y=Rt[p],at=oe[p];for(var vt=p;vt>N;vt--)Rt[vt]=Rt[vt-1],oe[vt]=oe[vt-1];Rt[N]=Y,oe[N]=at,this.setPage(N)}else if(p<N){Y=Rt[p],at=oe[p];for(var Ct=p;Ct<N;Ct++)Rt[Ct]=Rt[Ct+1],oe[Ct]=oe[Ct+1];Rt[N]=Y,oe[N]=at,this.setPage(N)}return this},m.deletePage=function(){return zs.apply(this,arguments),this},m.__private__.text=m.text=function(p,N,Y,at,vt){var Ct,Bt,Qt,c,y,A,V,gt,xt,qt=(at=at||{}).scope||this;if(typeof p=="number"&&typeof N=="number"&&(typeof Y=="string"||Array.isArray(Y))){var me=Y;Y=N,N=p,p=me}if(arguments[3]instanceof te?(b("The transform parameter of text() with a Matrix value"),xt=vt):(Qt=arguments[4],c=arguments[5],Qe(V=arguments[3])==="object"&&V!==null||(typeof Qt=="string"&&(c=Qt,Qt=null),typeof V=="string"&&(c=V,V=null),typeof V=="number"&&(Qt=V,V=null),at={flags:V,angle:Qt,align:c})),isNaN(N)||isNaN(Y)||p==null)throw new Error("Invalid arguments passed to jsPDF.text");if(p.length===0)return qt;var xe="",ve=!1,Be=typeof at.lineHeightFactor=="number"?at.lineHeightFactor:je,Xe=qt.internal.scaleFactor;function bi(rn){return rn=rn.split("	").join(Array(at.TabLen||9).join(" ")),mn(rn,V)}function Kn(rn){for(var sn,An=rn.concat(),Fn=[],ws=An.length;ws--;)typeof(sn=An.shift())=="string"?Fn.push(sn):Array.isArray(rn)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?Fn.push(sn[0]):Fn.push([sn[0],sn[1],sn[2]]);return Fn}function Ui(rn,sn){var An;if(typeof rn=="string")An=sn(rn)[0];else if(Array.isArray(rn)){for(var Fn,ws,eu=rn.concat(),Wa=[],oc=eu.length;oc--;)typeof(Fn=eu.shift())=="string"?Wa.push(sn(Fn)[0]):Array.isArray(Fn)&&typeof Fn[0]=="string"&&(ws=sn(Fn[0],Fn[1],Fn[2]),Wa.push([ws[0],ws[1],ws[2]]));An=Wa}return An}var zi=!1,Kl=!0;if(typeof p=="string")zi=!0;else if(Array.isArray(p)){var Ql=p.concat();Bt=[];for(var Va,Qn=Ql.length;Qn--;)(typeof(Va=Ql.shift())!="string"||Array.isArray(Va)&&typeof Va[0]!="string")&&(Kl=!1);zi=Kl}if(zi===!1)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');typeof p=="string"&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var ja=wt/qt.internal.scaleFactor,Ba=ja*(Be-1);switch(at.baseline){case"bottom":Y-=Ba;break;case"top":Y+=ja-Ba;break;case"hanging":Y+=ja-2*Ba;break;case"middle":Y+=ja/2-Ba}if((A=at.maxWidth||0)>0&&(typeof p=="string"?p=qt.splitTextToSize(p,A):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(rn,sn){return rn.concat(qt.splitTextToSize(sn,A))},[]))),Ct={text:p,x:N,y:Y,options:at,mutex:{pdfEscape:mn,activeFontKey:se,fonts:pe,activeFontSize:wt}},ke.publish("preProcessText",Ct),p=Ct.text,Qt=(at=Ct.options).angle,!(xt instanceof te)&&Qt&&typeof Qt=="number"){Qt*=Math.PI/180,at.rotationDirection===0&&(Qt=-Qt),H===k.ADVANCED&&(Qt=-Qt);var qa=Math.cos(Qt),Yl=Math.sin(Qt);xt=new te(qa,Yl,-Yl,qa,0,0)}else Qt&&Qt instanceof te&&(xt=Qt);H!==k.ADVANCED||xt||(xt=nr),(y=at.charSpace||gs)!==void 0&&(xe+=O(S(y))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(gt=at.horizontalScale)!==void 0&&(xe+=O(100*gt)+` Tz
`),at.lang;var Cr=-1,ff=at.renderingMode!==void 0?at.renderingMode:at.stroke,Jl=qt.internal.getCurrentPageInfo().pageContext;switch(ff){case 0:case!1:case"fill":Cr=0;break;case 1:case!0:case"stroke":Cr=1;break;case 2:case"fillThenStroke":Cr=2;break;case 3:case"invisible":Cr=3;break;case 4:case"fillAndAddForClipping":Cr=4;break;case 5:case"strokeAndAddPathForClipping":Cr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cr=6;break;case 7:case"addToPathForClipping":Cr=7}var nc=Jl.usedRenderingMode!==void 0?Jl.usedRenderingMode:-1;Cr!==-1?xe+=Cr+` Tr
`:nc!==-1&&(xe+=`0 Tr
`),Cr!==-1&&(Jl.usedRenderingMode=Cr),c=at.align||"left";var ri,Ua=wt*Be,rc=qt.internal.pageSize.getWidth(),ic=pe[se];y=at.charSpace||gs,A=at.maxWidth||0,V=Object.assign({autoencode:!0,noBOM:!0},at.flags);var io=[],ra=function(rn){return qt.getStringUnitWidth(rn,{font:ic,charSpace:y,fontSize:wt,doKerning:!1})*wt/Xe};if(Object.prototype.toString.call(p)==="[object Array]"){var Rr;Bt=Kn(p),c!=="left"&&(ri=Bt.map(ra));var Ar,so=0;if(c==="right"){N-=ri[0],p=[],Qn=Bt.length;for(var ys=0;ys<Qn;ys++)ys===0?(Ar=$r(N),Rr=On(Y)):(Ar=S(so-ri[ys]),Rr=-Ua),p.push([Bt[ys],Ar,Rr]),so=ri[ys]}else if(c==="center"){N-=ri[0]/2,p=[],Qn=Bt.length;for(var _s=0;_s<Qn;_s++)_s===0?(Ar=$r(N),Rr=On(Y)):(Ar=S((so-ri[_s])/2),Rr=-Ua),p.push([Bt[_s],Ar,Rr]),so=ri[_s]}else if(c==="left"){p=[],Qn=Bt.length;for(var za=0;za<Qn;za++)p.push(Bt[za])}else if(c==="justify"&&ic.encoding==="Identity-H"){p=[],Qn=Bt.length,A=A!==0?A:rc;for(var bs=0,wn=0;wn<Qn;wn++)if(Rr=wn===0?On(Y):-Ua,Ar=wn===0?$r(N):bs,wn<Qn-1){var Xl=S((A-ri[wn])/(Bt[wn].split(" ").length-1)),Er=Bt[wn].split(" ");p.push([Er[0]+" ",Ar,Rr]),bs=0;for(var ii=1;ii<Er.length;ii++){var $a=(ra(Er[ii-1]+" "+Er[ii])-ra(Er[ii]))*Xe+Xl;ii==Er.length-1?p.push([Er[ii],$a,0]):p.push([Er[ii]+" ",$a,0]),bs-=$a}}else p.push([Bt[wn],Ar,Rr]);p.push(["",bs,0])}else{if(c!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(p=[],Qn=Bt.length,A=A!==0?A:rc,wn=0;wn<Qn;wn++)Rr=wn===0?On(Y):-Ua,Ar=wn===0?$r(N):0,wn<Qn-1?io.push(O(S((A-ri[wn])/(Bt[wn].split(" ").length-1)))):io.push(0),p.push([Bt[wn],Ar,Rr])}}var sc=typeof at.R2L=="boolean"?at.R2L:kt;sc===!0&&(p=Ui(p,function(rn,sn,An){return[rn.split("").reverse().join(""),sn,An]})),Ct={text:p,x:N,y:Y,options:at,mutex:{pdfEscape:mn,activeFontKey:se,fonts:pe,activeFontSize:wt}},ke.publish("postProcessText",Ct),p=Ct.text,ve=Ct.mutex.isHex||!1;var Zl=pe[se].encoding;Zl!=="WinAnsiEncoding"&&Zl!=="StandardEncoding"||(p=Ui(p,function(rn,sn,An){return[bi(rn),sn,An]})),Bt=Kn(p),p=[];for(var ia,sa,oo,oa=0,Ha=1,aa=Array.isArray(Bt[0])?Ha:oa,ao="",tu=function(rn,sn,An){var Fn="";return An instanceof te?(An=typeof at.angle=="number"?Pr(An,new te(1,0,0,1,rn,sn)):Pr(new te(1,0,0,1,rn,sn),An),H===k.ADVANCED&&(An=Pr(new te(1,0,0,-1,0,0),An)),Fn=An.join(" ")+` Tm
`):Fn=O(rn)+" "+O(sn)+` Td
`,Fn},si=0;si<Bt.length;si++){switch(ao="",aa){case Ha:oo=(ve?"<":"(")+Bt[si][0]+(ve?">":")"),ia=parseFloat(Bt[si][1]),sa=parseFloat(Bt[si][2]);break;case oa:oo=(ve?"<":"(")+Bt[si]+(ve?">":")"),ia=$r(N),sa=On(Y)}io!==void 0&&io[si]!==void 0&&(ao=io[si]+` Tw
`),si===0?p.push(ao+tu(ia,sa,xt)+oo):aa===oa?p.push(ao+oo):aa===Ha&&p.push(ao+tu(ia,sa,xt)+oo)}p=aa===oa?p.join(` Tj
T* `):p.join(` Tj
`),p+=` Tj
`;var oi=`BT
/`;return oi+=se+" "+wt+` Tf
`,oi+=O(wt*Be)+` TL
`,oi+=yi+`
`,oi+=xe,oi+=p,j(oi+="ET"),_[se]=!0,qt};var Gl=m.__private__.clip=m.clip=function(p){return j(p==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Gl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return j("n"),this};var ni=m.__private__.isValidStyle=function(p){var N=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)!==-1&&(N=!0),N};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(p){return ni(p)&&(h=p),this};var Da=m.__private__.getStyle=m.getStyle=function(p){var N=h;switch(p){case"D":case"S":N="S";break;case"F":N="f";break;case"FD":case"DF":N="B";break;case"f":case"f*":case"B":case"B*":N=p}return N},Ur=m.close=function(){return j("h"),this};m.stroke=function(){return j("S"),this},m.fill=function(p){return Ws("f",p),this},m.fillEvenOdd=function(p){return Ws("f*",p),this},m.fillStroke=function(p){return Ws("B",p),this},m.fillStrokeEvenOdd=function(p){return Ws("B*",p),this};var Ws=function(p,N){Qe(N)==="object"?Ks(N,p):j(p)},Yo=function(p){p===null||H===k.ADVANCED&&p===void 0||(p=Da(p),j(p))};function Gs(p,N,Y,at,vt){var Ct=new hl(N||this.boundingBox,Y||this.xStep,at||this.yStep,this.gState,vt||this.matrix);Ct.stream=this.stream;var Bt=p+"$$"+this.cloneIndex+++"$$";return Ln(Bt,Ct),Ct}var Ks=function(p,N){var Y=Ci[p.key],at=Pe[Y];if(at instanceof ga)j("q"),j(Oa(N)),at.gState&&m.setGState(at.gState),j(p.matrix.toString()+" cm"),j("/"+Y+" sh"),j("Q");else if(at instanceof hl){var vt=new te(1,0,0,-1,0,ir());p.matrix&&(vt=vt.multiply(p.matrix||nr),Y=Gs.call(at,p.key,p.boundingBox,p.xStep,p.yStep,vt).id),j("q"),j("/Pattern cs"),j("/"+Y+" scn"),at.gState&&m.setGState(at.gState),j(N),j("Q")}},Oa=function(p){switch(p){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},mi=m.moveTo=function(p,N){return j(O(S(p))+" "+O(et(N))+" m"),this},zr=m.lineTo=function(p,N){return j(O(S(p))+" "+O(et(N))+" l"),this},vi=m.curveTo=function(p,N,Y,at,vt,Ct){return j([O(S(p)),O(et(N)),O(S(Y)),O(et(at)),O(S(vt)),O(et(Ct)),"c"].join(" ")),this};m.__private__.line=m.line=function(p,N,Y,at,vt){if(isNaN(p)||isNaN(N)||isNaN(Y)||isNaN(at)||!ni(vt))throw new Error("Invalid arguments passed to jsPDF.line");return H===k.COMPAT?this.lines([[Y-p,at-N]],p,N,[1,1],vt||"S"):this.lines([[Y-p,at-N]],p,N,[1,1]).stroke()},m.__private__.lines=m.lines=function(p,N,Y,at,vt,Ct){var Bt,Qt,c,y,A,V,gt,xt,qt,me,xe,ve;if(typeof p=="number"&&(ve=Y,Y=N,N=p,p=ve),at=at||[1,1],Ct=Ct||!1,isNaN(N)||isNaN(Y)||!Array.isArray(p)||!Array.isArray(at)||!ni(vt)||typeof Ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mi(N,Y),Bt=at[0],Qt=at[1],y=p.length,me=N,xe=Y,c=0;c<y;c++)(A=p[c]).length===2?(me=A[0]*Bt+me,xe=A[1]*Qt+xe,zr(me,xe)):(V=A[0]*Bt+me,gt=A[1]*Qt+xe,xt=A[2]*Bt+me,qt=A[3]*Qt+xe,me=A[4]*Bt+me,xe=A[5]*Qt+xe,vi(V,gt,xt,qt,me,xe));return Ct&&Ur(),Yo(vt),this},m.path=function(p){for(var N=0;N<p.length;N++){var Y=p[N],at=Y.c;switch(Y.op){case"m":mi(at[0],at[1]);break;case"l":zr(at[0],at[1]);break;case"c":vi.apply(this,at);break;case"h":Ur()}}return this},m.__private__.rect=m.rect=function(p,N,Y,at,vt){if(isNaN(p)||isNaN(N)||isNaN(Y)||isNaN(at)||!ni(vt))throw new Error("Invalid arguments passed to jsPDF.rect");return H===k.COMPAT&&(at=-at),j([O(S(p)),O(et(N)),O(S(Y)),O(S(at)),"re"].join(" ")),Yo(vt),this},m.__private__.triangle=m.triangle=function(p,N,Y,at,vt,Ct,Bt){if(isNaN(p)||isNaN(N)||isNaN(Y)||isNaN(at)||isNaN(vt)||isNaN(Ct)||!ni(Bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Y-p,at-N],[vt-Y,Ct-at],[p-vt,N-Ct]],p,N,[1,1],Bt,!0),this},m.__private__.roundedRect=m.roundedRect=function(p,N,Y,at,vt,Ct,Bt){if(isNaN(p)||isNaN(N)||isNaN(Y)||isNaN(at)||isNaN(vt)||isNaN(Ct)||!ni(Bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qt=4/3*(Math.SQRT2-1);return vt=Math.min(vt,.5*Y),Ct=Math.min(Ct,.5*at),this.lines([[Y-2*vt,0],[vt*Qt,0,vt,Ct-Ct*Qt,vt,Ct],[0,at-2*Ct],[0,Ct*Qt,-vt*Qt,Ct,-vt,Ct],[2*vt-Y,0],[-vt*Qt,0,-vt,-Ct*Qt,-vt,-Ct],[0,2*Ct-at],[0,-Ct*Qt,vt*Qt,-Ct,vt,-Ct]],p+vt,N,[1,1],Bt,!0),this},m.__private__.ellipse=m.ellipse=function(p,N,Y,at,vt){if(isNaN(p)||isNaN(N)||isNaN(Y)||isNaN(at)||!ni(vt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ct=4/3*(Math.SQRT2-1)*Y,Bt=4/3*(Math.SQRT2-1)*at;return mi(p+Y,N),vi(p+Y,N-Bt,p+Ct,N-at,p,N-at),vi(p-Ct,N-at,p-Y,N-Bt,p-Y,N),vi(p-Y,N+Bt,p-Ct,N+at,p,N+at),vi(p+Ct,N+at,p+Y,N+Bt,p+Y,N),Yo(vt),this},m.__private__.circle=m.circle=function(p,N,Y,at){if(isNaN(p)||isNaN(N)||isNaN(Y)||!ni(at))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,N,Y,Y,at)},m.setFont=function(p,N,Y){return Y&&(N=Pt(N,Y)),se=fs(p,N,{disableWarning:!1}),this};var Jo=m.__private__.getFont=m.getFont=function(){return pe[fs.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var p,N,Y={};for(p in Se)if(Se.hasOwnProperty(p))for(N in Y[p]=[],Se[p])Se[p].hasOwnProperty(N)&&Y[p].push(N);return Y},m.addFont=function(p,N,Y,at,vt){var Ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ct.indexOf(arguments[3])!==-1?vt=arguments[3]:arguments[3]&&Ct.indexOf(arguments[3])==-1&&(Y=Pt(Y,at)),vt=vt||"Identity-H",Go.call(this,p,N,Y,vt)};var je,Xo=e.lineWidth||.200025,Qs=m.__private__.getLineWidth=m.getLineWidth=function(){return Xo},Zo=m.__private__.setLineWidth=m.setLineWidth=function(p){return Xo=p,j(O(S(p))+" w"),this};m.__private__.setLineDash=ue.API.setLineDash=ue.API.setLineDashPattern=function(p,N){if(p=p||[],N=N||0,isNaN(N)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(Y){return O(S(Y))}).join(" "),N=O(S(N)),j("["+p+"] "+N+" d"),this};var ta=m.__private__.getLineHeight=m.getLineHeight=function(){return wt*je};m.__private__.getLineHeight=m.getLineHeight=function(){return wt*je};var ea=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(p){return typeof(p=p||1.15)=="number"&&(je=p),this},ps=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return je};ea(e.lineHeight);var $r=m.__private__.getHorizontalCoordinate=function(p){return S(p)},On=m.__private__.getVerticalCoordinate=function(p){return H===k.ADVANCED?p:oe[W].mediaBox.topRightY-oe[W].mediaBox.bottomLeftY-S(p)},Fa=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(p){return O($r(p))},ji=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(p){return O(On(p))},Gn=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Nr(Gn)},m.__private__.setStrokeColor=m.setDrawColor=function(p,N,Y,at){return Gn=_r({ch1:p,ch2:N,ch3:Y,ch4:at,pdfColorType:"draw",precision:2}),j(Gn),this};var Ys=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Nr(Ys)},m.__private__.setFillColor=m.setFillColor=function(p,N,Y,at){return Ys=_r({ch1:p,ch2:N,ch3:Y,ch4:at,pdfColorType:"fill",precision:2}),j(Ys),this};var yi=e.textColor||"0 g",Js=m.__private__.getTextColor=m.getTextColor=function(){return Nr(yi)};m.__private__.setTextColor=m.setTextColor=function(p,N,Y,at){return yi=_r({ch1:p,ch2:N,ch3:Y,ch4:at,pdfColorType:"text",precision:3}),this};var gs=e.charSpace,Xs=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(gs||0)};m.__private__.setCharSpace=m.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gs=p,this};var na=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(p){var N=m.CapJoinStyles[p];if(N===void 0)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return na=N,j(N+" J"),this};var Zs=0;m.__private__.setLineJoin=m.setLineJoin=function(p){var N=m.CapJoinStyles[p];if(N===void 0)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zs=N,j(N+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return j(O(S(p))+" M"),this},m.GState=Ph,m.setGState=function(p){(p=typeof p=="string"?ln[Wn[p]]:Bi(null,p)).equals(jr)||(j("/"+p.id+" gs"),jr=p)};var Bi=function(p,N){if(!p||!Wn[p]){var Y=!1;for(var at in ln)if(ln.hasOwnProperty(at)&&ln[at].equals(N)){Y=!0;break}if(Y)N=ln[at];else{var vt="GS"+(Object.keys(ln).length+1).toString(10);ln[vt]=N,N.id=vt}return p&&(Wn[p]=N.id),ke.publish("addGState",N),N}};m.addGState=function(p,N){return Bi(p,N),this},m.saveGraphicsState=function(){return j("q"),yr.push({key:se,size:wt,color:yi}),this},m.restoreGraphicsState=function(){j("Q");var p=yr.pop();return se=p.key,wt=p.size,yi=p.color,jr=null,this},m.setCurrentTransformationMatrix=function(p){return j(p.toString()+" cm"),this},m.comment=function(p){return j("#"+p),this};var ms=function(p,N){var Y=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(Ct){isNaN(Ct)||(Y=parseFloat(Ct))}});var at=N||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return at},set:function(Ct){isNaN(Ct)||(at=parseFloat(Ct))}});var vt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return vt},set:function(Ct){vt=Ct.toString()}}),this},to=function(p,N,Y,at){ms.call(this,p,N),this.type="rect";var vt=Y||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return vt},set:function(Bt){isNaN(Bt)||(vt=parseFloat(Bt))}});var Ct=at||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ct},set:function(Bt){isNaN(Bt)||(Ct=parseFloat(Bt))}}),this},vs=function(){this.page=nn,this.currentPage=W,this.pages=Rt.slice(0),this.pagesContext=oe.slice(0),this.x=Re,this.y=Ae,this.matrix=Hn,this.width=qi(W),this.height=ir(W),this.outputDestination=z,this.id="",this.objectNumber=-1};vs.prototype.restore=function(){nn=this.page,W=this.currentPage,oe=this.pagesContext,Rt=this.pages,Re=this.x,Ae=this.y,Hn=this.matrix,no(W,this.width),ro(W,this.height),z=this.outputDestination};var eo=function(p,N,Y,at,vt){Br.push(new vs),nn=W=0,Rt=[],Re=p,Ae=N,Hn=vt,wr([Y,at])},Ma=function(p){if(er[p])Br.pop().restore();else{var N=new vs,Y="Xo"+(Object.keys(Nn).length+1).toString(10);N.id=Y,er[p]=Y,Nn[Y]=N,ke.publish("addFormObject",N),Br.pop().restore()}};for(var _i in m.beginFormObject=function(p,N,Y,at,vt){return eo(p,N,Y,at,vt),this},m.endFormObject=function(p){return Ma(p),this},m.doFormObject=function(p,N){var Y=Nn[er[p]];return j("q"),j(N.toString()+" cm"),j("/"+Y.id+" Do"),j("Q"),this},m.getFormObject=function(p){var N=Nn[er[p]];return{x:N.x,y:N.y,width:N.width,height:N.height,matrix:N.matrix}},m.save=function(p,N){return p=p||"generated.pdf",(N=N||{}).returnPromise=N.returnPromise||!1,N.returnPromise===!1?(da($s(gi()),p),typeof da.unload=="function"&&ce.setTimeout&&setTimeout(da.unload,911),this):new Promise(function(Y,at){try{var vt=da($s(gi()),p);typeof da.unload=="function"&&ce.setTimeout&&setTimeout(da.unload,911),Y(vt)}catch(Ct){at(Ct.message)}})},ue.API)ue.API.hasOwnProperty(_i)&&(_i==="events"&&ue.API.events.length?function(p,N){var Y,at,vt;for(vt=N.length-1;vt!==-1;vt--)Y=N[vt][0],at=N[vt][1],p.subscribe.apply(p,[Y].concat(typeof at=="function"?[at]:at))}(ke,ue.API.events):m[_i]=ue.API[_i]);var qi=m.getPageWidth=function(p){return(oe[p=p||W].mediaBox.topRightX-oe[p].mediaBox.bottomLeftX)/Gt},no=m.setPageWidth=function(p,N){oe[p].mediaBox.topRightX=N*Gt+oe[p].mediaBox.bottomLeftX},ir=m.getPageHeight=function(p){return(oe[p=p||W].mediaBox.topRightY-oe[p].mediaBox.bottomLeftY)/Gt},ro=m.setPageHeight=function(p,N){oe[p].mediaBox.topRightY=N*Gt+oe[p].mediaBox.bottomLeftY};return m.internal={pdfEscape:mn,getStyle:Da,getFont:Jo,getFontSize:Dt,getCharSpace:Xs,getTextColor:Js,getLineHeight:ta,getLineHeightFactor:ps,getLineWidth:Qs,write:Tt,getHorizontalCoordinate:$r,getVerticalCoordinate:On,getCoordinateString:Fa,getVerticalCoordinateString:ji,collections:{},newObject:_n,newAdditionalObject:Bs,newObjectDeferred:gn,newObjectDeferredBegin:Cn,getFilters:br,putStream:bn,events:ke,scaleFactor:Gt,pageSize:{getWidth:function(){return qi(W)},setWidth:function(p){no(W,p)},getHeight:function(){return ir(W)},setHeight:function(p){ro(W,p)}},encryptionOptions:d,encryption:cn,getEncryptor:ka,output:Hs,getNumberOfPages:We,pages:Rt,out:j,f2:U,f3:E,getPageInfo:Qo,getPageInfoByObjId:fe,getCurrentPageInfo:Vi,getPDFVersion:I,Point:ms,Rectangle:to,Matrix:te,hasHotfix:Mi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return qi(W)},set:function(p){no(W,p)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return ir(W)},set:function(p){ro(W,p)},enumerable:!0,configurable:!0}),Ca.call(m,mt),se="F1",hs(i,n),ke.publish("initialized"),m}al.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},al.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},al.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},al.prototype.processOwnerPassword=function(e,t){return ep(tp(t).substr(0,5),e)},al.prototype.encryptor=function(e,t){var n=tp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return ep(n,r)}},Ph.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Qe(e)!==Qe(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},ue.API={events:[]},ue.version="3.0.1";var yn=ue.API,u1=1,Ia=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Za=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ye=function(e){return e.toFixed(2)},yo=function(e){return e.toFixed(5)};yn.__acroform__={};var Vr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Ym=function(e){return e*u1},Wi=function(e){var t=new Rv,n=ne.internal.getHeight(e)||0,r=ne.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ye(r)),Number(ye(n))],t},ix=yn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},sx=yn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},ox=yn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Sn=yn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ox(e,t-1)},xn=yn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ix(e,t-1)},In=yn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sx(e,t-1)},ax=yn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(s+a)||0,u.upperRight_X=n(i+o)||0,u.upperRight_Y=r(s)||0,[Number(ye(u.lowerLeft_X)),Number(ye(u.lowerLeft_Y)),Number(ye(u.upperRight_X)),Number(ye(u.upperRight_Y))]},lx=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=np(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+ye(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Wi(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},np=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=ne.internal.getHeight(e)||0;o=o<0?-o:o;var a=ne.internal.getWidth(e)||0;a=a<0?-a:a;var u=function(E,S,T){if(E+1<i.length){var et=S+" "+i[E+1][0];return Fc(et,e,T).width<=a-4}return!1};s++;t:for(;s>0;){t="",s--;var h,d,g=Fc("3",e,s).height,_=e.multiline?o-s:(o-g)/2,m=_+=2,P=0,I=0,M=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Fc(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var C="",k=0,H=0;H<i.length;H++)if(i.hasOwnProperty(H)){var tt=!1;if(i[H].length!==1&&M!==i[H].length-1){if((g+2)*(k+2)+2>o)continue t;C+=i[H][M],tt=!0,I=H,H--}else{C=(C+=i[H][M]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var _t=parseInt(H),Pt=u(_t,C,s),O=H>=i.length-1;if(Pt&&!O){C+=" ",M=0;continue}if(Pt||O){if(O)I=_t;else if(e.multiline&&(g+2)*(k+2)+2>o)continue t}else{if(!e.multiline||(g+2)*(k+2)+2>o)continue t;I=_t}}for(var b="",x=P;x<=I;x++){var U=i[x];if(e.multiline){if(x===I){b+=U[M]+" ",M=(M+1)%U.length;continue}if(x===P){b+=U[U.length-1]+" ";continue}}b+=U[0]+" "}switch(b=b.substr(b.length-1)==" "?b.substr(0,b.length-1):b,d=Fc(b,e,s).width,e.textAlign){case"right":h=a-d-2;break;case"center":h=(a-d)/2;break;case"left":default:h=2}t+=ye(h)+" "+ye(m)+` Td
`,t+="("+Ia(b)+`) Tj
`,t+=-ye(h)+` 0 Td
`,m=-(s+2),d=0,P=tt?I:I+1,k++,C=""}break}return r.text=t,r.fontSize=s,r},Fc=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},ux={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},cx=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},hx=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Qe(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},fx=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ni.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ux)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");u1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new kv,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&cx(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],u=[],h=a.Rect;if(a.Rect&&(a.Rect=ax(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ne.createDefaultAppearanceStream(a),Qe(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(u=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=lx(a);u.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var g="";for(var _ in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(_)){var m=a.appearanceStreamContent[_];if(g+="/"+_+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var P=m[o];typeof P=="function"&&(P=P.call(i,a)),g+="/"+o+" "+P+" ",i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P)}}else typeof(P=m)=="function"&&(P=P.call(i,a)),g+="/"+o+" "+P,i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:a.objId}),i.internal.out("endobj")}s&&hx(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Cv=yn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Qe(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Ia(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sd=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ia(r(e))+")"},Ji=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ji.prototype.toString=function(){return this.objId+" 0 R"},Ji.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ji.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:Cv(i,this.objId,this.scope)}):i instanceof Ji?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var Rv=function(){Ji.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Vr(Rv,Ji);var kv=function(){Ji.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Ia(n(e))+")"}},set:function(n){e=n}})};Vr(kv,Ji);var Ni=function e(){Ji.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sn(t,3)},set:function(C){C?this.F=xn(t,3):this.F=In(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');n=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Nh)return;s="FieldObject"+e.FieldNum++}var C=function(k){return k};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Ia(C(s))+")"},set:function(C){s=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(C){s=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(C){a=C}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/u1:h},set:function(C){h=C}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Nh||this instanceof ya))return sd(g,this.objId,this.scope)},set:function(C){C=C.toString(),g=C}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof $n?_:sd(_,this.objId,this.scope)},set:function(C){C=C.toString(),_=this instanceof $n?C:C.substr(0,1)==="("?Za(C.substr(1,C.length-2)):Za(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $n?Za(_.substr(1,_.length-1)):_},set:function(C){C=C.toString(),_=this instanceof $n?"/"+C:C}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof $n?m:sd(m,this.objId,this.scope)},set:function(C){C=C.toString(),m=this instanceof $n?C:C.substr(0,1)==="("?Za(C.substr(1,C.length-2)):Za(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $n?Za(m.substr(1,m.length-1)):m},set:function(C){C=C.toString(),m=this instanceof $n?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(C){C=!!C,I=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(C){P=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,1)},set:function(C){C?this.Ff=xn(this.Ff,1):this.Ff=In(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,2)},set:function(C){C?this.Ff=xn(this.Ff,2):this.Ff=In(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,3)},set:function(C){C?this.Ff=xn(this.Ff,3):this.Ff=In(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');M=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(M){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:M=2;break;case"center":case 1:M=1;break;case"left":case 0:default:M=0}}})};Vr(Ni,Ji);var El=function(){Ni.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Cv(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var u,h=[];u=o.exec(s);)h.push(u[a]);return h}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,18)},set:function(n){n?this.Ff=xn(this.Ff,18):this.Ff=In(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=xn(this.Ff,19):this.Ff=In(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,20)},set:function(n){n?(this.Ff=xn(this.Ff,20),t.sort()):this.Ff=In(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,22)},set:function(n){n?this.Ff=xn(this.Ff,22):this.Ff=In(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(n){n?this.Ff=xn(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,27)},set:function(n){n?this.Ff=xn(this.Ff,27):this.Ff=In(this.Ff,27)}}),this.hasAppearanceStream=!1};Vr(El,Ni);var Sl=function(){El.call(this),this.fontName="helvetica",this.combo=!1};Vr(Sl,El);var xl=function(){Sl.call(this),this.combo=!0};Vr(xl,Sl);var Jc=function(){xl.call(this),this.edit=!0};Vr(Jc,xl);var $n=function(){Ni.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,15)},set:function(n){n?this.Ff=xn(this.Ff,15):this.Ff=In(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,16)},set:function(n){n?this.Ff=xn(this.Ff,16):this.Ff=In(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,17)},set:function(n){n?this.Ff=xn(this.Ff,17):this.Ff=In(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(n){n?this.Ff=xn(this.Ff,26):this.Ff=In(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Ia(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Qe(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Vr($n,Ni);var Xc=function(){$n.call(this),this.pushButton=!0};Vr(Xc,$n);var Il=function(){$n.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Vr(Il,$n);var Nh=function(){var e,t;Ni.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Ia(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Qe(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ne.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Vr(Nh,Ni),Il.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Il.prototype.createOption=function(e){var t=new Nh;return t.Parent=this,t.optionName=e,this.Kids.push(t),dx.call(this.scope,t),t};var Zc=function(){$n.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ne.CheckBox.createAppearanceStream()};Vr(Zc,$n);var ya=function(){Ni.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,13)},set:function(t){t?this.Ff=xn(this.Ff,13):this.Ff=In(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,21)},set:function(t){t?this.Ff=xn(this.Ff,21):this.Ff=In(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(t){t?this.Ff=xn(this.Ff,23):this.Ff=In(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,24)},set:function(t){t?this.Ff=xn(this.Ff,24):this.Ff=In(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,25)},set:function(t){t?this.Ff=xn(this.Ff,25):this.Ff=In(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(t){t?this.Ff=xn(this.Ff,26):this.Ff=In(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Vr(ya,Ni);var th=function(){ya.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,14)},set:function(e){e?this.Ff=xn(this.Ff,14):this.Ff=In(this.Ff,14)}}),this.password=!0};Vr(th,ya);var ne={CheckBox:{createAppearanceStream:function(){return{N:{On:ne.CheckBox.YesNormal},D:{On:ne.CheckBox.YesPushDown,Off:ne.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=np(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+ye(ne.internal.getWidth(e))+" "+ye(ne.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ye(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=ne.internal.getHeight(e),o=ne.internal.getWidth(e),a=np(e,e.caption);return i.push("1 g"),i.push("0 0 "+ye(o)+" "+ye(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ye(o-1)+" "+ye(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+ye(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ye(ne.internal.getWidth(e))+" "+ye(ne.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ne.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ne.RadioButton.Circle.YesNormal,t.D[e]=ne.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=ne.internal.getWidth(e)<=ne.internal.getHeight(e)?ne.internal.getWidth(e)/4:ne.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=ne.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+yo(ne.internal.getWidth(e)/2)+" "+yo(ne.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=ne.internal.getWidth(e)<=ne.internal.getHeight(e)?ne.internal.getWidth(e)/4:ne.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ne.internal.Bezier_C).toFixed(5)),o=Number((r*ne.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yo(ne.internal.getWidth(e)/2)+" "+yo(ne.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+yo(ne.internal.getWidth(e)/2)+" "+yo(ne.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=ne.internal.getWidth(e)<=ne.internal.getHeight(e)?ne.internal.getWidth(e)/4:ne.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ne.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+yo(ne.internal.getWidth(e)/2)+" "+yo(ne.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ne.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ne.RadioButton.Cross.YesNormal,t.D[e]=ne.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Wi(e);t.scope=e.scope;var n=[],r=ne.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+ye(ne.internal.getWidth(e)-2)+" "+ye(ne.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ye(r.x1.x)+" "+ye(r.x1.y)+" m"),n.push(ye(r.x2.x)+" "+ye(r.x2.y)+" l"),n.push(ye(r.x4.x)+" "+ye(r.x4.y)+" m"),n.push(ye(r.x3.x)+" "+ye(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=ne.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+ye(ne.internal.getWidth(e))+" "+ye(ne.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ye(ne.internal.getWidth(e)-2)+" "+ye(ne.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ye(n.x1.x)+" "+ye(n.x1.y)+" m"),r.push(ye(n.x2.x)+" "+ye(n.x2.y)+" l"),r.push(ye(n.x4.x)+" "+ye(n.x4.y)+" m"),r.push(ye(n.x3.x)+" "+ye(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Wi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ye(ne.internal.getWidth(e))+" "+ye(ne.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};ne.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ne.internal.getWidth(e),n=ne.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},ne.internal.getWidth=function(e){var t=0;return Qe(e)==="object"&&(t=Ym(e.Rect[2])),t},ne.internal.getHeight=function(e){var t=0;return Qe(e)==="object"&&(t=Ym(e.Rect[3])),t};var dx=yn.addField=function(e){if(fx(this,e),!(e instanceof Ni))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};yn.AcroFormChoiceField=El,yn.AcroFormListBox=Sl,yn.AcroFormComboBox=xl,yn.AcroFormEditBox=Jc,yn.AcroFormButton=$n,yn.AcroFormPushButton=Xc,yn.AcroFormRadioButton=Il,yn.AcroFormCheckBox=Zc,yn.AcroFormTextField=ya,yn.AcroFormPasswordField=th,yn.AcroFormAppearance=ne,yn.AcroForm={ChoiceField:El,ListBox:Sl,ComboBox:xl,EditBox:Jc,Button:$n,PushButton:Xc,RadioButton:Il,CheckBox:Zc,TextField:ya,PasswordField:th,Appearance:ne},ue.AcroForm={ChoiceField:El,ListBox:Sl,ComboBox:xl,EditBox:Jc,Button:$n,PushButton:Xc,RadioButton:Il,CheckBox:Zc,TextField:ya,PasswordField:th,Appearance:ne};ue.AcroForm;function Dv(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(E,S){var T,et,pt,Q,lt,nt=t;if((S=S||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(Pt(E))for(lt in n)for(pt=n[lt],T=0;T<pt.length;T+=1){for(Q=!0,et=0;et<pt[T].length;et+=1)if(pt[T][et]!==void 0&&pt[T][et]!==E[et]){Q=!1;break}if(Q===!0){nt=lt;break}}else for(lt in n)for(pt=n[lt],T=0;T<pt.length;T+=1){for(Q=!0,et=0;et<pt[T].length;et+=1)if(pt[T][et]!==void 0&&pt[T][et]!==E.charCodeAt(et)){Q=!1;break}if(Q===!0){nt=lt;break}}return nt===t&&S!==t&&(nt=S),nt},i=function E(S){for(var T=this.internal.write,et=this.internal.putStream,pt=(0,this.internal.getFilters)();pt.indexOf("FlateEncode")!==-1;)pt.splice(pt.indexOf("FlateEncode"),1);S.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:S.width}),Q.push({key:"Height",value:S.height}),S.colorSpace===M.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(S.palette.length/3-1)+" "+("sMask"in S&&S.sMask!==void 0?S.objectId+2:S.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+S.colorSpace}),S.colorSpace===M.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:S.bitsPerComponent}),"decodeParameters"in S&&S.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+S.decodeParameters+">>"}),"transparency"in S&&Array.isArray(S.transparency)){for(var lt="",nt=0,At=S.transparency.length;nt<At;nt++)lt+=S.transparency[nt]+" "+S.transparency[nt]+" ";Q.push({key:"Mask",value:"["+lt+"]"})}S.sMask!==void 0&&Q.push({key:"SMask",value:S.objectId+1+" 0 R"});var st=S.filter!==void 0?["/"+S.filter]:void 0;if(et({data:S.data,additionalKeyValues:Q,alreadyAppliedFilters:st,objectId:S.objectId}),T("endobj"),"sMask"in S&&S.sMask!==void 0){var $t="/Predictor "+S.predictor+" /Colors 1 /BitsPerComponent "+S.bitsPerComponent+" /Columns "+S.width,R={width:S.width,height:S.height,colorSpace:"DeviceGray",bitsPerComponent:S.bitsPerComponent,decodeParameters:$t,data:S.sMask};"filter"in S&&(R.filter=S.filter),E.call(this,R)}if(S.colorSpace===M.INDEXED){var W=this.internal.newObject();et({data:b(new Uint8Array(S.palette)),objectId:W}),T("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var S in E)i.call(this,E[S])},o=function(){var E,S=this.internal.collections.addImage_images,T=this.internal.write;for(var et in S)T("/I"+(E=S[et]).index,E.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var E=this.internal.collections.addImage_images;return a.call(this),E},h=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(E){return typeof e["process"+E.toUpperCase()]=="function"},g=function(E){return Qe(E)==="object"&&E.nodeType===1},_=function(E,S){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var T=""+E.getAttribute("src");if(T.indexOf("data:image/")===0)return Ru(unescape(T).split("base64,").pop());var et=e.loadFile(T,!0);if(et!==void 0)return et}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var pt;switch(S){case"PNG":pt="image/png";break;case"WEBP":pt="image/webp";break;case"JPEG":case"JPG":default:pt="image/jpeg"}return Ru(E.toDataURL(pt,1).split("base64,").pop())}},m=function(E){var S=this.internal.collections.addImage_images;if(S){for(var T in S)if(E===S[T].alias)return S[T]}},P=function(E,S,T){return E||S||(E=-96,S=-96),E<0&&(E=-1*T.width*72/E/this.internal.scaleFactor),S<0&&(S=-1*T.height*72/S/this.internal.scaleFactor),E===0&&(E=S*T.width/T.height),S===0&&(S=E*T.height/T.width),[E,S]},I=function(E,S,T,et,pt,Q){var lt=P.call(this,T,et,pt),nt=this.internal.getCoordinateString,At=this.internal.getVerticalCoordinateString,st=u.call(this);if(T=lt[0],et=lt[1],st[pt.index]=pt,Q){Q*=Math.PI/180;var $t=Math.cos(Q),R=Math.sin(Q),W=function(it){return it.toFixed(4)},J=[W($t),W(R),W(-1*R),W($t),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,nt(E),At(S+et),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([nt(T),"0","0",nt(et),"0","0","cm"].join(" "))):this.internal.write([nt(T),"0","0",nt(et),nt(E),At(S+et),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pt.index+" Do"),this.internal.write("Q")},M=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(E){var S,T,et=0;if(typeof E=="string")for(T=E.length,S=0;S<T;S++)et=(et<<5)-et+E.charCodeAt(S),et|=0;else if(Pt(E))for(T=E.byteLength/2,S=0;S<T;S++)et=(et<<5)-et+E[S],et|=0;return et},H=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var S=!0;return E.length===0&&(S=!1),E.length%4!=0&&(S=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(S=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(S=!1),S},tt=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var S=E.indexOf(",");return S<0?null:E.substring(0,S).trim().endsWith("base64")?E.substring(S+1):null},_t=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return _t()&&E instanceof ArrayBuffer};var Pt=e.__addimage__.isArrayBufferView=function(E){return _t()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},O=e.__addimage__.binaryStringToUint8Array=function(E){for(var S=E.length,T=new Uint8Array(S),et=0;et<S;et++)T[et]=E.charCodeAt(et);return T},b=e.__addimage__.arrayBufferToBinaryString=function(E){for(var S="",T=Pt(E)?E:new Uint8Array(E),et=0;et<T.length;et+=8192)S+=String.fromCharCode.apply(null,T.subarray(et,et+8192));return S};e.addImage=function(){var E,S,T,et,pt,Q,lt,nt,At;if(typeof arguments[1]=="number"?(S=t,T=arguments[1],et=arguments[2],pt=arguments[3],Q=arguments[4],lt=arguments[5],nt=arguments[6],At=arguments[7]):(S=arguments[1],T=arguments[2],et=arguments[3],pt=arguments[4],Q=arguments[5],lt=arguments[6],nt=arguments[7],At=arguments[8]),Qe(E=arguments[0])==="object"&&!g(E)&&"imageData"in E){var st=E;E=st.imageData,S=st.format||S||t,T=st.x||T||0,et=st.y||et||0,pt=st.w||st.width||pt,Q=st.h||st.height||Q,lt=st.alias||lt,nt=st.compression||nt,At=st.rotation||st.angle||At}var $t=this.internal.getFilters();if(nt===void 0&&$t.indexOf("FlateEncode")!==-1&&(nt="SLOW"),isNaN(T)||isNaN(et))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var R=x.call(this,E,S,lt,nt);return I.call(this,T,et,pt,Q,R,At),this};var x=function(E,S,T,et){var pt,Q,lt;if(typeof E=="string"&&r(E)===t){E=unescape(E);var nt=U(E,!1);(nt!==""||(nt=e.loadFile(E,!0))!==void 0)&&(E=nt)}if(g(E)&&(E=_(E,S)),S=r(E,S),!d(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(((lt=T)==null||lt.length===0)&&(T=function(At){return typeof At=="string"||Pt(At)?k(At):Pt(At.data)?k(At.data):null}(E)),(pt=m.call(this,T))||(_t()&&(E instanceof Uint8Array||S==="RGBA"||(Q=E,E=O(E))),pt=this["process"+S.toUpperCase()](E,h.call(this),T,function(At){return At&&typeof At=="string"&&(At=At.toUpperCase()),At in e.image_compression?At:C.NONE}(et),Q)),!pt)throw new Error("An unknown error occurred whilst processing the image.");return pt},U=e.__addimage__.convertBase64ToBinaryString=function(E,S){S=typeof S!="boolean"||S;var T,et="";if(typeof E=="string"){var pt;T=(pt=tt(E))!==null&&pt!==void 0?pt:E;try{et=Ru(T)}catch(Q){if(S)throw H(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return et};e.getImageProperties=function(E){var S,T,et="";if(g(E)&&(E=_(E)),typeof E=="string"&&r(E)===t&&((et=U(E,!1))===""&&(et=e.loadFile(E)||""),E=et),T=r(E),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(!_t()||E instanceof Uint8Array||(E=O(E)),!(S=this["process"+T.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return S.fileType=T,S}})(ue.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ue.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,d=!1,g=0;g<h.length&&!d;g++)switch((r=h[g]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var _=0;_<h.length;_++){r=h[_];var m=this.internal.pdfEscape,P=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(I.objId),k=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(C(r.contents))+")",s+=" /Popup "+M.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+m(C(k))+") >>",I.content=s;var H=I.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+H,r.open&&(s+=" /Open true"),s+=" >>",M.content=s,this.internal.write(I.objId,"0 R",M.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var tt=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(P(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+tt+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var _t=this.annotations._nameMap[r.options.name];r.options.pageNumber=_t.page,r.options.top=_t.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Pt=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Pt+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:u(n),y:h(r),w:u(n+i),h:h(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,u=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(n,a).length;o=Math.ceil(h*d)}else a=u,o=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=u/2),s.align==="right"&&(r-=u),this.link(r,i-h,a,o,s),u},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ue.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(I){return t[I.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},a=e.__arabicParser__.isArabicEndLetter=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(I){return o(I)&&i.indexOf(I.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length>=1};var h=e.__arabicParser__.arabicLetterHasFinalForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(I){var M=0,C=n,k="",H=0;for(M=0;M<I.length;M+=1)C[I.charCodeAt(M)]!==void 0?(H++,typeof(C=C[I.charCodeAt(M)])=="number"&&(k+=String.fromCharCode(C),C=n,H=0),M===I.length-1&&(C=n,k+=I.charAt(M-(H-1)),M-=H-1,H=0)):(C=n,k+=I.charAt(M-H),M-=H,H=0);return k};e.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var _=e.__arabicParser__.getCorrectForm=function(I,M,C){return o(I)?s(I)===!1?-1:!h(I)||!o(M)&&!o(C)||!o(C)&&a(M)||a(I)&&!o(M)||a(I)&&u(M)||a(I)&&a(M)?0:d(I)&&o(M)&&!a(M)&&o(C)&&h(C)?3:a(I)||!o(C)?1:2:-1},m=function(I){var M=0,C=0,k=0,H="",tt="",_t="",Pt=(I=I||"").split("\\s+"),O=[];for(M=0;M<Pt.length;M+=1){for(O.push(""),C=0;C<Pt[M].length;C+=1)H=Pt[M][C],tt=Pt[M][C-1],_t=Pt[M][C+1],o(H)?(k=_(H,tt,_t),O[M]+=k!==-1?String.fromCharCode(t[H.charCodeAt(0)][k]):H):O[M]+=H;O[M]=g(O[M])}return O.join(" ")},P=e.__arabicParser__.processArabic=e.processArabic=function(){var I,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(M)){var k=0;for(C=[],k=0;k<M.length;k+=1)Array.isArray(M[k])?C.push([m(M[k][0]),M[k][1],M[k][2]]):C.push([m(M[k])]);I=C}else I=m(M);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};e.events.push(["preProcessText",P])}(ue.API),ue.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ue.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(I){u=I}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(I){h=I}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(I){d=I}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(I){g=I}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(I){_=I}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(I){m=I}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(I){P=I}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,h){r.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),_=h.scaleFactor||this.internal.scaleFactor,m=0,P=0,I=0,M=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var C=h.maxWidth;C>0?typeof u=="string"?u=this.splitTextToSize(u,C):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(H,tt){return H.concat(M.splitTextToSize(tt,C))},[])):u=Array.isArray(u)?u:[u];for(var k=0;k<u.length;k++)m<(I=this.getStringUnitWidth(u[k],{font:g})*d)&&(m=I);return m!==0&&(P=u.length),{w:m/=_,h:Math.max((P*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/_,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,_=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,m&&_&&(this.printHeaderRow(u.lineNumber,!0),u.y+=_[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-d,u.y+d,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+d,{align:"center",baseline:"top",maxWidth:u.width-d-d}):this.text(u.text,u.x+d,u.y+d,{align:"left",baseline:"top",maxWidth:u.width-d-d})),this.internal.__cell__.lastCell=u,this};e.table=function(u,h,d,g,_){if(r.call(this),!d)throw new Error("No data for PDF table.");var m,P,I,M,C=[],k=[],H=[],tt={},_t={},Pt=[],O=[],b=(_=_||{}).autoSize||!1,x=_.printHeaders!==!1,U=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,E=_.margins||Object.assign({width:this.getPageWidth()},t),S=typeof _.padding=="number"?_.padding:3,T=_.headerBackgroundColor||"#c8c8c8",et=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=x,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=et,this.setFontSize(U),g==null)k=C=Object.keys(d[0]),H=C.map(function(){return"left"});else if(Array.isArray(g)&&Qe(g[0])==="object")for(C=g.map(function(st){return st.name}),k=g.map(function(st){return st.prompt||st.name||""}),H=g.map(function(st){return st.align||"left"}),m=0;m<g.length;m+=1)_t[g[m].name]=g[m].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(k=C=g,H=C.map(function(){return"left"}));if(b||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<C.length;m+=1){for(tt[M=C[m]]=d.map(function(st){return st[M]}),this.setFont(void 0,"bold"),Pt.push(this.getTextDimensions(k[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=tt[M],this.setFont(void 0,"normal"),I=0;I<P.length;I+=1)Pt.push(this.getTextDimensions(P[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_t[M]=Math.max.apply(null,Pt)+S+S,Pt=[]}if(x){var pt={};for(m=0;m<C.length;m+=1)pt[C[m]]={},pt[C[m]].text=k[m],pt[C[m]].align=H[m];var Q=a.call(this,pt,_t);O=C.map(function(st){return new s(u,h,_t[st],Q,pt[st].text,void 0,pt[st].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var lt=g.reduce(function(st,$t){return st[$t.name]=$t.align,st},{});for(m=0;m<d.length;m+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:m,data:d[m]},this);var nt=a.call(this,d[m],_t);for(I=0;I<C.length;I+=1){var At=d[m][C[I]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:m,col:I,data:At},this),o.call(this,new s(u,h,_t[C[I]],nt,At,m+2,lt[C[I]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var a=function(u,h){var d=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(u).map(function(m){var P=u[m];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,h[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/_+d+d},this).reduce(function(m,P){return Math.max(m,P)},0)};e.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,_.push(d)),d.lineNumber=u;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(P)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),n=!1}}(ue.API);var Ov={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Fv=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],rp=Dv(Fv),Mv=[100,200,300,400,500,600,700,800,900],px=Dv(Mv);function ip(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Ov[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof rp[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Jm(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var gx={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Xm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Zm(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function mx(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},gx,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=ip(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+Zm(s)+"' and default family '"+r+"'.");if(o=function(u,h){if(h[u])return h[u];var d=rp[u],g=d<=rp.normal?-1:1,_=Jm(h,Fv,d,g);if(!_)throw new Error("Could not find a matching font-stretch value for "+u);return _}(s.stretch,o),o=function(u,h){if(h[u])return h[u];for(var d=Ov[u],g=0;g<d.length;++g)if(h[d[g]])return h[d[g]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,h){if(h[u])return h[u];if(u===400&&h[500])return h[500];if(u===500&&h[400])return h[400];var d=px[u],g=Jm(h,Mv,d,u<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+u);return g}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Zm(s)+"'.");return o}function t2(e){return e.trimLeft()}function vx(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function yx(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Mc,e2,n2,od=["times"];(function(e){var t,n,r,i,s,o,a,u,h,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new u,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,u=this.internal.Matrix,h=new d}]);var g=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=R;Object.defineProperty(this,"pdf",{get:function(){return W}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Z){J=!!Z}});var it=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return it},set:function(Z){it=!!Z}});var ht=0;Object.defineProperty(this,"posX",{get:function(){return ht},set:function(Z){isNaN(Z)||(ht=Z)}});var G=0;Object.defineProperty(this,"posY",{get:function(){return G},set:function(Z){isNaN(Z)||(G=Z)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Z){var j;typeof Z=="number"?j=[Z,Z,Z,Z]:((j=new Array(4))[0]=Z[0],j[1]=Z.length>=2?Z[1]:j[0],j[2]=Z.length>=3?Z[2]:j[0],j[3]=Z.length>=4?Z[3]:j[1]),h.margin=j}});var ot=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ot},set:function(Z){ot=Z}});var X=0;Object.defineProperty(this,"lastBreak",{get:function(){return X},set:function(Z){X=Z}});var It=[];Object.defineProperty(this,"pageBreaks",{get:function(){return It},set:function(Z){It=Z}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Z){Z instanceof d&&(h=Z)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Z){h.path=Z}});var Rt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Rt},set:function(Z){Rt=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var j;j=_(Z),this.ctx.fillStyle=j.style,this.ctx.isFillTransparent=j.a===0,this.ctx.fillOpacity=j.a,this.pdf.setFillColor(j.r,j.g,j.b,{a:j.a}),this.pdf.setTextColor(j.r,j.g,j.b,{a:j.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var j=_(Z);this.ctx.strokeStyle=j.style,this.ctx.isStrokeTransparent=j.a===0,this.ctx.strokeOpacity=j.a,j.a===0?this.pdf.setDrawColor(255,255,255):(j.a,this.pdf.setDrawColor(j.r,j.g,j.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var $=null;function z(Z,j){if($===null){var Tt=function(Nt){var mt=[];return Object.keys(Nt).forEach(function(wt){Nt[wt].forEach(function(bt){var Dt=null;switch(bt){case"bold":Dt={family:wt,weight:"bold"};break;case"italic":Dt={family:wt,style:"italic"};break;case"bolditalic":Dt={family:wt,weight:"bold",style:"italic"};break;case"":case"normal":Dt={family:wt}}Dt!==null&&(Dt.ref={name:wt,style:bt},mt.push(Dt))})}),mt}(Z.getFontList());$=function(Nt){for(var mt={},wt=0;wt<Nt.length;++wt){var bt=ip(Nt[wt]),Dt=bt.family,kt=bt.stretch,Ut=bt.style,Ht=bt.weight;mt[Dt]=mt[Dt]||{},mt[Dt][kt]=mt[Dt][kt]||{},mt[Dt][kt][Ut]=mt[Dt][kt][Ut]||{},mt[Dt][kt][Ut][Ht]=bt}return mt}(Tt.concat(j))}return $}var rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(Z){$=null,rt=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var j;if(this.ctx.font=Z,(j=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Z))!==null){var Tt=j[1];j[2];var Nt=j[3],mt=j[4];j[5];var wt=j[6],bt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(mt)[2];mt=Math.floor(bt==="px"?parseFloat(mt)*this.pdf.internal.scaleFactor:bt==="em"?parseFloat(mt)*this.pdf.getFontSize():parseFloat(mt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(mt);var Dt=function(ee){var se,Gt,Re=[],Ae=ee.trim();if(Ae==="")return od;if(Ae in Xm)return[Xm[Ae]];for(;Ae!=="";){switch(Gt=null,se=(Ae=t2(Ae)).charAt(0)){case'"':case"'":Gt=vx(Ae.substring(1),se);break;default:Gt=yx(Ae)}if(Gt===null||(Re.push(Gt[0]),(Ae=t2(Gt[1]))!==""&&Ae.charAt(0)!==","))return od;Ae=Ae.replace(/^,/,"")}return Re}(wt);if(this.fontFaces){var kt=mx(z(this.pdf,this.fontFaces),Dt.map(function(ee){return{family:ee,stretch:"normal",weight:Nt,style:Tt}}));this.pdf.setFont(kt.ref.name,kt.ref.style)}else{var Ut="";(Nt==="bold"||parseInt(Nt,10)>=700||Tt==="bold")&&(Ut="bold"),Tt==="italic"&&(Ut+="italic"),Ut.length===0&&(Ut="normal");for(var Ht="",Wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Yt=0;Yt<Dt.length;Yt++){if(this.pdf.internal.getFont(Dt[Yt],Ut,{noFallback:!0,disableWarning:!0})!==void 0){Ht=Dt[Yt];break}if(Ut==="bolditalic"&&this.pdf.internal.getFont(Dt[Yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ht=Dt[Yt],Ut="bold";else if(this.pdf.internal.getFont(Dt[Yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ht=Dt[Yt],Ut="normal";break}}if(Ht===""){for(var re=0;re<Dt.length;re++)if(Wt[Dt[re]]){Ht=Wt[Dt[re]];break}}Ht=Ht===""?"Times":Ht,this.pdf.setFont(Ht,Ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,$t.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,$t.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};g.prototype.setLineDash=function(R){this.lineDash=R},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){tt.call(this,"fill",!1)},g.prototype.stroke=function(){tt.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(R,W){if(isNaN(R)||isNaN(W))throw tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(R,W));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(R,W)},g.prototype.closePath=function(){var R=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Qe(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){R=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},g.prototype.lineTo=function(R,W){if(isNaN(R)||isNaN(W))throw tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(R,W));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),tt.call(this,null,!0)},g.prototype.quadraticCurveTo=function(R,W,J,it){if(isNaN(J)||isNaN(it)||isNaN(R)||isNaN(W))throw tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ht=this.ctx.transform.applyToPoint(new o(J,it)),G=this.ctx.transform.applyToPoint(new o(R,W));this.path.push({type:"qct",x1:G.x,y1:G.y,x:ht.x,y:ht.y}),this.ctx.lastPoint=new o(ht.x,ht.y)},g.prototype.bezierCurveTo=function(R,W,J,it,ht,G){if(isNaN(ht)||isNaN(G)||isNaN(R)||isNaN(W)||isNaN(J)||isNaN(it))throw tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ot=this.ctx.transform.applyToPoint(new o(ht,G)),X=this.ctx.transform.applyToPoint(new o(R,W)),It=this.ctx.transform.applyToPoint(new o(J,it));this.path.push({type:"bct",x1:X.x,y1:X.y,x2:It.x,y2:It.y,x:ot.x,y:ot.y}),this.ctx.lastPoint=new o(ot.x,ot.y)},g.prototype.arc=function(R,W,J,it,ht,G){if(isNaN(R)||isNaN(W)||isNaN(J)||isNaN(it)||isNaN(ht))throw tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(G=!!G,!this.ctx.transform.isIdentity){var ot=this.ctx.transform.applyToPoint(new o(R,W));R=ot.x,W=ot.y;var X=this.ctx.transform.applyToPoint(new o(0,J)),It=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(X.x-It.x,2)+Math.pow(X.y-It.y,2))}Math.abs(ht-it)>=2*Math.PI&&(it=0,ht=2*Math.PI),this.path.push({type:"arc",x:R,y:W,radius:J,startAngle:it,endAngle:ht,counterclockwise:G})},g.prototype.arcTo=function(R,W,J,it,ht){throw new Error("arcTo not implemented.")},g.prototype.rect=function(R,W,J,it){if(isNaN(R)||isNaN(W)||isNaN(J)||isNaN(it))throw tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,W),this.lineTo(R+J,W),this.lineTo(R+J,W+it),this.lineTo(R,W+it),this.lineTo(R,W),this.lineTo(R+J,W),this.lineTo(R,W)},g.prototype.fillRect=function(R,W,J,it){if(isNaN(R)||isNaN(W)||isNaN(J)||isNaN(it))throw tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ht={};this.lineCap!=="butt"&&(ht.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ht.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,W,J,it),this.fill(),ht.hasOwnProperty("lineCap")&&(this.lineCap=ht.lineCap),ht.hasOwnProperty("lineJoin")&&(this.lineJoin=ht.lineJoin)}},g.prototype.strokeRect=function(R,W,J,it){if(isNaN(R)||isNaN(W)||isNaN(J)||isNaN(it))throw tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(R,W,J,it),this.stroke())},g.prototype.clearRect=function(R,W,J,it){if(isNaN(R)||isNaN(W)||isNaN(J)||isNaN(it))throw tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,W,J,it))},g.prototype.save=function(R){R=typeof R!="boolean"||R;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var it=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=it}},g.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(W),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(R){var W,J,it,ht;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))W=0,J=0,it=0,ht=0;else{var G=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(G!==null)W=parseInt(G[1]),J=parseInt(G[2]),it=parseInt(G[3]),ht=1;else if((G=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)W=parseInt(G[1]),J=parseInt(G[2]),it=parseInt(G[3]),ht=parseFloat(G[4]);else{if(ht=1,typeof R=="string"&&R.charAt(0)!=="#"){var ot=new Pv(R);R=ot.ok?ot.toHex():"#000000"}R.length===4?(W=R.substring(1,2),W+=W,J=R.substring(2,3),J+=J,it=R.substring(3,4),it+=it):(W=R.substring(1,3),J=R.substring(3,5),it=R.substring(5,7)),W=parseInt(W,16),J=parseInt(J,16),it=parseInt(it,16)}}return{r:W,g:J,b:it,a:ht,style:R}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(R,W,J,it){if(isNaN(W)||isNaN(J)||typeof R!="string")throw tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(it=isNaN(it)?void 0:it,!m.call(this)){var ht=nt(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;S.call(this,{text:R,x:W,y:J,scale:G,angle:ht,align:this.textAlign,maxWidth:it})}},g.prototype.strokeText=function(R,W,J,it){if(isNaN(W)||isNaN(J)||typeof R!="string")throw tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){it=isNaN(it)?void 0:it;var ht=nt(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;S.call(this,{text:R,x:W,y:J,scale:G,renderingMode:"stroke",angle:ht,align:this.textAlign,maxWidth:it})}},g.prototype.measureText=function(R){if(typeof R!="string")throw tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,J=this.pdf.internal.scaleFactor,it=W.internal.getFontSize(),ht=W.getStringUnitWidth(R)*it/W.internal.scaleFactor,G=function(ot){var X=(ot=ot||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return X}}),this};return new G({width:ht*=Math.round(96*J/72*1e4)/1e4})},g.prototype.scale=function(R,W){if(isNaN(R)||isNaN(W))throw tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new u(R,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},g.prototype.rotate=function(R){if(isNaN(R))throw tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new u(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},g.prototype.translate=function(R,W){if(isNaN(R)||isNaN(W))throw tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new u(1,0,0,1,R,W);this.ctx.transform=this.ctx.transform.multiply(J)},g.prototype.transform=function(R,W,J,it,ht,G){if(isNaN(R)||isNaN(W)||isNaN(J)||isNaN(it)||isNaN(ht)||isNaN(G))throw tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ot=new u(R,W,J,it,ht,G);this.ctx.transform=this.ctx.transform.multiply(ot)},g.prototype.setTransform=function(R,W,J,it,ht,G){R=isNaN(R)?1:R,W=isNaN(W)?0:W,J=isNaN(J)?0:J,it=isNaN(it)?1:it,ht=isNaN(ht)?0:ht,G=isNaN(G)?0:G,this.ctx.transform=new u(R,W,J,it,ht,G)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(R,W,J,it,ht,G,ot,X,It){var Rt=this.pdf.getImageProperties(R),$=1,z=1,rt=1,Z=1;it!==void 0&&X!==void 0&&(rt=X/it,Z=It/ht,$=Rt.width/it*X/it,z=Rt.height/ht*It/ht),G===void 0&&(G=W,ot=J,W=0,J=0),it!==void 0&&X===void 0&&(X=it,It=ht),it===void 0&&X===void 0&&(X=Rt.width,It=Rt.height);for(var j,Tt=this.ctx.transform.decompose(),Nt=nt(Tt.rotate.shx),mt=new u,wt=(mt=(mt=(mt=mt.multiply(Tt.translate)).multiply(Tt.skew)).multiply(Tt.scale)).applyToRectangle(new a(G-W*rt,ot-J*Z,it*$,ht*z)),bt=M.call(this,wt),Dt=[],kt=0;kt<bt.length;kt+=1)Dt.indexOf(bt[kt])===-1&&Dt.push(bt[kt]);if(H(Dt),this.autoPaging)for(var Ut=Dt[0],Ht=Dt[Dt.length-1],Wt=Ut;Wt<Ht+1;Wt++){this.pdf.setPage(Wt);var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],re=Wt===1?this.posY+this.margin[0]:this.margin[0],ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gt=Wt===1?0:ee+(Wt-2)*se;if(this.ctx.clip_path.length!==0){var Re=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(j,this.posX+this.margin[3],-Gt+re+this.ctx.prevPageLastElemOffset),_t.call(this,"fill",!0),this.path=Re}var Ae=JSON.parse(JSON.stringify(wt));Ae=k([Ae],this.posX+this.margin[3],-Gt+re+this.ctx.prevPageLastElemOffset)[0];var Hn=(Wt>Ut||Wt<Ht)&&I.call(this);Hn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,se,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Ae.x,Ae.y,Ae.w,Ae.h,null,null,Nt),Hn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,Nt)};var M=function(R,W,J){var it=[];W=W||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ht=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":it.push(Math.floor((R.y+ht)/J)+1);break;case"arc":it.push(Math.floor((R.y+ht-R.radius)/J)+1),it.push(Math.floor((R.y+ht+R.radius)/J)+1);break;case"qct":var G=At(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);it.push(Math.floor((G.y+ht)/J)+1),it.push(Math.floor((G.y+G.h+ht)/J)+1);break;case"bct":var ot=st(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);it.push(Math.floor((ot.y+ht)/J)+1),it.push(Math.floor((ot.y+ot.h+ht)/J)+1);break;case"rect":it.push(Math.floor((R.y+ht)/J)+1),it.push(Math.floor((R.y+R.h+ht)/J)+1)}for(var X=0;X<it.length;X+=1)for(;this.pdf.internal.getNumberOfPages()<it[X];)C.call(this);return it},C=function(){var R=this.fillStyle,W=this.strokeStyle,J=this.font,it=this.lineCap,ht=this.lineWidth,G=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=W,this.font=J,this.lineCap=it,this.lineWidth=ht,this.lineJoin=G},k=function(R,W,J){for(var it=0;it<R.length;it++)switch(R[it].type){case"bct":R[it].x2+=W,R[it].y2+=J;case"qct":R[it].x1+=W,R[it].y1+=J;case"mt":case"lt":case"arc":default:R[it].x+=W,R[it].y+=J}return R},H=function(R){return R.sort(function(W,J){return W-J})},tt=function(R,W){for(var J,it,ht=this.fillStyle,G=this.strokeStyle,ot=this.lineCap,X=this.lineWidth,It=Math.abs(X*this.ctx.transform.scaleX),Rt=this.lineJoin,$=JSON.parse(JSON.stringify(this.path)),z=JSON.parse(JSON.stringify(this.path)),rt=[],Z=0;Z<z.length;Z++)if(z[Z].x!==void 0)for(var j=M.call(this,z[Z]),Tt=0;Tt<j.length;Tt+=1)rt.indexOf(j[Tt])===-1&&rt.push(j[Tt]);for(var Nt=0;Nt<rt.length;Nt++)for(;this.pdf.internal.getNumberOfPages()<rt[Nt];)C.call(this);if(H(rt),this.autoPaging)for(var mt=rt[0],wt=rt[rt.length-1],bt=mt;bt<wt+1;bt++){this.pdf.setPage(bt),this.fillStyle=ht,this.strokeStyle=G,this.lineCap=ot,this.lineWidth=It,this.lineJoin=Rt;var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=bt===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=bt===1?0:Ut+(bt-2)*Ht;if(this.ctx.clip_path.length!==0){var Yt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(J,this.posX+this.margin[3],-Wt+kt+this.ctx.prevPageLastElemOffset),_t.call(this,R,!0),this.path=Yt}if(it=JSON.parse(JSON.stringify($)),this.path=k(it,this.posX+this.margin[3],-Wt+kt+this.ctx.prevPageLastElemOffset),W===!1||bt===0){var re=(bt>mt||bt<wt)&&I.call(this);re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,Ht,null).clip().discardPath()),_t.call(this,R,W),re&&this.pdf.restoreGraphicsState()}this.lineWidth=X}else this.lineWidth=It,_t.call(this,R,W),this.lineWidth=X;this.path=$},_t=function(R,W){if((R!=="stroke"||W||!P.call(this))&&(R==="stroke"||W||!m.call(this))){for(var J,it,ht=[],G=this.path,ot=0;ot<G.length;ot++){var X=G[ot];switch(X.type){case"begin":ht.push({begin:!0});break;case"close":ht.push({close:!0});break;case"mt":ht.push({start:X,deltas:[],abs:[]});break;case"lt":var It=ht.length;if(G[ot-1]&&!isNaN(G[ot-1].x)&&(J=[X.x-G[ot-1].x,X.y-G[ot-1].y],It>0)){for(;It>=0;It--)if(ht[It-1].close!==!0&&ht[It-1].begin!==!0){ht[It-1].deltas.push(J),ht[It-1].abs.push(X);break}}break;case"bct":J=[X.x1-G[ot-1].x,X.y1-G[ot-1].y,X.x2-G[ot-1].x,X.y2-G[ot-1].y,X.x-G[ot-1].x,X.y-G[ot-1].y],ht[ht.length-1].deltas.push(J);break;case"qct":var Rt=G[ot-1].x+2/3*(X.x1-G[ot-1].x),$=G[ot-1].y+2/3*(X.y1-G[ot-1].y),z=X.x+2/3*(X.x1-X.x),rt=X.y+2/3*(X.y1-X.y),Z=X.x,j=X.y;J=[Rt-G[ot-1].x,$-G[ot-1].y,z-G[ot-1].x,rt-G[ot-1].y,Z-G[ot-1].x,j-G[ot-1].y],ht[ht.length-1].deltas.push(J);break;case"arc":ht.push({deltas:[],abs:[],arc:!0}),Array.isArray(ht[ht.length-1].abs)&&ht[ht.length-1].abs.push(X)}}it=W?null:R==="stroke"?"stroke":"fill";for(var Tt=!1,Nt=0;Nt<ht.length;Nt++)if(ht[Nt].arc)for(var mt=ht[Nt].abs,wt=0;wt<mt.length;wt++){var bt=mt[wt];bt.type==="arc"?b.call(this,bt.x,bt.y,bt.radius,bt.startAngle,bt.endAngle,bt.counterclockwise,void 0,W,!Tt):T.call(this,bt.x,bt.y),Tt=!0}else if(ht[Nt].close===!0)this.pdf.internal.out("h"),Tt=!1;else if(ht[Nt].begin!==!0){var Dt=ht[Nt].start.x,kt=ht[Nt].start.y;et.call(this,ht[Nt].deltas,Dt,kt),Tt=!0}it&&x.call(this,it),W&&U.call(this)}},Pt=function(R){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-J;case"top":return R+W-J;case"hanging":return R+W-2*J;case"middle":return R+W/2-J;case"ideographic":return R;case"alphabetic":default:return R}},O=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(W,J){this.colorStops.push([W,J])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var b=function(R,W,J,it,ht,G,ot,X,It){for(var Rt=Q.call(this,J,it,ht,G),$=0;$<Rt.length;$++){var z=Rt[$];$===0&&(It?E.call(this,z.x1+R,z.y1+W):T.call(this,z.x1+R,z.y1+W)),pt.call(this,R,W,z.x2,z.y2,z.x3,z.y3,z.x4,z.y4)}X?U.call(this):x.call(this,ot)},x=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(R,W){this.pdf.internal.out(n(R)+" "+r(W)+" m")},S=function(R){var W;switch(R.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var J=this.pdf.getTextDimensions(R.text),it=Pt.call(this,R.y),ht=O.call(this,it)-J.h,G=this.ctx.transform.applyToPoint(new o(R.x,it)),ot=this.ctx.transform.decompose(),X=new u;X=(X=(X=X.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale);for(var It,Rt,$,z=this.ctx.transform.applyToRectangle(new a(R.x,it,J.w,J.h)),rt=X.applyToRectangle(new a(R.x,ht,J.w,J.h)),Z=M.call(this,rt),j=[],Tt=0;Tt<Z.length;Tt+=1)j.indexOf(Z[Tt])===-1&&j.push(Z[Tt]);if(H(j),this.autoPaging)for(var Nt=j[0],mt=j[j.length-1],wt=Nt;wt<mt+1;wt++){this.pdf.setPage(wt);var bt=wt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],Ut=kt-this.margin[0],Ht=this.pdf.internal.pageSize.width-this.margin[1],Wt=Ht-this.margin[3],Yt=wt===1?0:Dt+(wt-2)*Ut;if(this.ctx.clip_path.length!==0){var re=this.path;It=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(It,this.posX+this.margin[3],-1*Yt+bt),_t.call(this,"fill",!0),this.path=re}var ee=k([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-Yt+bt+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Rt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Rt*R.scale),$=this.lineWidth,this.lineWidth=$*R.scale);var se=this.autoPaging!=="text";if(se||ee.y+ee.h<=kt){if(se||ee.y>=bt&&ee.x<=Ht){var Gt=se?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Ht-ee.x)[0],Re=k([JSON.parse(JSON.stringify(z))],this.posX+this.margin[3],-Yt+bt+this.ctx.prevPageLastElemOffset)[0],Ae=se&&(wt>Nt||wt<mt)&&I.call(this);Ae&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,Ut,null).clip().discardPath()),this.pdf.text(Gt,Re.x,Re.y,{angle:R.angle,align:W,renderingMode:R.renderingMode}),Ae&&this.pdf.restoreGraphicsState()}}else ee.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-ee.y);R.scale>=.01&&(this.pdf.setFontSize(Rt),this.lineWidth=$)}else R.scale>=.01&&(Rt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Rt*R.scale),$=this.lineWidth,this.lineWidth=$*R.scale),this.pdf.text(R.text,G.x+this.posX,G.y+this.posY,{angle:R.angle,align:W,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Rt),this.lineWidth=$)},T=function(R,W,J,it){J=J||0,it=it||0,this.pdf.internal.out(n(R+J)+" "+r(W+it)+" l")},et=function(R,W,J){return this.pdf.lines(R,W,J,null,null)},pt=function(R,W,J,it,ht,G,ot,X){this.pdf.internal.out([t(i(J+R)),t(s(it+W)),t(i(ht+R)),t(s(G+W)),t(i(ot+R)),t(s(X+W)),"c"].join(" "))},Q=function(R,W,J,it){for(var ht=2*Math.PI,G=Math.PI/2;W>J;)W-=ht;var ot=Math.abs(J-W);ot<ht&&it&&(ot=ht-ot);for(var X=[],It=it?-1:1,Rt=W;ot>1e-5;){var $=Rt+It*Math.min(ot,G);X.push(lt.call(this,R,Rt,$)),ot-=Math.abs($-Rt),Rt=$}return X},lt=function(R,W,J){var it=(J-W)/2,ht=R*Math.cos(it),G=R*Math.sin(it),ot=ht,X=-G,It=ot*ot+X*X,Rt=It+ot*ht+X*G,$=4/3*(Math.sqrt(2*It*Rt)-Rt)/(ot*G-X*ht),z=ot-$*X,rt=X+$*ot,Z=z,j=-rt,Tt=it+W,Nt=Math.cos(Tt),mt=Math.sin(Tt);return{x1:R*Math.cos(W),y1:R*Math.sin(W),x2:z*Nt-rt*mt,y2:z*mt+rt*Nt,x3:Z*Nt-j*mt,y3:Z*mt+j*Nt,x4:R*Math.cos(J),y4:R*Math.sin(J)}},nt=function(R){return 180*R/Math.PI},At=function(R,W,J,it,ht,G){var ot=R+.5*(J-R),X=W+.5*(it-W),It=ht+.5*(J-ht),Rt=G+.5*(it-G),$=Math.min(R,ht,ot,It),z=Math.max(R,ht,ot,It),rt=Math.min(W,G,X,Rt),Z=Math.max(W,G,X,Rt);return new a($,rt,z-$,Z-rt)},st=function(R,W,J,it,ht,G,ot,X){var It,Rt,$,z,rt,Z,j,Tt,Nt,mt,wt,bt,Dt,kt,Ut=J-R,Ht=it-W,Wt=ht-J,Yt=G-it,re=ot-ht,ee=X-G;for(Rt=0;Rt<41;Rt++)Nt=(j=($=R+(It=Rt/40)*Ut)+It*((rt=J+It*Wt)-$))+It*(rt+It*(ht+It*re-rt)-j),mt=(Tt=(z=W+It*Ht)+It*((Z=it+It*Yt)-z))+It*(Z+It*(G+It*ee-Z)-Tt),Rt==0?(wt=Nt,bt=mt,Dt=Nt,kt=mt):(wt=Math.min(wt,Nt),bt=Math.min(bt,mt),Dt=Math.max(Dt,Nt),kt=Math.max(kt,mt));return new a(Math.round(wt),Math.round(bt),Math.round(Dt-wt),Math.round(kt-bt))},$t=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,W,J=(R=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:W}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(ue.API),function(e){var t=function(s){var o,a,u,h,d,g,_,m,P,I;for(a=[],u=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>u;u+=4)(d=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(g=(d=((d=((d=((d=(d-(I=d%85))/85)-(P=d%85))/85)-(m=d%85))/85)-(_=d%85))/85)%85,a.push(g+33,_+33,m+33,P+33,I+33)):a.push(122);return function(M,C){for(var k=C;k>0;k--)M.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,u,h,d,g=String,_="length",m=255,P="charCodeAt",I="slice",M="replace";for(s[I](-2),s=s[I](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),u=[],h=0,d=(s+=o="uuuuu"[I](s[_]%5||5))[_];d>h;h+=5)a=52200625*(s[P](h)-33)+614125*(s[P](h+1)-33)+7225*(s[P](h+2)-33)+85*(s[P](h+3)-33)+(s[P](h+4)-33),u.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(C,k){for(var H=k;H>0;H--)C.pop()}(u,o[_]),g.fromCharCode.apply(g,u)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",u=0;u<s.length;u+=2)a+=String.fromCharCode("0x"+(s[u]+s[u+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Xd(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};e.processDataByFilters=function(s,o){var a=0,u=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(ue.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(u,h,d){var g=new XMLHttpRequest,_=0,m=function(P){var I=P.length,M=[],C=String.fromCharCode;for(_=0;_<I;_+=1)M.push(C(255&P.charCodeAt(_)));return M.join("")};if(g.open("GET",u,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?d(m(this.responseText)):d(void 0)}),g.send(null),h&&g.status===200)return m(g.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(ue.API),function(e){function t(){return(ce.html2canvas?Promise.resolve(ce.html2canvas):Gd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ce.DOMPurify?Promise.resolve(ce.DOMPurify):Gd(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Qe(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var u=document.createElement(o);for(var h in a.className&&(u.className=a.className),a.innerHTML&&a.dompurify&&(u.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)u.style[h]=a.style[h];return u},s=function o(a){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return h=(h=h.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function u(h,d){for(var g=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),_=h.firstChild;_;_=_.nextSibling)d!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||g.appendChild(u(_,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(g.width=h.width,g.height=h.height,g.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(g.value=h.value),g.addEventListener("load",function(){g.scrollTop=h.scrollTop,g.scrollLeft=h.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,a(this.prop.container,u)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var u=this.opt.jsPDF,h=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var _=0;_<h.length;++_){var m=h[_],P=m.src.find(function(I){return I.format==="truetype"});P&&u.addFont(P.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),a(this.prop.container,g)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||ue.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,u,h){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,u,h){return this.setProgress(o?this.progress.val+o:null,a||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,a){var u=this;return this.thenCore(o,a,function(h,d){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,h),g}).then(h,d).then(function(g){return u.updateProgress(1),g})})},s.prototype.thenCore=function(o,a,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=u.call(h,o,a);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(u){a=a.thenCore(u)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ue.getPageSize=function(o,a,u){if(Qe(o)==="object"){var h=o;o=h.orientation,a=h.unit||a,u=h.format||u}a=a||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var d,g=(""+u).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var m,P=0,I=0;if(_.hasOwnProperty(g))P=_[g][1]/d,I=_[g][0]/d;else try{P=u[1],I=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",I>P&&(m=I,I=P,P=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",P>I&&(m=I,I=P,P=m)}return{width:I,height:P,unit:a,k:d,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(ip):null;var u=new s(a);return a.worker?u:u.from(o).doCallback()}}(ue.API),ue.API.addJS=function(e){return n2=e,this.internal.events.subscribe("postPutResources",function(){Mc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Mc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),e2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Mc!==void 0&&e2!==void 0&&this.internal.out("/Names <</JavaScript "+Mc+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var u=a[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(s=0;s<h;s++){var g=n.internal.newObject();d.push(g);var _=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var u=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ue.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var u,h=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(g){for(var _,m=256*g.charCodeAt(4)+g.charCodeAt(5),P=g.length,I={width:0,height:0,numcomponents:1},M=4;M<P;M+=2){if(M+=m,t.indexOf(g.charCodeAt(M+1))!==-1){_=256*g.charCodeAt(M+5)+g.charCodeAt(M+6),I={width:256*g.charCodeAt(M+7)+g.charCodeAt(M+8),height:_,numcomponents:g.charCodeAt(M+9)};break}m=256*g.charCodeAt(M+2)+g.charCodeAt(M+3)}return I}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:u.width,height:u.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return d}}(ue.API);var tl,Vc,r2,i2,s2,_x=function(){var e,t,n;function r(s){var o,a,u,h,d,g,_,m,P,I,M,C,k,H;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(o=this.readUInt32(),P=(function(){var tt,_t;for(_t=[],tt=0;tt<4;++tt)_t.push(String.fromCharCode(this.data[this.pos++]));return _t}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),h=this.readUInt16()||100,g.delay=1e3*d/h,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(P==="fdAT"&&(this.pos+=4,o-=4),s=(g!=null?g.data:void 0)||this.imgData,C=0;0<=o?C<o:C>o;0<=o?++C:--C)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((I=u-this.transparency.indexed.length)>0)for(k=0;0<=I?k<I:k>I;0<=I?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":_=(M=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,M.slice(0,_)),this.text[m]=String.fromCharCode.apply(String,M.slice(_+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(H=this.colorType)===4||H===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),u=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(g,_,m,P){var I,M,C,k,H,tt,_t,Pt,O,b,x,U,E,S,T,et,pt,Q,lt,nt,At,st=Math.ceil((h.width-g)/m),$t=Math.ceil((h.height-_)/P),R=h.width==st&&h.height==$t;for(S=o*st,U=R?a:new Uint8Array(S*$t),tt=s.length,E=0,M=0;E<$t&&u<tt;){switch(s[u++]){case 0:for(k=pt=0;pt<S;k=pt+=1)U[M++]=s[u++];break;case 1:for(k=Q=0;Q<S;k=Q+=1)I=s[u++],H=k<o?0:U[M-o],U[M++]=(I+H)%256;break;case 2:for(k=lt=0;lt<S;k=lt+=1)I=s[u++],C=(k-k%o)/o,T=E&&U[(E-1)*S+C*o+k%o],U[M++]=(T+I)%256;break;case 3:for(k=nt=0;nt<S;k=nt+=1)I=s[u++],C=(k-k%o)/o,H=k<o?0:U[M-o],T=E&&U[(E-1)*S+C*o+k%o],U[M++]=(I+Math.floor((H+T)/2))%256;break;case 4:for(k=At=0;At<S;k=At+=1)I=s[u++],C=(k-k%o)/o,H=k<o?0:U[M-o],E===0?T=et=0:(T=U[(E-1)*S+C*o+k%o],et=C&&U[(E-1)*S+(C-1)*o+k%o]),_t=H+T-et,Pt=Math.abs(_t-H),b=Math.abs(_t-T),x=Math.abs(_t-et),O=Pt<=b&&Pt<=x?H:b<=x?T:et,U[M++]=(I+O)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!R){var W=((_+E*P)*h.width+g)*o,J=E*S;for(k=0;k<st;k+=1){for(var it=0;it<o;it+=1)a[W++]=U[J++];W+=(m-1)*o}}E++}}return s=JS(s),h.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,u,h,d,g,_,m;for(a=this.palette,d=this.transparency.indexed||[],h=new Uint8Array((d.length||0)+a.length),u=0,s=0,o=g=0,_=a.length;g<_;o=g+=3)h[u++]=a[o],h[u++]=a[o+1],h[u++]=a[o+2],h[u++]=(m=d[s++])!=null?m:255;return h},r.prototype.copyToImageData=function(s,o){var a,u,h,d,g,_,m,P,I,M,C;if(u=this.colors,I=null,a=this.hasAlphaChannel,this.palette.length&&(I=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),u=4,a=!0),P=(h=s.data||s).length,g=I||o,d=_=0,u===1)for(;d<P;)m=I?4*o[d/4]:_,M=g[m++],h[d++]=M,h[d++]=M,h[d++]=M,h[d++]=a?g[m++]:255,_=m;else for(;d<P;)m=I?4*o[d/4]:_,h[d++]=g[m++],h[d++]=g[m++],h[d++]=g[m++],h[d++]=a?g[m++]:255,_=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ce)==="[object Window]"){try{t=ce.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,u,h,d,g,_,m;if(this.animation){for(m=[],a=d=0,g=(_=this.animation.frames).length;d<g;a=++d)o=_[a],u=s.createImageData(o.width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,h),o.imageData=u,m.push(o.image=e(u));return m}},r.prototype.renderFrame=function(s,o){var a,u,h;return a=(u=this.animation.frames)[o],h=u[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,u,h,d,g,_=this;return a=0,g=this.animation,h=g.numFrames,u=g.frames,d=g.numPlays,(o=function(){var m,P;if(m=a++%h,P=u[m],_.renderFrame(s,m),h>1&&a/h<d)return _.animation._timeout=setTimeout(o,P.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function bx(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,u=null;s&&(a=t,u=o,t+=3*o);var h=!0,d=[],g=0,_=null,m=0,P=null;for(this.width=n,this.height=r;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,P=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var I=e[t++];g=e[t++]|e[t++]<<8,_=e[t++],(1&I)==0&&(_=null),m=I>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var M=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,H=e[t++]|e[t++]<<8,tt=e[t++],_t=tt>>6&1,Pt=1<<(7&tt)+1,O=a,b=u,x=!1;tt>>7&&(x=!0,O=t,b=Pt,t+=3*Pt);var U=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}d.push({x:M,y:C,width:k,height:H,has_local_palette:x,palette_offset:O,palette_size:b,data_offset:U,data_length:t-U,transparent_index:_,interlaced:!!_t,delay:g,disposal:m});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return P},this.frameInfo=function(S){if(S<0||S>=d.length)throw new Error("Frame index out of range.");return d[S]},this.decodeAndBlitFrameBGRA=function(S,T){var et=this.frameInfo(S),pt=et.width*et.height,Q=new Uint8Array(pt);o2(e,et.data_offset,Q,pt);var lt=et.palette_offset,nt=et.transparent_index;nt===null&&(nt=256);var At=et.width,st=n-At,$t=At,R=4*(et.y*n+et.x),W=4*((et.y+et.height)*n+et.x),J=R,it=4*st;et.interlaced===!0&&(it+=4*n*7);for(var ht=8,G=0,ot=Q.length;G<ot;++G){var X=Q[G];if($t===0&&($t=At,(J+=it)>=W&&(it=4*st+4*n*(ht-1),J=R+(At+st)*(ht<<1),ht>>=1)),X===nt)J+=4;else{var It=e[lt+3*X],Rt=e[lt+3*X+1],$=e[lt+3*X+2];T[J++]=$,T[J++]=Rt,T[J++]=It,T[J++]=255}--$t}},this.decodeAndBlitFrameRGBA=function(S,T){var et=this.frameInfo(S),pt=et.width*et.height,Q=new Uint8Array(pt);o2(e,et.data_offset,Q,pt);var lt=et.palette_offset,nt=et.transparent_index;nt===null&&(nt=256);var At=et.width,st=n-At,$t=At,R=4*(et.y*n+et.x),W=4*((et.y+et.height)*n+et.x),J=R,it=4*st;et.interlaced===!0&&(it+=4*n*7);for(var ht=8,G=0,ot=Q.length;G<ot;++G){var X=Q[G];if($t===0&&($t=At,(J+=it)>=W&&(it=4*st+4*n*(ht-1),J=R+(At+st)*(ht<<1),ht>>=1)),X===nt)J+=4;else{var It=e[lt+3*X],Rt=e[lt+3*X+1],$=e[lt+3*X+2];T[J++]=It,T[J++]=Rt,T[J++]=$,T[J++]=255}--$t}}}function o2(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,u=i+1,h=(1<<u)-1,d=0,g=0,_=0,m=e[t++],P=new Int32Array(4096),I=null;;){for(;d<16&&m!==0;)g|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<u)break;var M=g&h;if(g>>=u,d-=u,M!==s){if(M===o)break;for(var C=M<a?M:I,k=0,H=C;H>s;)H=P[H]>>8,++k;var tt=H;if(_+k+(C!==M?1:0)>r)return void tn.log("Warning, gif stream longer than expected.");n[_++]=tt;var _t=_+=k;for(C!==M&&(n[_++]=tt),H=C;k--;)H=P[H],n[--_t]=255&H,H>>=8;I!==null&&a<4096&&(P[a++]=I<<8|tt,a>=h+1&&u<12&&(++u,h=h<<1|1)),I=M}else a=o+1,h=(1<<(u=i+1))-1,I=null}return _!==r&&tn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ad(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),u=new Array(64),h=new Array(64),d=new Array(64),g=new Array(65535),_=new Array(65535),m=new Array(64),P=new Array(64),I=[],M=0,C=7,k=new Array(64),H=new Array(64),tt=new Array(64),_t=new Array(256),Pt=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],b=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],et=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(R,W){for(var J=0,it=0,ht=new Array,G=1;G<=16;G++){for(var ot=1;ot<=R[G];ot++)ht[W[it]]=[],ht[W[it]][0]=J,ht[W[it]][1]=G,it++,J++;J*=2}return ht}function lt(R){for(var W=R[0],J=R[1]-1;J>=0;)W&1<<J&&(M|=1<<C),J--,--C<0&&(M==255?(nt(255),nt(0)):nt(M),C=7,M=0)}function nt(R){I.push(R)}function At(R){nt(R>>8&255),nt(255&R)}function st(R,W,J,it,ht){for(var G,ot=ht[0],X=ht[240],It=function(mt,wt){var bt,Dt,kt,Ut,Ht,Wt,Yt,re,ee,se,Gt=0;for(ee=0;ee<8;++ee){bt=mt[Gt],Dt=mt[Gt+1],kt=mt[Gt+2],Ut=mt[Gt+3],Ht=mt[Gt+4],Wt=mt[Gt+5],Yt=mt[Gt+6];var Re=bt+(re=mt[Gt+7]),Ae=bt-re,Hn=Dt+Yt,pe=Dt-Yt,Se=kt+Wt,yr=kt-Wt,Pe=Ut+Ht,Ci=Ut-Ht,ln=Re+Pe,Wn=Re-Pe,jr=Hn+Se,nn=Hn-Se;mt[Gt]=ln+jr,mt[Gt+4]=ln-jr;var oe=.707106781*(nn+Wn);mt[Gt+2]=Wn+oe,mt[Gt+6]=Wn-oe;var ke=.382683433*((ln=Ci+yr)-(nn=pe+Ae)),ei=.5411961*ln+ke,Nn=1.306562965*nn+ke,er=.707106781*(jr=yr+pe),Br=Ae+er,te=Ae-er;mt[Gt+5]=te+ei,mt[Gt+3]=te-ei,mt[Gt+1]=Br+Nn,mt[Gt+7]=Br-Nn,Gt+=8}for(Gt=0,ee=0;ee<8;++ee){bt=mt[Gt],Dt=mt[Gt+8],kt=mt[Gt+16],Ut=mt[Gt+24],Ht=mt[Gt+32],Wt=mt[Gt+40],Yt=mt[Gt+48];var Pr=bt+(re=mt[Gt+56]),nr=bt-re,Ln=Dt+Yt,_n=Dt-Yt,gn=kt+Wt,Cn=kt-Wt,Bs=Ut+Ht,fi=Ut-Ht,rr=Pr+Bs,Nr=Pr-Bs,_r=Ln+gn,br=Ln-gn;mt[Gt]=rr+_r,mt[Gt+32]=rr-_r;var bn=.707106781*(br+Nr);mt[Gt+16]=Nr+bn,mt[Gt+48]=Nr-bn;var qr=.382683433*((rr=fi+Cn)-(br=_n+nr)),Ri=.5411961*rr+qr,ki=1.306562965*br+qr,Di=.707106781*(_r=Cn+_n),as=nr+Di,ls=nr-Di;mt[Gt+40]=ls+Ri,mt[Gt+24]=ls-Ri,mt[Gt+8]=as+ki,mt[Gt+56]=as-ki,Gt++}for(ee=0;ee<64;++ee)se=mt[ee]*wt[ee],m[ee]=se>0?se+.5|0:se-.5|0;return m}(R,W),Rt=0;Rt<64;++Rt)P[O[Rt]]=It[Rt];var $=P[0]-J;J=P[0],$==0?lt(it[0]):(lt(it[_[G=32767+$]]),lt(g[G]));for(var z=63;z>0&&P[z]==0;)z--;if(z==0)return lt(ot),J;for(var rt,Z=1;Z<=z;){for(var j=Z;P[Z]==0&&Z<=z;)++Z;var Tt=Z-j;if(Tt>=16){rt=Tt>>4;for(var Nt=1;Nt<=rt;++Nt)lt(X);Tt&=15}G=32767+P[Z],lt(ht[(Tt<<4)+_[G]]),lt(g[G]),Z++}return z!=63&&lt(ot),J}function $t(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(W){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],it=0;it<64;it++){var ht=o((J[it]*W+50)/100);ht=Math.min(Math.max(ht,1),255),a[O[it]]=ht}for(var G=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ot=0;ot<64;ot++){var X=o((G[ot]*W+50)/100);X=Math.min(Math.max(X,1),255),u[O[ot]]=X}for(var It=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Rt=0,$=0;$<8;$++)for(var z=0;z<8;z++)h[Rt]=1/(a[O[Rt]]*It[$]*It[z]*8),d[Rt]=1/(u[O[Rt]]*It[$]*It[z]*8),Rt++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,W){W&&$t(W),I=new Array,M=0,C=7,At(65496),At(65504),At(16),nt(74),nt(70),nt(73),nt(70),nt(0),nt(1),nt(1),nt(0),At(1),At(1),nt(0),nt(0),function(){At(65499),At(132),nt(0);for(var Dt=0;Dt<64;Dt++)nt(a[Dt]);nt(1);for(var kt=0;kt<64;kt++)nt(u[kt])}(),function(Dt,kt){At(65472),At(17),nt(8),At(kt),At(Dt),nt(3),nt(1),nt(17),nt(0),nt(2),nt(17),nt(1),nt(3),nt(17),nt(1)}(R.width,R.height),function(){At(65476),At(418),nt(0);for(var Dt=0;Dt<16;Dt++)nt(b[Dt+1]);for(var kt=0;kt<=11;kt++)nt(x[kt]);nt(16);for(var Ut=0;Ut<16;Ut++)nt(U[Ut+1]);for(var Ht=0;Ht<=161;Ht++)nt(E[Ht]);nt(1);for(var Wt=0;Wt<16;Wt++)nt(S[Wt+1]);for(var Yt=0;Yt<=11;Yt++)nt(T[Yt]);nt(17);for(var re=0;re<16;re++)nt(et[re+1]);for(var ee=0;ee<=161;ee++)nt(pt[ee])}(),At(65498),At(12),nt(3),nt(1),nt(0),nt(2),nt(17),nt(3),nt(17),nt(0),nt(63),nt(0);var J=0,it=0,ht=0;M=0,C=7,this.encode.displayName="_encode_";for(var G,ot,X,It,Rt,$,z,rt,Z,j=R.data,Tt=R.width,Nt=R.height,mt=4*Tt,wt=0;wt<Nt;){for(G=0;G<mt;){for(Rt=mt*wt+G,z=-1,rt=0,Z=0;Z<64;Z++)$=Rt+(rt=Z>>3)*mt+(z=4*(7&Z)),wt+rt>=Nt&&($-=mt*(wt+1+rt-Nt)),G+z>=mt&&($-=G+z-mt+4),ot=j[$++],X=j[$++],It=j[$++],k[Z]=(Pt[ot]+Pt[X+256>>0]+Pt[It+512>>0]>>16)-128,H[Z]=(Pt[ot+768>>0]+Pt[X+1024>>0]+Pt[It+1280>>0]>>16)-128,tt[Z]=(Pt[ot+1280>>0]+Pt[X+1536>>0]+Pt[It+1792>>0]>>16)-128;J=st(k,h,J,t,r),it=st(H,d,it,n,i),ht=st(tt,d,ht,n,i),G+=32}wt+=8}if(C>=0){var bt=[];bt[1]=C+1,bt[0]=(1<<C+1)-1,lt(bt)}return At(65497),new Uint8Array(I)},e=e||50,function(){for(var R=String.fromCharCode,W=0;W<256;W++)_t[W]=R(W)}(),t=Q(b,x),n=Q(S,T),r=Q(U,E),i=Q(et,pt),function(){for(var R=1,W=2,J=1;J<=15;J++){for(var it=R;it<W;it++)_[32767+it]=J,g[32767+it]=[],g[32767+it][1]=J,g[32767+it][0]=it;for(var ht=-(W-1);ht<=-R;ht++)_[32767+ht]=J,g[32767+ht]=[],g[32767+ht][1]=J,g[32767+ht][0]=W-1+ht;R<<=1,W<<=1}}(),function(){for(var R=0;R<256;R++)Pt[R]=19595*R,Pt[R+256>>0]=38470*R,Pt[R+512>>0]=7471*R+32768,Pt[R+768>>0]=-11059*R,Pt[R+1024>>0]=-21709*R,Pt[R+1280>>0]=32768*R+8421375,Pt[R+1536>>0]=-27439*R,Pt[R+1792>>0]=-5329*R}(),$t(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Si(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function a2(e){function t(b){if(!b)throw Error("assert :P")}function n(b,x,U){for(var E=0;4>E;E++)if(b[x+E]!=U.charCodeAt(E))return!0;return!1}function r(b,x,U,E,S){for(var T=0;T<S;T++)b[x+T]=U[E+T]}function i(b,x,U,E){for(var S=0;S<E;S++)b[x+S]=U}function s(b){return new Int32Array(b)}function o(b,x){for(var U=[],E=0;E<b;E++)U.push(new x);return U}function a(b,x){var U=[];return function E(S,T,et){for(var pt=et[T],Q=0;Q<pt&&(S.push(et.length>T+1?[]:new x),!(et.length<T+1));Q++)E(S[Q],T+1,et)}(U,0,b),U}var u=function(){var b=this;function x(l,f){for(var v=1<<f-1>>>0;l&v;)v>>>=1;return v?(l&v-1)+v:l}function U(l,f,v,w,L){t(!(w%v));do l[f+(w-=v)]=L;while(0<w)}function E(l,f,v,w,L){if(t(2328>=L),512>=L)var D=s(512);else if((D=s(L))==null)return 0;return function(F,B,q,K,ut,Et){var St,yt,Mt=B,Lt=1<<q,ct=s(16),dt=s(16);for(t(ut!=0),t(K!=null),t(F!=null),t(0<q),yt=0;yt<ut;++yt){if(15<K[yt])return 0;++ct[K[yt]]}if(ct[0]==ut)return 0;for(dt[1]=0,St=1;15>St;++St){if(ct[St]>1<<St)return 0;dt[St+1]=dt[St]+ct[St]}for(yt=0;yt<ut;++yt)St=K[yt],0<K[yt]&&(Et[dt[St]++]=yt);if(dt[15]==1)return(K=new S).g=0,K.value=Et[0],U(F,Mt,1,Lt,K),Lt;var Ot,jt=-1,Ft=Lt-1,Xt=0,Kt=1,ae=1,Jt=1<<q;for(yt=0,St=1,ut=2;St<=q;++St,ut<<=1){if(Kt+=ae<<=1,0>(ae-=ct[St]))return 0;for(;0<ct[St];--ct[St])(K=new S).g=St,K.value=Et[yt++],U(F,Mt+Xt,ut,Jt,K),Xt=x(Xt,St)}for(St=q+1,ut=2;15>=St;++St,ut<<=1){if(Kt+=ae<<=1,0>(ae-=ct[St]))return 0;for(;0<ct[St];--ct[St]){if(K=new S,(Xt&Ft)!=jt){for(Mt+=Jt,Ot=1<<(jt=St)-q;15>jt&&!(0>=(Ot-=ct[jt]));)++jt,Ot<<=1;Lt+=Jt=1<<(Ot=jt-q),F[B+(jt=Xt&Ft)].g=Ot+q,F[B+jt].value=Mt-B-jt}K.g=St-q,K.value=Et[yt++],U(F,Mt+(Xt>>q),ut,Jt,K),Xt=x(Xt,St)}}return Kt!=2*dt[15]-1?0:Lt}(l,f,v,w,L,D)}function S(){this.value=this.g=0}function T(){this.value=this.g=0}function et(){this.G=o(5,S),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Qn,T)}function pt(l,f,v,w){t(l!=null),t(f!=null),t(2147483648>w),l.Ca=254,l.I=0,l.b=-8,l.Ka=0,l.oa=f,l.pa=v,l.Jd=f,l.Yc=v+w,l.Zc=4<=w?v+w-4+1:v,G(l)}function Q(l,f){for(var v=0;0<f--;)v|=X(l,128)<<f;return v}function lt(l,f){var v=Q(l,f);return ot(l)?-v:v}function nt(l,f,v,w){var L,D=0;for(t(l!=null),t(f!=null),t(4294967288>w),l.Sb=w,l.Ra=0,l.u=0,l.h=0,4<w&&(w=4),L=0;L<w;++L)D+=f[v+L]<<8*L;l.Ra=D,l.bb=w,l.oa=f,l.pa=v}function At(l){for(;8<=l.u&&l.bb<l.Sb;)l.Ra>>>=8,l.Ra+=l.oa[l.pa+l.bb]<<qa-8>>>0,++l.bb,l.u-=8;J(l)&&(l.h=1,l.u=0)}function st(l,f){if(t(0<=f),!l.h&&f<=Ba){var v=W(l)&ja[f];return l.u+=f,At(l),v}return l.h=1,l.u=0}function $t(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(l){return l.Ra>>>(l.u&qa-1)>>>0}function J(l){return t(l.bb<=l.Sb),l.h||l.bb==l.Sb&&l.u>qa}function it(l,f){l.u=f,l.h=J(l)}function ht(l){l.u>=Yl&&(t(l.u>=Yl),At(l))}function G(l){t(l!=null&&l.oa!=null),l.pa<l.Zc?(l.I=(l.oa[l.pa++]|l.I<<8)>>>0,l.b+=8):(t(l!=null&&l.oa!=null),l.pa<l.Yc?(l.b+=8,l.I=l.oa[l.pa++]|l.I<<8):l.Ka?l.b=0:(l.I<<=8,l.b+=8,l.Ka=1))}function ot(l){return Q(l,1)}function X(l,f){var v=l.Ca;0>l.b&&G(l);var w=l.b,L=v*f>>>8,D=(l.I>>>w>L)+0;for(D?(v-=L,l.I-=L+1<<w>>>0):v=L+1,w=v,L=0;256<=w;)L+=8,w>>=8;return w=7^L+Cr[w],l.b-=w,l.Ca=(v<<w)-1,D}function It(l,f,v){l[f+0]=v>>24&255,l[f+1]=v>>16&255,l[f+2]=v>>8&255,l[f+3]=v>>0&255}function Rt(l,f){return l[f+0]<<0|l[f+1]<<8}function $(l,f){return Rt(l,f)|l[f+2]<<16}function z(l,f){return Rt(l,f)|Rt(l,f+2)<<16}function rt(l,f){var v=1<<f;return t(l!=null),t(0<f),l.X=s(v),l.X==null?0:(l.Mb=32-f,l.Xa=f,1)}function Z(l,f){t(l!=null),t(f!=null),t(l.Xa==f.Xa),r(f.X,0,l.X,0,1<<f.Xa)}function j(){this.X=[],this.Xa=this.Mb=0}function Tt(l,f,v,w){t(v!=null),t(w!=null);var L=v[0],D=w[0];return L==0&&(L=(l*D+f/2)/f),D==0&&(D=(f*L+l/2)/l),0>=L||0>=D?0:(v[0]=L,w[0]=D,1)}function Nt(l,f){return l+(1<<f)-1>>>f}function mt(l,f){return((4278255360&l)+(4278255360&f)>>>0&4278255360)+((16711935&l)+(16711935&f)>>>0&16711935)>>>0}function wt(l,f){b[f]=function(v,w,L,D,F,B,q){var K;for(K=0;K<F;++K){var ut=b[l](B[q+K-1],L,D+K);B[q+K]=mt(v[w+K],ut)}}}function bt(){this.ud=this.hd=this.jd=0}function Dt(l,f){return((4278124286&(l^f))>>>1)+(l&f)>>>0}function kt(l){return 0<=l&&256>l?l:0>l?0:255<l?255:void 0}function Ut(l,f){return kt(l+(l-f+.5>>1))}function Ht(l,f,v){return Math.abs(f-v)-Math.abs(l-v)}function Wt(l,f,v,w,L,D,F){for(w=D[F-1],v=0;v<L;++v)D[F+v]=w=mt(l[f+v],w)}function Yt(l,f,v,w,L){var D;for(D=0;D<v;++D){var F=l[f+D],B=F>>8&255,q=16711935&(q=(q=16711935&F)+((B<<16)+B));w[L+D]=(4278255360&F)+q>>>0}}function re(l,f){f.jd=l>>0&255,f.hd=l>>8&255,f.ud=l>>16&255}function ee(l,f,v,w,L,D){var F;for(F=0;F<w;++F){var B=f[v+F],q=B>>>8,K=B,ut=255&(ut=(ut=B>>>16)+((l.jd<<24>>24)*(q<<24>>24)>>>5));K=255&(K=(K=K+((l.hd<<24>>24)*(q<<24>>24)>>>5))+((l.ud<<24>>24)*(ut<<24>>24)>>>5)),L[D+F]=(4278255360&B)+(ut<<16)+K}}function se(l,f,v,w,L){b[f]=function(D,F,B,q,K,ut,Et,St,yt){for(q=Et;q<St;++q)for(Et=0;Et<yt;++Et)K[ut++]=L(B[w(D[F++])])},b[l]=function(D,F,B,q,K,ut,Et){var St=8>>D.b,yt=D.Ea,Mt=D.K[0],Lt=D.w;if(8>St)for(D=(1<<D.b)-1,Lt=(1<<St)-1;F<B;++F){var ct,dt=0;for(ct=0;ct<yt;++ct)ct&D||(dt=w(q[K++])),ut[Et++]=L(Mt[dt&Lt]),dt>>=St}else b["VP8LMapColor"+v](q,K,Mt,Lt,ut,Et,F,B,yt)}}function Gt(l,f,v,w,L){for(v=f+v;f<v;){var D=l[f++];w[L++]=D>>16&255,w[L++]=D>>8&255,w[L++]=D>>0&255}}function Re(l,f,v,w,L){for(v=f+v;f<v;){var D=l[f++];w[L++]=D>>16&255,w[L++]=D>>8&255,w[L++]=D>>0&255,w[L++]=D>>24&255}}function Ae(l,f,v,w,L){for(v=f+v;f<v;){var D=(F=l[f++])>>16&240|F>>12&15,F=F>>0&240|F>>28&15;w[L++]=D,w[L++]=F}}function Hn(l,f,v,w,L){for(v=f+v;f<v;){var D=(F=l[f++])>>16&248|F>>13&7,F=F>>5&224|F>>3&31;w[L++]=D,w[L++]=F}}function pe(l,f,v,w,L){for(v=f+v;f<v;){var D=l[f++];w[L++]=D>>0&255,w[L++]=D>>8&255,w[L++]=D>>16&255}}function Se(l,f,v,w,L,D){if(D==0)for(v=f+v;f<v;)It(w,((D=l[f++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),L+=32;else r(w,L,l,f,v)}function yr(l,f){b[f][0]=b[l+"0"],b[f][1]=b[l+"1"],b[f][2]=b[l+"2"],b[f][3]=b[l+"3"],b[f][4]=b[l+"4"],b[f][5]=b[l+"5"],b[f][6]=b[l+"6"],b[f][7]=b[l+"7"],b[f][8]=b[l+"8"],b[f][9]=b[l+"9"],b[f][10]=b[l+"10"],b[f][11]=b[l+"11"],b[f][12]=b[l+"12"],b[f][13]=b[l+"13"],b[f][14]=b[l+"0"],b[f][15]=b[l+"0"]}function Pe(l){return l==gf||l==mf||l==fc||l==vf}function Ci(){this.eb=[],this.size=this.A=this.fb=0}function ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ci,this.f.kb=new ln,this.sd=null}function jr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function oe(l){return alert("todo:WebPSamplerProcessPlane"),l.T}function ke(l,f){var v=l.T,w=f.ba.f.RGBA,L=w.eb,D=w.fb+l.ka*w.A,F=li[f.ba.S],B=l.y,q=l.O,K=l.f,ut=l.N,Et=l.ea,St=l.W,yt=f.cc,Mt=f.dc,Lt=f.Mc,ct=f.Nc,dt=l.ka,Ot=l.ka+l.T,jt=l.U,Ft=jt+1>>1;for(dt==0?F(B,q,null,null,K,ut,Et,St,K,ut,Et,St,L,D,null,null,jt):(F(f.ec,f.fc,B,q,yt,Mt,Lt,ct,K,ut,Et,St,L,D-w.A,L,D,jt),++v);dt+2<Ot;dt+=2)yt=K,Mt=ut,Lt=Et,ct=St,ut+=l.Rc,St+=l.Rc,D+=2*w.A,F(B,(q+=2*l.fa)-l.fa,B,q,yt,Mt,Lt,ct,K,ut,Et,St,L,D-w.A,L,D,jt);return q+=l.fa,l.j+Ot<l.o?(r(f.ec,f.fc,B,q,jt),r(f.cc,f.dc,K,ut,Ft),r(f.Mc,f.Nc,Et,St,Ft),v--):1&Ot||F(B,q,null,null,K,ut,Et,St,K,ut,Et,St,L,D+w.A,null,null,jt),v}function ei(l,f,v){var w=l.F,L=[l.J];if(w!=null){var D=l.U,F=f.ba.S,B=F==hc||F==fc;f=f.ba.f.RGBA;var q=[0],K=l.ka;q[0]=l.T,l.Kb&&(K==0?--q[0]:(--K,L[0]-=l.width),l.j+l.ka+l.T==l.o&&(q[0]=l.o-l.j-K));var ut=f.eb;K=f.fb+K*f.A,l=sn(w,L[0],l.width,D,q,ut,K+(B?0:3),f.A),t(v==q),l&&Pe(F)&&oi(ut,K,B,D,q,f.A)}return 0}function Nn(l){var f=l.ma,v=f.ba.S,w=11>v,L=v==uc||v==cc||v==hc||v==pf||v==12||Pe(v);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Kl(f.Oa,l,L?11:12))return 0;if(L&&Pe(v)&&Bt(),l.da)alert("todo:use_scaling");else{if(w){if(f.Ib=oe,l.Kb){if(v=l.U+1>>1,f.memory=s(l.U+2*v),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+l.U,f.Mc=f.cc,f.Nc=f.dc+v,f.Ib=ke,Bt()}}else alert("todo:EmitYUV");L&&(f.Jb=ei,w&&vt())}if(w&&!_1){for(l=0;256>l;++l)sy[l]=89858*(l-128)+pc>>dc,ly[l]=-22014*(l-128)+pc,ay[l]=-45773*(l-128),oy[l]=113618*(l-128)+pc>>dc;for(l=ru;l<bf;++l)f=76283*(l-16)+pc>>dc,uy[l-ru]=Be(f,255),cy[l-ru]=Be(f+8>>4,15);_1=1}return 1}function er(l){var f=l.ma,v=l.U,w=l.T;return t(!(1&l.ka)),0>=v||0>=w?0:(v=f.Ib(l,f),f.Jb!=null&&f.Jb(l,f,v),f.Dc+=v,1)}function Br(l){l.ma.memory=null}function te(l,f,v,w){return st(l,8)!=47?0:(f[0]=st(l,14)+1,v[0]=st(l,14)+1,w[0]=st(l,1),st(l,3)!=0?0:!l.h)}function Pr(l,f){if(4>l)return l+1;var v=l-2>>1;return(2+(1&l)<<v)+st(f,v)+1}function nr(l,f){return 120<f?f-120:1<=(v=((v=Hv[f-1])>>4)*l+(8-(15&v)))?v:1;var v}function Ln(l,f,v){var w=W(v),L=l[f+=255&w].g-8;return 0<L&&(it(v,v.u+8),w=W(v),f+=l[f].value,f+=w&(1<<L)-1),it(v,v.u+l[f].g),l[f].value}function _n(l,f,v){return v.g+=l.g,v.value+=l.value<<f>>>0,t(8>=v.g),l.g}function gn(l,f,v){var w=l.xc;return t((f=w==0?0:l.vc[l.md*(v>>w)+(f>>w)])<l.Wb),l.Ya[f]}function Cn(l,f,v,w){var L=l.ab,D=l.c*f,F=l.C;f=F+f;var B=v,q=w;for(w=l.Ta,v=l.Ua;0<L--;){var K=l.gc[L],ut=F,Et=f,St=B,yt=q,Mt=(q=w,B=v,K.Ea);switch(t(ut<Et),t(Et<=K.nc),K.hc){case 2:nc(St,yt,(Et-ut)*Mt,q,B);break;case 0:var Lt=ut,ct=Et,dt=q,Ot=B,jt=(Jt=K).Ea;Lt==0&&(ff(St,yt,null,null,1,dt,Ot),Wt(St,yt+1,0,0,jt-1,dt,Ot+1),yt+=jt,Ot+=jt,++Lt);for(var Ft=1<<Jt.b,Xt=Ft-1,Kt=Nt(jt,Jt.b),ae=Jt.K,Jt=Jt.w+(Lt>>Jt.b)*Kt;Lt<ct;){var Fe=ae,Ge=Jt,De=1;for(Jl(St,yt,dt,Ot-jt,1,dt,Ot);De<jt;){var Ie=(De&~Xt)+Ft;Ie>jt&&(Ie=jt),(0,io[Fe[Ge++]>>8&15])(St,yt+ +De,dt,Ot+De-jt,Ie-De,dt,Ot+De),De=Ie}yt+=jt,Ot+=jt,++Lt&Xt||(Jt+=Kt)}Et!=K.nc&&r(q,B-Mt,q,B+(Et-ut-1)*Mt,Mt);break;case 1:for(Mt=St,ct=yt,jt=(St=K.Ea)-(Ot=St&~(dt=(yt=1<<K.b)-1)),Lt=Nt(St,K.b),Ft=K.K,K=K.w+(ut>>K.b)*Lt;ut<Et;){for(Xt=Ft,Kt=K,ae=new bt,Jt=ct+Ot,Fe=ct+St;ct<Jt;)re(Xt[Kt++],ae),ra(ae,Mt,ct,yt,q,B),ct+=yt,B+=yt;ct<Fe&&(re(Xt[Kt++],ae),ra(ae,Mt,ct,jt,q,B),ct+=jt,B+=jt),++ut&dt||(K+=Lt)}break;case 3:if(St==q&&yt==B&&0<K.b){for(ct=q,St=Mt=B+(Et-ut)*Mt-(Ot=(Et-ut)*Nt(K.Ea,K.b)),yt=q,dt=B,Lt=[],Ot=(jt=Ot)-1;0<=Ot;--Ot)Lt[Ot]=yt[dt+Ot];for(Ot=jt-1;0<=Ot;--Ot)ct[St+Ot]=Lt[Ot];ri(K,ut,Et,q,Mt,q,B)}else ri(K,ut,Et,St,yt,q,B)}B=w,q=v}q!=v&&r(w,v,B,q,D)}function Bs(l,f){var v=l.V,w=l.Ba+l.c*l.C,L=f-l.C;if(t(f<=l.l.o),t(16>=L),0<L){var D=l.l,F=l.Ta,B=l.Ua,q=D.width;if(Cn(l,L,v,w),L=B=[B],t((v=l.C)<(w=f)),t(D.v<D.va),w>D.o&&(w=D.o),v<D.j){var K=D.j-v;v=D.j,L[0]+=K*q}if(v>=w?v=0:(L[0]+=4*D.v,D.ka=v-D.j,D.U=D.va-D.v,D.T=w-v,v=1),v){if(B=B[0],11>(v=l.ca).S){var ut=v.f.RGBA,Et=(w=v.S,L=D.U,D=D.T,K=ut.eb,ut.A),St=D;for(ut=ut.fb+l.Ma*ut.A;0<St--;){var yt=F,Mt=B,Lt=L,ct=K,dt=ut;switch(w){case lc:Rr(yt,Mt,Lt,ct,dt);break;case uc:Ar(yt,Mt,Lt,ct,dt);break;case gf:Ar(yt,Mt,Lt,ct,dt),oi(ct,dt,0,Lt,1,0);break;case c1:_s(yt,Mt,Lt,ct,dt);break;case cc:Se(yt,Mt,Lt,ct,dt,1);break;case mf:Se(yt,Mt,Lt,ct,dt,1),oi(ct,dt,0,Lt,1,0);break;case hc:Se(yt,Mt,Lt,ct,dt,0);break;case fc:Se(yt,Mt,Lt,ct,dt,0),oi(ct,dt,1,Lt,1,0);break;case pf:so(yt,Mt,Lt,ct,dt);break;case vf:so(yt,Mt,Lt,ct,dt),rn(ct,dt,Lt,1,0);break;case h1:ys(yt,Mt,Lt,ct,dt);break;default:t(0)}B+=q,ut+=Et}l.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");t(l.Ma<=v.height)}}l.C=f,t(l.C<=l.i)}function fi(l){var f;if(0<l.ua)return 0;for(f=0;f<l.Wb;++f){var v=l.Ya[f].G,w=l.Ya[f].H;if(0<v[1][w[1]+0].g||0<v[2][w[2]+0].g||0<v[3][w[3]+0].g)return 0}return 1}function rr(l,f,v,w,L,D){if(l.Z!=0){var F=l.qd,B=l.rd;for(t(uo[l.Z]!=null);f<v;++f)uo[l.Z](F,B,w,L,w,L,D),F=w,B=L,L+=D;l.qd=F,l.rd=B}}function Nr(l,f){var v=l.l.ma,w=v.Z==0||v.Z==1?l.l.j:l.C;if(w=l.C<w?w:l.C,t(f<=l.l.o),f>w){var L=l.l.width,D=v.ca,F=v.tb+L*w,B=l.V,q=l.Ba+l.c*w,K=l.gc;t(l.ab==1),t(K[0].hc==3),rc(K[0],w,f,B,q,D,F),rr(v,w,f,D,F,L)}l.C=l.Ma=f}function _r(l,f,v,w,L,D,F){var B=l.$/w,q=l.$%w,K=l.m,ut=l.s,Et=v+l.$,St=Et;L=v+w*L;var yt=v+w*D,Mt=280+ut.ua,Lt=l.Pb?B:16777216,ct=0<ut.ua?ut.Wa:null,dt=ut.wc,Ot=Et<yt?gn(ut,q,B):null;t(l.C<D),t(yt<=L);var jt=!1;t:for(;;){for(;jt||Et<yt;){var Ft=0;if(B>=Lt){var Xt=Et-v;t((Lt=l).Pb),Lt.wd=Lt.m,Lt.xd=Xt,0<Lt.s.ua&&Z(Lt.s.Wa,Lt.s.vb),Lt=B+Gv}if(q&dt||(Ot=gn(ut,q,B)),t(Ot!=null),Ot.Qb&&(f[Et]=Ot.qb,jt=!0),!jt)if(ht(K),Ot.jc){Ft=K,Xt=f;var Kt=Et,ae=Ot.pd[W(Ft)&Qn-1];t(Ot.jc),256>ae.g?(it(Ft,Ft.u+ae.g),Xt[Kt]=ae.value,Ft=0):(it(Ft,Ft.u+ae.g-256),t(256<=ae.value),Ft=ae.value),Ft==0&&(jt=!0)}else Ft=Ln(Ot.G[0],Ot.H[0],K);if(K.h)break;if(jt||256>Ft){if(!jt)if(Ot.nd)f[Et]=(Ot.qb|Ft<<8)>>>0;else{if(ht(K),jt=Ln(Ot.G[1],Ot.H[1],K),ht(K),Xt=Ln(Ot.G[2],Ot.H[2],K),Kt=Ln(Ot.G[3],Ot.H[3],K),K.h)break;f[Et]=(Kt<<24|jt<<16|Ft<<8|Xt)>>>0}if(jt=!1,++Et,++q>=w&&(q=0,++B,F!=null&&B<=D&&!(B%16)&&F(l,B),ct!=null))for(;St<Et;)Ft=f[St++],ct.X[(506832829*Ft&4294967295)>>>ct.Mb]=Ft}else if(280>Ft){if(Ft=Pr(Ft-256,K),Xt=Ln(Ot.G[4],Ot.H[4],K),ht(K),Xt=nr(w,Xt=Pr(Xt,K)),K.h)break;if(Et-v<Xt||L-Et<Ft)break t;for(Kt=0;Kt<Ft;++Kt)f[Et+Kt]=f[Et+Kt-Xt];for(Et+=Ft,q+=Ft;q>=w;)q-=w,++B,F!=null&&B<=D&&!(B%16)&&F(l,B);if(t(Et<=L),q&dt&&(Ot=gn(ut,q,B)),ct!=null)for(;St<Et;)Ft=f[St++],ct.X[(506832829*Ft&4294967295)>>>ct.Mb]=Ft}else{if(!(Ft<Mt))break t;for(jt=Ft-280,t(ct!=null);St<Et;)Ft=f[St++],ct.X[(506832829*Ft&4294967295)>>>ct.Mb]=Ft;Ft=Et,t(!(jt>>>(Xt=ct).Xa)),f[Ft]=Xt.X[jt],jt=!0}jt||t(K.h==J(K))}if(l.Pb&&K.h&&Et<L)t(l.m.h),l.a=5,l.m=l.wd,l.$=l.xd,0<l.s.ua&&Z(l.s.vb,l.s.Wa);else{if(K.h)break t;F!=null&&F(l,B>D?D:B),l.a=0,l.$=Et-v}return 1}return l.a=3,0}function br(l){t(l!=null),l.vc=null,l.yc=null,l.Ya=null;var f=l.Wa;f!=null&&(f.X=null),l.vb=null,t(l!=null)}function bn(){var l=new Ma;return l==null?null:(l.a=0,l.xb=p1,yr("Predictor","VP8LPredictors"),yr("Predictor","VP8LPredictors_C"),yr("PredictorAdd","VP8LPredictorsAdd"),yr("PredictorAdd","VP8LPredictorsAdd_C"),nc=Yt,ra=ee,Rr=Gt,Ar=Re,so=Ae,ys=Hn,_s=pe,b.VP8LMapColor32b=Ua,b.VP8LMapColor8b=ic,l)}function qr(l,f,v,w,L){var D=1,F=[l],B=[f],q=w.m,K=w.s,ut=null,Et=0;t:for(;;){if(v)for(;D&&st(q,1);){var St=F,yt=B,Mt=w,Lt=1,ct=Mt.m,dt=Mt.gc[Mt.ab],Ot=st(ct,2);if(Mt.Oc&1<<Ot)D=0;else{switch(Mt.Oc|=1<<Ot,dt.hc=Ot,dt.Ea=St[0],dt.nc=yt[0],dt.K=[null],++Mt.ab,t(4>=Mt.ab),Ot){case 0:case 1:dt.b=st(ct,3)+2,Lt=qr(Nt(dt.Ea,dt.b),Nt(dt.nc,dt.b),0,Mt,dt.K),dt.K=dt.K[0];break;case 3:var jt,Ft=st(ct,8)+1,Xt=16<Ft?0:4<Ft?1:2<Ft?2:3;if(St[0]=Nt(dt.Ea,Xt),dt.b=Xt,jt=Lt=qr(Ft,1,0,Mt,dt.K)){var Kt,ae=Ft,Jt=dt,Fe=1<<(8>>Jt.b),Ge=s(Fe);if(Ge==null)jt=0;else{var De=Jt.K[0],Ie=Jt.w;for(Ge[0]=Jt.K[0][0],Kt=1;Kt<1*ae;++Kt)Ge[Kt]=mt(De[Ie+Kt],Ge[Kt-1]);for(;Kt<4*Fe;++Kt)Ge[Kt]=0;Jt.K[0]=null,Jt.K[0]=Ge,jt=1}}Lt=jt;break;case 2:break;default:t(0)}D=Lt}}if(F=F[0],B=B[0],D&&st(q,1)&&!(D=1<=(Et=st(q,4))&&11>=Et)){w.a=3;break t}var Ze;if(Ze=D)e:{var Ye,we,Rn,kr=w,kn=F,Dr=B,Ke=Et,Wr=v,Gr=kr.m,qn=kr.s,Yn=[null],Sr=1,ui=0,$i=Wv[Ke];n:for(;;){if(Wr&&st(Gr,1)){var Un=st(Gr,3)+2,Es=Nt(kn,Un),la=Nt(Dr,Un),Ga=Es*la;if(!qr(Es,la,0,kr,Yn))break n;for(Yn=Yn[0],qn.xc=Un,Ye=0;Ye<Ga;++Ye){var co=Yn[Ye]>>8&65535;Yn[Ye]=co,co>=Sr&&(Sr=co+1)}}if(Gr.h)break n;for(we=0;5>we;++we){var vn=f1[we];!we&&0<Ke&&(vn+=1<<Ke),ui<vn&&(ui=vn)}var wf=o(Sr*$i,S),A1=Sr,E1=o(A1,et);if(E1==null)var mc=null;else t(65536>=A1),mc=E1;var iu=s(ui);if(mc==null||iu==null||wf==null){kr.a=1;break n}var vc=wf;for(Ye=Rn=0;Ye<Sr;++Ye){var Ai=mc[Ye],Ka=Ai.G,Qa=Ai.H,S1=0,yc=1,x1=0;for(we=0;5>we;++we){vn=f1[we],Ka[we]=vc,Qa[we]=Rn,!we&&0<Ke&&(vn+=1<<Ke);i:{var _c,Af=vn,bc=kr,su=iu,dy=vc,py=Rn,Ef=0,ho=bc.m,gy=st(ho,1);if(i(su,0,0,Af),gy){var my=st(ho,1)+1,vy=st(ho,1),I1=st(ho,vy==0?1:8);su[I1]=1,my==2&&(su[I1=st(ho,8)]=1);var wc=1}else{var T1=s(19),P1=st(ho,4)+4;if(19<P1){bc.a=3;var Ac=0;break i}for(_c=0;_c<P1;++_c)T1[$v[_c]]=st(ho,3);var Sf=void 0,ou=void 0,N1=bc,yy=T1,Ec=Af,L1=su,xf=0,fo=N1.m,C1=8,R1=o(128,S);r:for(;E(R1,0,7,yy,19);){if(st(fo,1)){var _y=2+2*st(fo,3);if((Sf=2+st(fo,_y))>Ec)break r}else Sf=Ec;for(ou=0;ou<Ec&&Sf--;){ht(fo);var k1=R1[0+(127&W(fo))];it(fo,fo.u+k1.g);var Ya=k1.value;if(16>Ya)L1[ou++]=Ya,Ya!=0&&(C1=Ya);else{var by=Ya==16,D1=Ya-16,wy=Uv[D1],O1=st(fo,qv[D1])+wy;if(ou+O1>Ec)break r;for(var Ay=by?C1:0;0<O1--;)L1[ou++]=Ay}}xf=1;break r}xf||(N1.a=3),wc=xf}(wc=wc&&!ho.h)&&(Ef=E(dy,py,8,su,Af)),wc&&Ef!=0?Ac=Ef:(bc.a=3,Ac=0)}if(Ac==0)break n;if(yc&&zv[we]==1&&(yc=vc[Rn].g==0),S1+=vc[Rn].g,Rn+=Ac,3>=we){var au,If=iu[0];for(au=1;au<vn;++au)iu[au]>If&&(If=iu[au]);x1+=If}}if(Ai.nd=yc,Ai.Qb=0,yc&&(Ai.qb=(Ka[3][Qa[3]+0].value<<24|Ka[1][Qa[1]+0].value<<16|Ka[2][Qa[2]+0].value)>>>0,S1==0&&256>Ka[0][Qa[0]+0].value&&(Ai.Qb=1,Ai.qb+=Ka[0][Qa[0]+0].value<<8)),Ai.jc=!Ai.Qb&&6>x1,Ai.jc){var Sc,Ss=Ai;for(Sc=0;Sc<Qn;++Sc){var po=Sc,go=Ss.pd[po],xc=Ss.G[0][Ss.H[0]+po];256<=xc.value?(go.g=xc.g+256,go.value=xc.value):(go.g=0,go.value=0,po>>=_n(xc,8,go),po>>=_n(Ss.G[1][Ss.H[1]+po],16,go),po>>=_n(Ss.G[2][Ss.H[2]+po],0,go),_n(Ss.G[3][Ss.H[3]+po],24,go))}}}qn.vc=Yn,qn.Wb=Sr,qn.Ya=mc,qn.yc=wf,Ze=1;break e}Ze=0}if(!(D=Ze)){w.a=3;break t}if(0<Et){if(K.ua=1<<Et,!rt(K.Wa,Et)){w.a=1,D=0;break t}}else K.ua=0;var Tf=w,F1=F,Ey=B,Pf=Tf.s,Nf=Pf.xc;if(Tf.c=F1,Tf.i=Ey,Pf.md=Nt(F1,Nf),Pf.wc=Nf==0?-1:(1<<Nf)-1,v){w.xb=ty;break t}if((ut=s(F*B))==null){w.a=1,D=0;break t}D=(D=_r(w,ut,0,F,B,B,null))&&!q.h;break t}return D?(L!=null?L[0]=ut:(t(ut==null),t(v)),w.$=0,v||br(K)):br(K),D}function Ri(l,f){var v=l.c*l.i,w=v+f+16*f;return t(l.c<=f),l.V=s(w),l.V==null?(l.Ta=null,l.Ua=0,l.a=1,0):(l.Ta=l.V,l.Ua=l.Ba+v+f,1)}function ki(l,f){var v=l.C,w=f-v,L=l.V,D=l.Ba+l.c*v;for(t(f<=l.l.o);0<w;){var F=16<w?16:w,B=l.l.ma,q=l.l.width,K=q*F,ut=B.ca,Et=B.tb+q*v,St=l.Ta,yt=l.Ua;Cn(l,F,L,D),An(St,yt,ut,Et,K),rr(B,v,v+F,ut,Et,q),w-=F,L+=F*l.c,v+=F}t(v==f),l.C=l.Ma=f}function Di(){this.ub=this.yd=this.td=this.Rb=0}function as(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ls(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ta(){this.Yb=function(){var l=[];return function f(v,w,L){for(var D=L[w],F=0;F<D&&(v.push(L.length>w+1?[]:0),!(L.length<w+1));F++)f(v[F],w+1,L)}(l,0,[3,11]),l}()}function qs(){this.jb=s(3),this.Wc=a([4,8],Ta),this.Xc=a([4,17],Ta)}function Pa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Oi(){this.ld=this.La=this.dd=this.tc=0}function Fi(){this.Na=this.la=0}function di(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function us(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $l(){this.uc=this.M=this.Nb=0,this.wa=Array(new Oi),this.Y=0,this.ya=Array(new us),this.aa=0,this.l=new cs}function zo(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Na(){this.cb=this.a=0,this.sc="",this.m=new $t,this.Od=new Di,this.Kc=new as,this.ed=new Pa,this.Qa=new ls,this.Ic=this.$c=this.Aa=0,this.D=new $l,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,$t),this.ia=0,this.pb=o(4,di),this.Pa=new qs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zo),this.Hd=0,this.rb=Array(new Fi),this.sb=0,this.wa=Array(new Oi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new us),this.L=this.aa=0,this.gd=a([4,2],Oi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $o(){var l=new Na;return l!=null&&(l.a=0,l.sc="OK",l.cb=0,l.Xb=0,nu||(nu=La)),l}function un(l,f,v){return l.a==0&&(l.a=f,l.sc=v,l.cb=0),0}function Ho(l,f,v){return 3<=v&&l[f+0]==157&&l[f+1]==1&&l[f+2]==42}function Wo(l,f){if(l==null)return 0;if(l.a=0,l.sc="OK",f==null)return un(l,2,"null VP8Io passed to VP8GetHeaders()");var v=f.data,w=f.w,L=f.ha;if(4>L)return un(l,7,"Truncated header.");var D=v[w+0]|v[w+1]<<8|v[w+2]<<16,F=l.Od;if(F.Rb=!(1&D),F.td=D>>1&7,F.yd=D>>4&1,F.ub=D>>5,3<F.td)return un(l,3,"Incorrect keyframe parameters.");if(!F.yd)return un(l,4,"Frame not displayable.");w+=3,L-=3;var B=l.Kc;if(F.Rb){if(7>L)return un(l,7,"cannot parse picture header");if(!Ho(v,w,L))return un(l,3,"Bad code word");B.c=16383&(v[w+4]<<8|v[w+3]),B.Td=v[w+4]>>6,B.i=16383&(v[w+6]<<8|v[w+5]),B.Ud=v[w+6]>>6,w+=7,L-=7,l.za=B.c+15>>4,l.Ub=B.i+15>>4,f.width=B.c,f.height=B.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((D=l.Pa).jb,0,255,D.jb.length),t((D=l.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(F.ub>L)return un(l,7,"bad partition length");pt(D=l.m,v,w,F.ub),w+=F.ub,L-=F.ub,F.Rb&&(B.Ld=ot(D),B.Kd=ot(D)),B=l.Qa;var q,K=l.Pa;if(t(D!=null),t(B!=null),B.Cb=ot(D),B.Cb){if(B.Bb=ot(D),ot(D)){for(B.Fb=ot(D),q=0;4>q;++q)B.Zb[q]=ot(D)?lt(D,7):0;for(q=0;4>q;++q)B.Lb[q]=ot(D)?lt(D,6):0}if(B.Bb)for(q=0;3>q;++q)K.jb[q]=ot(D)?Q(D,8):255}else B.Bb=0;if(D.Ka)return un(l,3,"cannot parse segment header");if((B=l.ed).zd=ot(D),B.Tb=Q(D,6),B.wb=Q(D,3),B.Pc=ot(D),B.Pc&&ot(D)){for(K=0;4>K;++K)ot(D)&&(B.vd[K]=lt(D,6));for(K=0;4>K;++K)ot(D)&&(B.od[K]=lt(D,6))}if(l.L=B.Tb==0?0:B.zd?1:2,D.Ka)return un(l,3,"cannot parse filter header");var ut=L;if(L=q=w,w=q+ut,B=ut,l.Xb=(1<<Q(l.m,2))-1,ut<3*(K=l.Xb))v=7;else{for(q+=3*K,B-=3*K,ut=0;ut<K;++ut){var Et=v[L+0]|v[L+1]<<8|v[L+2]<<16;Et>B&&(Et=B),pt(l.Jc[+ut],v,q,Et),q+=Et,B-=Et,L+=3}pt(l.Jc[+K],v,q,B),v=q<w?0:5}if(v!=0)return un(l,v,"cannot parse partitions");for(v=Q(q=l.m,7),L=ot(q)?lt(q,4):0,w=ot(q)?lt(q,4):0,B=ot(q)?lt(q,4):0,K=ot(q)?lt(q,4):0,q=ot(q)?lt(q,4):0,ut=l.Qa,Et=0;4>Et;++Et){if(ut.Cb){var St=ut.Zb[Et];ut.Fb||(St+=v)}else{if(0<Et){l.pb[Et]=l.pb[0];continue}St=v}var yt=l.pb[Et];yt.Sc[0]=yf[Be(St+L,127)],yt.Sc[1]=_f[Be(St+0,127)],yt.Eb[0]=2*yf[Be(St+w,127)],yt.Eb[1]=101581*_f[Be(St+B,127)]>>16,8>yt.Eb[1]&&(yt.Eb[1]=8),yt.Qc[0]=yf[Be(St+K,117)],yt.Qc[1]=_f[Be(St+q,127)],yt.lc=St+q}if(!F.Rb)return un(l,4,"Not a key frame.");for(ot(D),F=l.Pa,v=0;4>v;++v){for(L=0;8>L;++L)for(w=0;3>w;++w)for(B=0;11>B;++B)K=X(D,Xv[v][L][w][B])?Q(D,8):Yv[v][L][w][B],F.Wc[v][L].Yb[w][B]=K;for(L=0;17>L;++L)F.Xc[v][L]=F.Wc[v][Zv[L]]}return l.kc=ot(D),l.kc&&(l.Bd=Q(D,8)),l.cb=1}function La(l,f,v,w,L,D,F){var B=f[L].Yb[v];for(v=0;16>L;++L){if(!X(l,B[v+0]))return L;for(;!X(l,B[v+1]);)if(B=f[++L].Yb[0],v=0,L==16)return 16;var q=f[L+1].Yb;if(X(l,B[v+2])){var K=l,ut=0;if(X(K,(St=B)[(Et=v)+3]))if(X(K,St[Et+6])){for(B=0,Et=2*(ut=X(K,St[Et+8]))+(St=X(K,St[Et+9+ut])),ut=0,St=Kv[Et];St[B];++B)ut+=ut+X(K,St[B]);ut+=3+(8<<Et)}else X(K,St[Et+7])?(ut=7+2*X(K,165),ut+=X(K,145)):ut=5+X(K,159);else ut=X(K,St[Et+4])?3+X(K,St[Et+5]):2;B=q[2]}else ut=1,B=q[1];q=F+Qv[L],0>(K=l).b&&G(K);var Et,St=K.b,yt=(Et=K.Ca>>1)-(K.I>>St)>>31;--K.b,K.Ca+=yt,K.Ca|=1,K.I-=(Et+1&yt)<<St,D[q]=((ut^yt)-yt)*w[(0<L)+0]}return 16}function Go(l){var f=l.rb[l.sb-1];f.la=0,f.Na=0,i(l.zc,0,0,l.zc.length),l.ja=0}function Ca(l,f){if(l==null)return 0;if(f==null)return un(l,2,"NULL VP8Io parameter in VP8Decode().");if(!l.cb&&!Wo(l,f))return 0;if(t(l.cb),f.ac==null||f.ac(f)){f.ob&&(l.L=0);var v=gc[l.L];if(l.L==2?(l.yb=0,l.zb=0):(l.yb=f.v-v>>4,l.zb=f.j-v>>4,0>l.yb&&(l.yb=0),0>l.zb&&(l.zb=0)),l.Va=f.o+15+v>>4,l.Hb=f.va+15+v>>4,l.Hb>l.za&&(l.Hb=l.za),l.Va>l.Ub&&(l.Va=l.Ub),0<l.L){var w=l.ed;for(v=0;4>v;++v){var L;if(l.Qa.Cb){var D=l.Qa.Lb[v];l.Qa.Fb||(D+=w.Tb)}else D=w.Tb;for(L=0;1>=L;++L){var F=l.gd[v][L],B=D;if(w.Pc&&(B+=w.vd[0],L&&(B+=w.od[0])),0<(B=0>B?0:63<B?63:B)){var q=B;0<w.wb&&(q=4<w.wb?q>>2:q>>1)>9-w.wb&&(q=9-w.wb),1>q&&(q=1),F.dd=q,F.tc=2*B+q,F.ld=40<=B?2:15<=B?1:0}else F.tc=0;F.La=L}}}v=0}else un(l,6,"Frame setup failed"),v=l.a;if(v=v==0){if(v){l.$c=0,0<l.Aa||(l.Ic=fy);t:{v=l.Ic,w=4*(q=l.za);var K=32*q,ut=q+1,Et=0<l.L?q*(0<l.Aa?2:1):0,St=(l.Aa==2?2:1)*q;if((F=w+832+(L=3*(16*v+gc[l.L])/2*K)+(D=l.Fa!=null&&0<l.Fa.length?l.Kc.c*l.Kc.i:0))!=F)v=0;else{if(F>l.Vb){if(l.Vb=0,l.Ec=s(F),l.Fc=0,l.Ec==null){v=un(l,1,"no memory during frame initialization.");break t}l.Vb=F}F=l.Ec,B=l.Fc,l.Ac=F,l.Bc=B,B+=w,l.Gd=o(K,zo),l.Hd=0,l.rb=o(ut+1,Fi),l.sb=1,l.wa=Et?o(Et,Oi):null,l.Y=0,l.D.Nb=0,l.D.wa=l.wa,l.D.Y=l.Y,0<l.Aa&&(l.D.Y+=q),t(!0),l.oc=F,l.pc=B,B+=832,l.ya=o(St,us),l.aa=0,l.D.ya=l.ya,l.D.aa=l.aa,l.Aa==2&&(l.D.aa+=q),l.R=16*q,l.B=8*q,q=(K=gc[l.L])*l.R,K=K/2*l.B,l.sa=F,l.ta=B+q,l.qa=l.sa,l.ra=l.ta+16*v*l.R+K,l.Ha=l.qa,l.Ia=l.ra+8*v*l.B+K,l.$c=0,B+=L,l.mb=D?F:null,l.nb=D?B:null,t(B+D<=l.Fc+l.Vb),Go(l),i(l.Ac,l.Bc,0,w),v=1}}if(v){if(f.ka=0,f.y=l.sa,f.O=l.ta,f.f=l.qa,f.N=l.ra,f.ea=l.Ha,f.Vd=l.Ia,f.fa=l.R,f.Rc=l.B,f.F=null,f.J=0,!oc){for(v=-255;255>=v;++v)Fn[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)ws[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)eu[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)Wa[255+v]=0>v?0:255<v?255:v;oc=1}za=ds,bs=zs,Xl=Ko,Er=We,ii=fs,wn=hs,$a=Ys,sc=yi,Zl=Xs,ia=na,sa=Js,oo=gs,oa=Zs,Ha=Bi,aa=ps,ao=$r,tu=On,si=Fa,wi[0]=ni,wi[1]=Hl,wi[2]=Vi,wi[3]=Gl,wi[4]=Da,wi[5]=Ws,wi[6]=Ur,wi[7]=Yo,wi[8]=Ks,wi[9]=Gs,lo[0]=Mi,lo[1]=Wl,lo[2]=gi,lo[3]=$s,lo[4]=cn,lo[5]=ka,lo[6]=Qo,As[0]=vi,As[1]=Ra,As[2]=Oa,As[3]=mi,As[4]=je,As[5]=Jo,As[6]=Xo,v=1}else v=0}v&&(v=function(yt,Mt){for(yt.M=0;yt.M<yt.Va;++yt.M){var Lt,ct=yt.Jc[yt.M&yt.Xb],dt=yt.m,Ot=yt;for(Lt=0;Lt<Ot.za;++Lt){var jt=dt,Ft=Ot,Xt=Ft.Ac,Kt=Ft.Bc+4*Lt,ae=Ft.zc,Jt=Ft.ya[Ft.aa+Lt];if(Ft.Qa.Bb?Jt.$b=X(jt,Ft.Pa.jb[0])?2+X(jt,Ft.Pa.jb[2]):X(jt,Ft.Pa.jb[1]):Jt.$b=0,Ft.kc&&(Jt.Ad=X(jt,Ft.Bd)),Jt.Za=!X(jt,145)+0,Jt.Za){var Fe=Jt.Ob,Ge=0;for(Ft=0;4>Ft;++Ft){var De,Ie=ae[0+Ft];for(De=0;4>De;++De){Ie=Jv[Xt[Kt+De]][Ie];for(var Ze=d1[X(jt,Ie[0])];0<Ze;)Ze=d1[2*Ze+X(jt,Ie[Ze])];Ie=-Ze,Xt[Kt+De]=Ie}r(Fe,Ge,Xt,Kt,4),Ge+=4,ae[0+Ft]=Ie}}else Ie=X(jt,156)?X(jt,128)?1:3:X(jt,163)?2:0,Jt.Ob[0]=Ie,i(Xt,Kt,Ie,4),i(ae,0,Ie,4);Jt.Dd=X(jt,142)?X(jt,114)?X(jt,183)?1:3:2:0}if(Ot.m.Ka)return un(yt,7,"Premature end-of-partition0 encountered.");for(;yt.ja<yt.za;++yt.ja){if(Ot=ct,jt=(dt=yt).rb[dt.sb-1],Xt=dt.rb[dt.sb+dt.ja],Lt=dt.ya[dt.aa+dt.ja],Kt=dt.kc?Lt.Ad:0)jt.la=Xt.la=0,Lt.Za||(jt.Na=Xt.Na=0),Lt.Hc=0,Lt.Gc=0,Lt.ia=0;else{var Ye,we;if(jt=Xt,Xt=Ot,Kt=dt.Pa.Xc,ae=dt.ya[dt.aa+dt.ja],Jt=dt.pb[ae.$b],Ft=ae.ad,Fe=0,Ge=dt.rb[dt.sb-1],Ie=De=0,i(Ft,Fe,0,384),ae.Za)var Rn=0,kr=Kt[3];else{Ze=s(16);var kn=jt.Na+Ge.Na;if(kn=nu(Xt,Kt[1],kn,Jt.Eb,0,Ze,0),jt.Na=Ge.Na=(0<kn)+0,1<kn)za(Ze,0,Ft,Fe);else{var Dr=Ze[0]+3>>3;for(Ze=0;256>Ze;Ze+=16)Ft[Fe+Ze]=Dr}Rn=1,kr=Kt[0]}var Ke=15&jt.la,Wr=15&Ge.la;for(Ze=0;4>Ze;++Ze){var Gr=1&Wr;for(Dr=we=0;4>Dr;++Dr)Ke=Ke>>1|(Gr=(kn=nu(Xt,kr,kn=Gr+(1&Ke),Jt.Sc,Rn,Ft,Fe))>Rn)<<7,we=we<<2|(3<kn?3:1<kn?2:Ft[Fe+0]!=0),Fe+=16;Ke>>=4,Wr=Wr>>1|Gr<<7,De=(De<<8|we)>>>0}for(kr=Ke,Rn=Wr>>4,Ye=0;4>Ye;Ye+=2){for(we=0,Ke=jt.la>>4+Ye,Wr=Ge.la>>4+Ye,Ze=0;2>Ze;++Ze){for(Gr=1&Wr,Dr=0;2>Dr;++Dr)kn=Gr+(1&Ke),Ke=Ke>>1|(Gr=0<(kn=nu(Xt,Kt[2],kn,Jt.Qc,0,Ft,Fe)))<<3,we=we<<2|(3<kn?3:1<kn?2:Ft[Fe+0]!=0),Fe+=16;Ke>>=2,Wr=Wr>>1|Gr<<5}Ie|=we<<4*Ye,kr|=Ke<<4<<Ye,Rn|=(240&Wr)<<Ye}jt.la=kr,Ge.la=Rn,ae.Hc=De,ae.Gc=Ie,ae.ia=43690&Ie?0:Jt.ia,Kt=!(De|Ie)}if(0<dt.L&&(dt.wa[dt.Y+dt.ja]=dt.gd[Lt.$b][Lt.Za],dt.wa[dt.Y+dt.ja].La|=!Kt),Ot.Ka)return un(yt,7,"Premature end-of-file encountered.")}if(Go(yt),dt=Mt,Ot=1,Lt=(ct=yt).D,jt=0<ct.L&&ct.M>=ct.zb&&ct.M<=ct.Va,ct.Aa==0)t:{if(Lt.M=ct.M,Lt.uc=jt,Ui(ct,Lt),Ot=1,Lt=(we=ct.D).Nb,jt=(Ie=gc[ct.L])*ct.R,Xt=Ie/2*ct.B,Ze=16*Lt*ct.R,Dr=8*Lt*ct.B,Kt=ct.sa,ae=ct.ta-jt+Ze,Jt=ct.qa,Ft=ct.ra-Xt+Dr,Fe=ct.Ha,Ge=ct.Ia-Xt+Dr,Wr=(Ke=we.M)==0,De=Ke>=ct.Va-1,ct.Aa==2&&Ui(ct,we),we.uc)for(Gr=(kn=ct).D.M,t(kn.D.uc),we=kn.yb;we<kn.Hb;++we){Rn=we,kr=Gr;var qn=(Yn=(vn=kn).D).Nb;Ye=vn.R;var Yn=Yn.wa[Yn.Y+Rn],Sr=vn.sa,ui=vn.ta+16*qn*Ye+16*Rn,$i=Yn.dd,Un=Yn.tc;if(Un!=0)if(t(3<=Un),vn.L==1)0<Rn&&ao(Sr,ui,Ye,Un+4),Yn.La&&si(Sr,ui,Ye,Un),0<kr&&aa(Sr,ui,Ye,Un+4),Yn.La&&tu(Sr,ui,Ye,Un);else{var Es=vn.B,la=vn.qa,Ga=vn.ra+8*qn*Es+8*Rn,co=vn.Ha,vn=vn.Ia+8*qn*Es+8*Rn;qn=Yn.ld,0<Rn&&(sc(Sr,ui,Ye,Un+4,$i,qn),ia(la,Ga,co,vn,Es,Un+4,$i,qn)),Yn.La&&(oo(Sr,ui,Ye,Un,$i,qn),Ha(la,Ga,co,vn,Es,Un,$i,qn)),0<kr&&($a(Sr,ui,Ye,Un+4,$i,qn),Zl(la,Ga,co,vn,Es,Un+4,$i,qn)),Yn.La&&(sa(Sr,ui,Ye,Un,$i,qn),oa(la,Ga,co,vn,Es,Un,$i,qn))}}if(ct.ia&&alert("todo:DitherRow"),dt.put!=null){if(we=16*Ke,Ke=16*(Ke+1),Wr?(dt.y=ct.sa,dt.O=ct.ta+Ze,dt.f=ct.qa,dt.N=ct.ra+Dr,dt.ea=ct.Ha,dt.W=ct.Ia+Dr):(we-=Ie,dt.y=Kt,dt.O=ae,dt.f=Jt,dt.N=Ft,dt.ea=Fe,dt.W=Ge),De||(Ke-=Ie),Ke>dt.o&&(Ke=dt.o),dt.F=null,dt.J=null,ct.Fa!=null&&0<ct.Fa.length&&we<Ke&&(dt.J=ro(ct,dt,we,Ke-we),dt.F=ct.mb,dt.F==null&&dt.F.length==0)){Ot=un(ct,3,"Could not decode alpha data.");break t}we<dt.j&&(Ie=dt.j-we,we=dt.j,t(!(1&Ie)),dt.O+=ct.R*Ie,dt.N+=ct.B*(Ie>>1),dt.W+=ct.B*(Ie>>1),dt.F!=null&&(dt.J+=dt.width*Ie)),we<Ke&&(dt.O+=dt.v,dt.N+=dt.v>>1,dt.W+=dt.v>>1,dt.F!=null&&(dt.J+=dt.v),dt.ka=we-dt.j,dt.U=dt.va-dt.v,dt.T=Ke-we,Ot=dt.put(dt))}Lt+1!=ct.Ic||De||(r(ct.sa,ct.ta-jt,Kt,ae+16*ct.R,jt),r(ct.qa,ct.ra-Xt,Jt,Ft+8*ct.B,Xt),r(ct.Ha,ct.Ia-Xt,Fe,Ge+8*ct.B,Xt))}if(!Ot)return un(yt,6,"Output aborted.")}return 1}(l,f)),f.bc!=null&&f.bc(f),v&=1}return v?(l.cb=0,v):0}function Lr(l,f,v,w,L){L=l[f+v+32*w]+(L>>3),l[f+v+32*w]=-256&L?0>L?0:255:L}function Us(l,f,v,w,L,D){Lr(l,f,0,v,w+L),Lr(l,f,1,v,w+D),Lr(l,f,2,v,w-D),Lr(l,f,3,v,w-L)}function mn(l){return(20091*l>>16)+l}function wr(l,f,v,w){var L,D=0,F=s(16);for(L=0;4>L;++L){var B=l[f+0]+l[f+8],q=l[f+0]-l[f+8],K=(35468*l[f+4]>>16)-mn(l[f+12]),ut=mn(l[f+4])+(35468*l[f+12]>>16);F[D+0]=B+ut,F[D+1]=q+K,F[D+2]=q-K,F[D+3]=B-ut,D+=4,f++}for(L=D=0;4>L;++L)B=(l=F[D+0]+4)+F[D+8],q=l-F[D+8],K=(35468*F[D+4]>>16)-mn(F[D+12]),Lr(v,w,0,0,B+(ut=mn(F[D+4])+(35468*F[D+12]>>16))),Lr(v,w,1,0,q+K),Lr(v,w,2,0,q-K),Lr(v,w,3,0,B-ut),D++,w+=32}function hs(l,f,v,w){var L=l[f+0]+4,D=35468*l[f+4]>>16,F=mn(l[f+4]),B=35468*l[f+1]>>16;Us(v,w,0,L+F,l=mn(l[f+1]),B),Us(v,w,1,L+D,l,B),Us(v,w,2,L-D,l,B),Us(v,w,3,L-F,l,B)}function zs(l,f,v,w,L){wr(l,f,v,w),L&&wr(l,f+16,v,w+4)}function Ko(l,f,v,w){bs(l,f+0,v,w,1),bs(l,f+32,v,w+128,1)}function We(l,f,v,w){var L;for(l=l[f+0]+4,L=0;4>L;++L)for(f=0;4>f;++f)Lr(v,w,f,L,l)}function fs(l,f,v,w){l[f+0]&&Er(l,f+0,v,w),l[f+16]&&Er(l,f+16,v,w+4),l[f+32]&&Er(l,f+32,v,w+128),l[f+48]&&Er(l,f+48,v,w+128+4)}function ds(l,f,v,w){var L,D=s(16);for(L=0;4>L;++L){var F=l[f+0+L]+l[f+12+L],B=l[f+4+L]+l[f+8+L],q=l[f+4+L]-l[f+8+L],K=l[f+0+L]-l[f+12+L];D[0+L]=F+B,D[8+L]=F-B,D[4+L]=K+q,D[12+L]=K-q}for(L=0;4>L;++L)F=(l=D[0+4*L]+3)+D[3+4*L],B=D[1+4*L]+D[2+4*L],q=D[1+4*L]-D[2+4*L],K=l-D[3+4*L],v[w+0]=F+B>>3,v[w+16]=K+q>>3,v[w+32]=F-B>>3,v[w+48]=K-q>>3,w+=64}function pi(l,f,v){var w,L=f-32,D=Hr,F=255-l[L-1];for(w=0;w<v;++w){var B,q=D,K=F+l[f-1];for(B=0;B<v;++B)l[f+B]=q[K+l[L+B]];f+=32}}function Hl(l,f){pi(l,f,4)}function Ra(l,f){pi(l,f,8)}function Wl(l,f){pi(l,f,16)}function gi(l,f){var v;for(v=0;16>v;++v)r(l,f+32*v,l,f-32,16)}function $s(l,f){var v;for(v=16;0<v;--v)i(l,f,l[f-1],16),f+=32}function Hs(l,f,v){var w;for(w=0;16>w;++w)i(f,v+32*w,l,16)}function Mi(l,f){var v,w=16;for(v=0;16>v;++v)w+=l[f-1+32*v]+l[f+v-32];Hs(w>>5,l,f)}function cn(l,f){var v,w=8;for(v=0;16>v;++v)w+=l[f-1+32*v];Hs(w>>4,l,f)}function ka(l,f){var v,w=8;for(v=0;16>v;++v)w+=l[f+v-32];Hs(w>>4,l,f)}function Qo(l,f){Hs(128,l,f)}function fe(l,f,v){return l+2*f+v+2>>2}function Vi(l,f){var v,w=f-32;for(w=new Uint8Array([fe(l[w-1],l[w+0],l[w+1]),fe(l[w+0],l[w+1],l[w+2]),fe(l[w+1],l[w+2],l[w+3]),fe(l[w+2],l[w+3],l[w+4])]),v=0;4>v;++v)r(l,f+32*v,w,0,w.length)}function Gl(l,f){var v=l[f-1],w=l[f-1+32],L=l[f-1+64],D=l[f-1+96];It(l,f+0,16843009*fe(l[f-1-32],v,w)),It(l,f+32,16843009*fe(v,w,L)),It(l,f+64,16843009*fe(w,L,D)),It(l,f+96,16843009*fe(L,D,D))}function ni(l,f){var v,w=4;for(v=0;4>v;++v)w+=l[f+v-32]+l[f-1+32*v];for(w>>=3,v=0;4>v;++v)i(l,f+32*v,w,4)}function Da(l,f){var v=l[f-1+0],w=l[f-1+32],L=l[f-1+64],D=l[f-1-32],F=l[f+0-32],B=l[f+1-32],q=l[f+2-32],K=l[f+3-32];l[f+0+96]=fe(w,L,l[f-1+96]),l[f+1+96]=l[f+0+64]=fe(v,w,L),l[f+2+96]=l[f+1+64]=l[f+0+32]=fe(D,v,w),l[f+3+96]=l[f+2+64]=l[f+1+32]=l[f+0+0]=fe(F,D,v),l[f+3+64]=l[f+2+32]=l[f+1+0]=fe(B,F,D),l[f+3+32]=l[f+2+0]=fe(q,B,F),l[f+3+0]=fe(K,q,B)}function Ur(l,f){var v=l[f+1-32],w=l[f+2-32],L=l[f+3-32],D=l[f+4-32],F=l[f+5-32],B=l[f+6-32],q=l[f+7-32];l[f+0+0]=fe(l[f+0-32],v,w),l[f+1+0]=l[f+0+32]=fe(v,w,L),l[f+2+0]=l[f+1+32]=l[f+0+64]=fe(w,L,D),l[f+3+0]=l[f+2+32]=l[f+1+64]=l[f+0+96]=fe(L,D,F),l[f+3+32]=l[f+2+64]=l[f+1+96]=fe(D,F,B),l[f+3+64]=l[f+2+96]=fe(F,B,q),l[f+3+96]=fe(B,q,q)}function Ws(l,f){var v=l[f-1+0],w=l[f-1+32],L=l[f-1+64],D=l[f-1-32],F=l[f+0-32],B=l[f+1-32],q=l[f+2-32],K=l[f+3-32];l[f+0+0]=l[f+1+64]=D+F+1>>1,l[f+1+0]=l[f+2+64]=F+B+1>>1,l[f+2+0]=l[f+3+64]=B+q+1>>1,l[f+3+0]=q+K+1>>1,l[f+0+96]=fe(L,w,v),l[f+0+64]=fe(w,v,D),l[f+0+32]=l[f+1+96]=fe(v,D,F),l[f+1+32]=l[f+2+96]=fe(D,F,B),l[f+2+32]=l[f+3+96]=fe(F,B,q),l[f+3+32]=fe(B,q,K)}function Yo(l,f){var v=l[f+0-32],w=l[f+1-32],L=l[f+2-32],D=l[f+3-32],F=l[f+4-32],B=l[f+5-32],q=l[f+6-32],K=l[f+7-32];l[f+0+0]=v+w+1>>1,l[f+1+0]=l[f+0+64]=w+L+1>>1,l[f+2+0]=l[f+1+64]=L+D+1>>1,l[f+3+0]=l[f+2+64]=D+F+1>>1,l[f+0+32]=fe(v,w,L),l[f+1+32]=l[f+0+96]=fe(w,L,D),l[f+2+32]=l[f+1+96]=fe(L,D,F),l[f+3+32]=l[f+2+96]=fe(D,F,B),l[f+3+64]=fe(F,B,q),l[f+3+96]=fe(B,q,K)}function Gs(l,f){var v=l[f-1+0],w=l[f-1+32],L=l[f-1+64],D=l[f-1+96];l[f+0+0]=v+w+1>>1,l[f+2+0]=l[f+0+32]=w+L+1>>1,l[f+2+32]=l[f+0+64]=L+D+1>>1,l[f+1+0]=fe(v,w,L),l[f+3+0]=l[f+1+32]=fe(w,L,D),l[f+3+32]=l[f+1+64]=fe(L,D,D),l[f+3+64]=l[f+2+64]=l[f+0+96]=l[f+1+96]=l[f+2+96]=l[f+3+96]=D}function Ks(l,f){var v=l[f-1+0],w=l[f-1+32],L=l[f-1+64],D=l[f-1+96],F=l[f-1-32],B=l[f+0-32],q=l[f+1-32],K=l[f+2-32];l[f+0+0]=l[f+2+32]=v+F+1>>1,l[f+0+32]=l[f+2+64]=w+v+1>>1,l[f+0+64]=l[f+2+96]=L+w+1>>1,l[f+0+96]=D+L+1>>1,l[f+3+0]=fe(B,q,K),l[f+2+0]=fe(F,B,q),l[f+1+0]=l[f+3+32]=fe(v,F,B),l[f+1+32]=l[f+3+64]=fe(w,v,F),l[f+1+64]=l[f+3+96]=fe(L,w,v),l[f+1+96]=fe(D,L,w)}function Oa(l,f){var v;for(v=0;8>v;++v)r(l,f+32*v,l,f-32,8)}function mi(l,f){var v;for(v=0;8>v;++v)i(l,f,l[f-1],8),f+=32}function zr(l,f,v){var w;for(w=0;8>w;++w)i(f,v+32*w,l,8)}function vi(l,f){var v,w=8;for(v=0;8>v;++v)w+=l[f+v-32]+l[f-1+32*v];zr(w>>4,l,f)}function Jo(l,f){var v,w=4;for(v=0;8>v;++v)w+=l[f+v-32];zr(w>>3,l,f)}function je(l,f){var v,w=4;for(v=0;8>v;++v)w+=l[f-1+32*v];zr(w>>3,l,f)}function Xo(l,f){zr(128,l,f)}function Qs(l,f,v){var w=l[f-v],L=l[f+0],D=3*(L-w)+df[1020+l[f-2*v]-l[f+v]],F=ac[112+(D+4>>3)];l[f-v]=Hr[255+w+ac[112+(D+3>>3)]],l[f+0]=Hr[255+L-F]}function Zo(l,f,v,w){var L=l[f+0],D=l[f+v];return ai[255+l[f-2*v]-l[f-v]]>w||ai[255+D-L]>w}function ta(l,f,v,w){return 4*ai[255+l[f-v]-l[f+0]]+ai[255+l[f-2*v]-l[f+v]]<=w}function ea(l,f,v,w,L){var D=l[f-3*v],F=l[f-2*v],B=l[f-v],q=l[f+0],K=l[f+v],ut=l[f+2*v],Et=l[f+3*v];return 4*ai[255+B-q]+ai[255+F-K]>w?0:ai[255+l[f-4*v]-D]<=L&&ai[255+D-F]<=L&&ai[255+F-B]<=L&&ai[255+Et-ut]<=L&&ai[255+ut-K]<=L&&ai[255+K-q]<=L}function ps(l,f,v,w){var L=2*w+1;for(w=0;16>w;++w)ta(l,f+w,v,L)&&Qs(l,f+w,v)}function $r(l,f,v,w){var L=2*w+1;for(w=0;16>w;++w)ta(l,f+w*v,1,L)&&Qs(l,f+w*v,1)}function On(l,f,v,w){var L;for(L=3;0<L;--L)ps(l,f+=4*v,v,w)}function Fa(l,f,v,w){var L;for(L=3;0<L;--L)$r(l,f+=4,v,w)}function ji(l,f,v,w,L,D,F,B){for(D=2*D+1;0<L--;){if(ea(l,f,v,D,F))if(Zo(l,f,v,B))Qs(l,f,v);else{var q=l,K=f,ut=v,Et=q[K-2*ut],St=q[K-ut],yt=q[K+0],Mt=q[K+ut],Lt=q[K+2*ut],ct=27*(Ot=df[1020+3*(yt-St)+df[1020+Et-Mt]])+63>>7,dt=18*Ot+63>>7,Ot=9*Ot+63>>7;q[K-3*ut]=Hr[255+q[K-3*ut]+Ot],q[K-2*ut]=Hr[255+Et+dt],q[K-ut]=Hr[255+St+ct],q[K+0]=Hr[255+yt-ct],q[K+ut]=Hr[255+Mt-dt],q[K+2*ut]=Hr[255+Lt-Ot]}f+=w}}function Gn(l,f,v,w,L,D,F,B){for(D=2*D+1;0<L--;){if(ea(l,f,v,D,F))if(Zo(l,f,v,B))Qs(l,f,v);else{var q=l,K=f,ut=v,Et=q[K-ut],St=q[K+0],yt=q[K+ut],Mt=ac[112+((Lt=3*(St-Et))+4>>3)],Lt=ac[112+(Lt+3>>3)],ct=Mt+1>>1;q[K-2*ut]=Hr[255+q[K-2*ut]+ct],q[K-ut]=Hr[255+Et+Lt],q[K+0]=Hr[255+St-Mt],q[K+ut]=Hr[255+yt-ct]}f+=w}}function Ys(l,f,v,w,L,D){ji(l,f,v,1,16,w,L,D)}function yi(l,f,v,w,L,D){ji(l,f,1,v,16,w,L,D)}function Js(l,f,v,w,L,D){var F;for(F=3;0<F;--F)Gn(l,f+=4*v,v,1,16,w,L,D)}function gs(l,f,v,w,L,D){var F;for(F=3;0<F;--F)Gn(l,f+=4,1,v,16,w,L,D)}function Xs(l,f,v,w,L,D,F,B){ji(l,f,L,1,8,D,F,B),ji(v,w,L,1,8,D,F,B)}function na(l,f,v,w,L,D,F,B){ji(l,f,1,L,8,D,F,B),ji(v,w,1,L,8,D,F,B)}function Zs(l,f,v,w,L,D,F,B){Gn(l,f+4*L,L,1,8,D,F,B),Gn(v,w+4*L,L,1,8,D,F,B)}function Bi(l,f,v,w,L,D,F,B){Gn(l,f+4,1,L,8,D,F,B),Gn(v,w+4,1,L,8,D,F,B)}function ms(){this.ba=new Wn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function to(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function eo(){this.ua=0,this.Wa=new j,this.vb=new j,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new et,this.yc=new S}function Ma(){this.xb=this.a=0,this.l=new cs,this.ca=new Wn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new eo,this.ab=0,this.gc=o(4,vs),this.Oc=0}function _i(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function qi(l,f,v,w,L,D,F){for(l=l==null?0:l[f+0],f=0;f<F;++f)L[D+f]=l+v[w+f]&255,l=L[D+f]}function no(l,f,v,w,L,D,F){var B;if(l==null)qi(null,null,v,w,L,D,F);else for(B=0;B<F;++B)L[D+B]=l[f+B]+v[w+B]&255}function ir(l,f,v,w,L,D,F){if(l==null)qi(null,null,v,w,L,D,F);else{var B,q=l[f+0],K=q,ut=q;for(B=0;B<F;++B)K=ut+(q=l[f+B])-K,ut=v[w+B]+(-256&K?0>K?0:255:K)&255,K=q,L[D+B]=ut}}function ro(l,f,v,w){var L=f.width,D=f.o;if(t(l!=null&&f!=null),0>v||0>=w||v+w>D)return null;if(!l.Cc){if(l.ga==null){var F;if(l.ga=new _i,(F=l.ga==null)||(F=f.width*f.o,t(l.Gb.length==0),l.Gb=s(F),l.Uc=0,l.Gb==null?F=0:(l.mb=l.Gb,l.nb=l.Uc,l.rc=null,F=1),F=!F),!F){F=l.ga;var B=l.Fa,q=l.P,K=l.qc,ut=l.mb,Et=l.nb,St=q+1,yt=K-1,Mt=F.l;if(t(B!=null&&ut!=null&&f!=null),uo[0]=null,uo[1]=qi,uo[2]=no,uo[3]=ir,F.ca=ut,F.tb=Et,F.c=f.width,F.i=f.height,t(0<F.c&&0<F.i),1>=K)f=0;else if(F.$a=B[q+0]>>0&3,F.Z=B[q+0]>>2&3,F.Lc=B[q+0]>>4&3,q=B[q+0]>>6&3,0>F.$a||1<F.$a||4<=F.Z||1<F.Lc||q)f=0;else if(Mt.put=er,Mt.ac=Nn,Mt.bc=Br,Mt.ma=F,Mt.width=f.width,Mt.height=f.height,Mt.Da=f.Da,Mt.v=f.v,Mt.va=f.va,Mt.j=f.j,Mt.o=f.o,F.$a)t:{t(F.$a==1),f=bn();e:for(;;){if(f==null){f=0;break t}if(t(F!=null),F.mc=f,f.c=F.c,f.i=F.i,f.l=F.l,f.l.ma=F,f.l.width=F.c,f.l.height=F.i,f.a=0,nt(f.m,B,St,yt),!qr(F.c,F.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&fi(f.s)?(F.ic=1,B=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(B),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(F.ic=0,f=Ri(f,F.c)),!f))break e;f=1;break t}F.mc=null,f=0}else f=yt>=F.c*F.i;F=!f}if(F)return null;l.ga.Lc!=1?l.Ga=0:w=D-v}t(l.ga!=null),t(v+w<=D);t:{if(f=(B=l.ga).c,D=B.l.o,B.$a==0){if(St=l.rc,yt=l.Vc,Mt=l.Fa,q=l.P+1+v*f,K=l.mb,ut=l.nb+v*f,t(q<=l.P+l.qc),B.Z!=0)for(t(uo[B.Z]!=null),F=0;F<w;++F)uo[B.Z](St,yt,Mt,q,K,ut,f),St=K,yt=ut,ut+=f,q+=f;else for(F=0;F<w;++F)r(K,ut,Mt,q,f),St=K,yt=ut,ut+=f,q+=f;l.rc=St,l.Vc=yt}else{if(t(B.mc!=null),f=v+w,t((F=B.mc)!=null),t(f<=F.i),F.C>=f)f=1;else if(B.ic||vt(),B.ic){B=F.V,St=F.Ba,yt=F.c;var Lt=F.i,ct=(Mt=1,q=F.$/yt,K=F.$%yt,ut=F.m,Et=F.s,F.$),dt=yt*Lt,Ot=yt*f,jt=Et.wc,Ft=ct<Ot?gn(Et,K,q):null;t(ct<=dt),t(f<=Lt),t(fi(Et));e:for(;;){for(;!ut.h&&ct<Ot;){if(K&jt||(Ft=gn(Et,K,q)),t(Ft!=null),ht(ut),256>(Lt=Ln(Ft.G[0],Ft.H[0],ut)))B[St+ct]=Lt,++ct,++K>=yt&&(K=0,++q<=f&&!(q%16)&&Nr(F,q));else{if(!(280>Lt)){Mt=0;break e}Lt=Pr(Lt-256,ut);var Xt,Kt=Ln(Ft.G[4],Ft.H[4],ut);if(ht(ut),!(ct>=(Kt=nr(yt,Kt=Pr(Kt,ut)))&&dt-ct>=Lt)){Mt=0;break e}for(Xt=0;Xt<Lt;++Xt)B[St+ct+Xt]=B[St+ct+Xt-Kt];for(ct+=Lt,K+=Lt;K>=yt;)K-=yt,++q<=f&&!(q%16)&&Nr(F,q);ct<Ot&&K&jt&&(Ft=gn(Et,K,q))}t(ut.h==J(ut))}Nr(F,q>f?f:q);break e}!Mt||ut.h&&ct<dt?(Mt=0,F.a=ut.h?5:3):F.$=ct,f=Mt}else f=_r(F,F.V,F.Ba,F.c,F.i,f,ki);if(!f){w=0;break t}}v+w>=D&&(l.Cc=1),w=1}if(!w)return null;if(l.Cc&&((w=l.ga)!=null&&(w.mc=null),l.ga=null,0<l.Ga))return alert("todo:WebPDequantizeLevels"),null}return l.nb+v*L}function p(l,f,v,w,L,D){for(;0<L--;){var F,B=l,q=f+(v?1:0),K=l,ut=f+(v?0:3);for(F=0;F<w;++F){var Et=K[ut+4*F];Et!=255&&(Et*=32897,B[q+4*F+0]=B[q+4*F+0]*Et>>23,B[q+4*F+1]=B[q+4*F+1]*Et>>23,B[q+4*F+2]=B[q+4*F+2]*Et>>23)}f+=D}}function N(l,f,v,w,L){for(;0<w--;){var D;for(D=0;D<v;++D){var F=l[f+2*D+0],B=15&(K=l[f+2*D+1]),q=4369*B,K=(240&K|K>>4)*q>>16;l[f+2*D+0]=(240&F|F>>4)*q>>16&240|(15&F|F<<4)*q>>16>>4&15,l[f+2*D+1]=240&K|B}f+=L}}function Y(l,f,v,w,L,D,F,B){var q,K,ut=255;for(K=0;K<L;++K){for(q=0;q<w;++q){var Et=l[f+q];D[F+4*q]=Et,ut&=Et}f+=v,F+=B}return ut!=255}function at(l,f,v,w,L){var D;for(D=0;D<L;++D)v[w+D]=l[f+D]>>8}function vt(){oi=p,rn=N,sn=Y,An=at}function Ct(l,f,v){b[l]=function(w,L,D,F,B,q,K,ut,Et,St,yt,Mt,Lt,ct,dt,Ot,jt){var Ft,Xt=jt-1>>1,Kt=B[q+0]|K[ut+0]<<16,ae=Et[St+0]|yt[Mt+0]<<16;t(w!=null);var Jt=3*Kt+ae+131074>>2;for(f(w[L+0],255&Jt,Jt>>16,Lt,ct),D!=null&&(Jt=3*ae+Kt+131074>>2,f(D[F+0],255&Jt,Jt>>16,dt,Ot)),Ft=1;Ft<=Xt;++Ft){var Fe=B[q+Ft]|K[ut+Ft]<<16,Ge=Et[St+Ft]|yt[Mt+Ft]<<16,De=Kt+Fe+ae+Ge+524296,Ie=De+2*(Fe+ae)>>3;Jt=Ie+Kt>>1,Kt=(De=De+2*(Kt+Ge)>>3)+Fe>>1,f(w[L+2*Ft-1],255&Jt,Jt>>16,Lt,ct+(2*Ft-1)*v),f(w[L+2*Ft-0],255&Kt,Kt>>16,Lt,ct+(2*Ft-0)*v),D!=null&&(Jt=De+ae>>1,Kt=Ie+Ge>>1,f(D[F+2*Ft-1],255&Jt,Jt>>16,dt,Ot+(2*Ft-1)*v),f(D[F+2*Ft+0],255&Kt,Kt>>16,dt,Ot+(2*Ft+0)*v)),Kt=Fe,ae=Ge}1&jt||(Jt=3*Kt+ae+131074>>2,f(w[L+jt-1],255&Jt,Jt>>16,Lt,ct+(jt-1)*v),D!=null&&(Jt=3*ae+Kt+131074>>2,f(D[F+jt-1],255&Jt,Jt>>16,dt,Ot+(jt-1)*v)))}}function Bt(){li[lc]=ey,li[uc]=g1,li[c1]=ny,li[cc]=m1,li[hc]=v1,li[pf]=y1,li[h1]=ry,li[gf]=g1,li[mf]=m1,li[fc]=v1,li[vf]=y1}function Qt(l){return l&-16384?0>l?0:255:l>>iy}function c(l,f){return Qt((19077*l>>8)+(26149*f>>8)-14234)}function y(l,f,v){return Qt((19077*l>>8)-(6419*f>>8)-(13320*v>>8)+8708)}function A(l,f){return Qt((19077*l>>8)+(33050*f>>8)-17685)}function V(l,f,v,w,L){w[L+0]=c(l,v),w[L+1]=y(l,f,v),w[L+2]=A(l,f)}function gt(l,f,v,w,L){w[L+0]=A(l,f),w[L+1]=y(l,f,v),w[L+2]=c(l,v)}function xt(l,f,v,w,L){var D=y(l,f,v);f=D<<3&224|A(l,f)>>3,w[L+0]=248&c(l,v)|D>>5,w[L+1]=f}function qt(l,f,v,w,L){var D=240&A(l,f)|15;w[L+0]=240&c(l,v)|y(l,f,v)>>4,w[L+1]=D}function me(l,f,v,w,L){w[L+0]=255,V(l,f,v,w,L+1)}function xe(l,f,v,w,L){gt(l,f,v,w,L),w[L+3]=255}function ve(l,f,v,w,L){V(l,f,v,w,L),w[L+3]=255}function Be(l,f){return 0>l?0:l>f?f:l}function Xe(l,f,v){b[l]=function(w,L,D,F,B,q,K,ut,Et){for(var St=ut+(-2&Et)*v;ut!=St;)f(w[L+0],D[F+0],B[q+0],K,ut),f(w[L+1],D[F+0],B[q+0],K,ut+v),L+=2,++F,++q,ut+=2*v;1&Et&&f(w[L+0],D[F+0],B[q+0],K,ut)}}function bi(l,f,v){return v==0?l==0?f==0?6:5:f==0?4:0:v}function Kn(l,f,v,w,L){switch(l>>>30){case 3:bs(f,v,w,L,0);break;case 2:wn(f,v,w,L);break;case 1:Er(f,v,w,L)}}function Ui(l,f){var v,w,L=f.M,D=f.Nb,F=l.oc,B=l.pc+40,q=l.oc,K=l.pc+584,ut=l.oc,Et=l.pc+600;for(v=0;16>v;++v)F[B+32*v-1]=129;for(v=0;8>v;++v)q[K+32*v-1]=129,ut[Et+32*v-1]=129;for(0<L?F[B-1-32]=q[K-1-32]=ut[Et-1-32]=129:(i(F,B-32-1,127,21),i(q,K-32-1,127,9),i(ut,Et-32-1,127,9)),w=0;w<l.za;++w){var St=f.ya[f.aa+w];if(0<w){for(v=-1;16>v;++v)r(F,B+32*v-4,F,B+32*v+12,4);for(v=-1;8>v;++v)r(q,K+32*v-4,q,K+32*v+4,4),r(ut,Et+32*v-4,ut,Et+32*v+4,4)}var yt=l.Gd,Mt=l.Hd+w,Lt=St.ad,ct=St.Hc;if(0<L&&(r(F,B-32,yt[Mt].y,0,16),r(q,K-32,yt[Mt].f,0,8),r(ut,Et-32,yt[Mt].ea,0,8)),St.Za){var dt=F,Ot=B-32+16;for(0<L&&(w>=l.za-1?i(dt,Ot,yt[Mt].y[15],4):r(dt,Ot,yt[Mt+1].y,0,4)),v=0;4>v;v++)dt[Ot+128+v]=dt[Ot+256+v]=dt[Ot+384+v]=dt[Ot+0+v];for(v=0;16>v;++v,ct<<=2)dt=F,Ot=B+b1[v],wi[St.Ob[v]](dt,Ot),Kn(ct,Lt,16*+v,dt,Ot)}else if(dt=bi(w,L,St.Ob[0]),lo[dt](F,B),ct!=0)for(v=0;16>v;++v,ct<<=2)Kn(ct,Lt,16*+v,F,B+b1[v]);for(v=St.Gc,dt=bi(w,L,St.Dd),As[dt](q,K),As[dt](ut,Et),ct=Lt,dt=q,Ot=K,255&(St=v>>0)&&(170&St?Xl(ct,256,dt,Ot):ii(ct,256,dt,Ot)),St=ut,ct=Et,255&(v>>=8)&&(170&v?Xl(Lt,320,St,ct):ii(Lt,320,St,ct)),L<l.Ub-1&&(r(yt[Mt].y,0,F,B+480,16),r(yt[Mt].f,0,q,K+224,8),r(yt[Mt].ea,0,ut,Et+224,8)),v=8*D*l.B,yt=l.sa,Mt=l.ta+16*w+16*D*l.R,Lt=l.qa,St=l.ra+8*w+v,ct=l.Ha,dt=l.Ia+8*w+v,v=0;16>v;++v)r(yt,Mt+v*l.R,F,B+32*v,16);for(v=0;8>v;++v)r(Lt,St+v*l.B,q,K+32*v,8),r(ct,dt+v*l.B,ut,Et+32*v,8)}}function zi(l,f,v,w,L,D,F,B,q){var K=[0],ut=[0],Et=0,St=q!=null?q.kd:0,yt=q??new to;if(l==null||12>v)return 7;yt.data=l,yt.w=f,yt.ha=v,f=[f],v=[v],yt.gb=[yt.gb];t:{var Mt=f,Lt=v,ct=yt.gb;if(t(l!=null),t(Lt!=null),t(ct!=null),ct[0]=0,12<=Lt[0]&&!n(l,Mt[0],"RIFF")){if(n(l,Mt[0]+8,"WEBP")){ct=3;break t}var dt=z(l,Mt[0]+4);if(12>dt||4294967286<dt){ct=3;break t}if(St&&dt>Lt[0]-8){ct=7;break t}ct[0]=dt,Mt[0]+=12,Lt[0]-=12}ct=0}if(ct!=0)return ct;for(dt=0<yt.gb[0],v=v[0];;){t:{var Ot=l;Lt=f,ct=v;var jt=K,Ft=ut,Xt=Mt=[0];if((Jt=Et=[Et])[0]=0,8>ct[0])ct=7;else{if(!n(Ot,Lt[0],"VP8X")){if(z(Ot,Lt[0]+4)!=10){ct=3;break t}if(18>ct[0]){ct=7;break t}var Kt=z(Ot,Lt[0]+8),ae=1+$(Ot,Lt[0]+12);if(2147483648<=ae*(Ot=1+$(Ot,Lt[0]+15))){ct=3;break t}Xt!=null&&(Xt[0]=Kt),jt!=null&&(jt[0]=ae),Ft!=null&&(Ft[0]=Ot),Lt[0]+=18,ct[0]-=18,Jt[0]=1}ct=0}}if(Et=Et[0],Mt=Mt[0],ct!=0)return ct;if(Lt=!!(2&Mt),!dt&&Et)return 3;if(D!=null&&(D[0]=!!(16&Mt)),F!=null&&(F[0]=Lt),B!=null&&(B[0]=0),F=K[0],Mt=ut[0],Et&&Lt&&q==null){ct=0;break}if(4>v){ct=7;break}if(dt&&Et||!dt&&!Et&&!n(l,f[0],"ALPH")){v=[v],yt.na=[yt.na],yt.P=[yt.P],yt.Sa=[yt.Sa];t:{Kt=l,ct=f,dt=v;var Jt=yt.gb;jt=yt.na,Ft=yt.P,Xt=yt.Sa,ae=22,t(Kt!=null),t(dt!=null),Ot=ct[0];var Fe=dt[0];for(t(jt!=null),t(Xt!=null),jt[0]=null,Ft[0]=null,Xt[0]=0;;){if(ct[0]=Ot,dt[0]=Fe,8>Fe){ct=7;break t}var Ge=z(Kt,Ot+4);if(4294967286<Ge){ct=3;break t}var De=8+Ge+1&-2;if(ae+=De,0<Jt&&ae>Jt){ct=3;break t}if(!n(Kt,Ot,"VP8 ")||!n(Kt,Ot,"VP8L")){ct=0;break t}if(Fe[0]<De){ct=7;break t}n(Kt,Ot,"ALPH")||(jt[0]=Kt,Ft[0]=Ot+8,Xt[0]=Ge),Ot+=De,Fe-=De}}if(v=v[0],yt.na=yt.na[0],yt.P=yt.P[0],yt.Sa=yt.Sa[0],ct!=0)break}v=[v],yt.Ja=[yt.Ja],yt.xa=[yt.xa];t:if(Jt=l,ct=f,dt=v,jt=yt.gb[0],Ft=yt.Ja,Xt=yt.xa,Kt=ct[0],Ot=!n(Jt,Kt,"VP8 "),ae=!n(Jt,Kt,"VP8L"),t(Jt!=null),t(dt!=null),t(Ft!=null),t(Xt!=null),8>dt[0])ct=7;else{if(Ot||ae){if(Jt=z(Jt,Kt+4),12<=jt&&Jt>jt-12){ct=3;break t}if(St&&Jt>dt[0]-8){ct=7;break t}Ft[0]=Jt,ct[0]+=8,dt[0]-=8,Xt[0]=ae}else Xt[0]=5<=dt[0]&&Jt[Kt+0]==47&&!(Jt[Kt+4]>>5),Ft[0]=dt[0];ct=0}if(v=v[0],yt.Ja=yt.Ja[0],yt.xa=yt.xa[0],f=f[0],ct!=0)break;if(4294967286<yt.Ja)return 3;if(B==null||Lt||(B[0]=yt.xa?2:1),F=[F],Mt=[Mt],yt.xa){if(5>v){ct=7;break}B=F,St=Mt,Lt=D,l==null||5>v?l=0:5<=v&&l[f+0]==47&&!(l[f+4]>>5)?(dt=[0],Jt=[0],jt=[0],nt(Ft=new R,l,f,v),te(Ft,dt,Jt,jt)?(B!=null&&(B[0]=dt[0]),St!=null&&(St[0]=Jt[0]),Lt!=null&&(Lt[0]=jt[0]),l=1):l=0):l=0}else{if(10>v){ct=7;break}B=Mt,l==null||10>v||!Ho(l,f+3,v-3)?l=0:(St=l[f+0]|l[f+1]<<8|l[f+2]<<16,Lt=16383&(l[f+7]<<8|l[f+6]),l=16383&(l[f+9]<<8|l[f+8]),1&St||3<(St>>1&7)||!(St>>4&1)||St>>5>=yt.Ja||!Lt||!l?l=0:(F&&(F[0]=Lt),B&&(B[0]=l),l=1))}if(!l||(F=F[0],Mt=Mt[0],Et&&(K[0]!=F||ut[0]!=Mt)))return 3;q!=null&&(q[0]=yt,q.offset=f-q.w,t(4294967286>f-q.w),t(q.offset==q.ha-v));break}return ct==0||ct==7&&Et&&q==null?(D!=null&&(D[0]|=yt.na!=null&&0<yt.na.length),w!=null&&(w[0]=F),L!=null&&(L[0]=Mt),0):ct}function Kl(l,f,v){var w=f.width,L=f.height,D=0,F=0,B=w,q=L;if(f.Da=l!=null&&0<l.Da,f.Da&&(B=l.cd,q=l.bd,D=l.v,F=l.j,11>v||(D&=-2,F&=-2),0>D||0>F||0>=B||0>=q||D+B>w||F+q>L))return 0;if(f.v=D,f.j=F,f.va=D+B,f.o=F+q,f.U=B,f.T=q,f.da=l!=null&&0<l.da,f.da){if(!Tt(B,q,v=[l.ib],D=[l.hb]))return 0;f.ib=v[0],f.hb=D[0]}return f.ob=l!=null&&l.ob,f.Kb=l==null||!l.Sd,f.da&&(f.ob=f.ib<3*w/4&&f.hb<3*L/4,f.Kb=0),1}function Ql(l){if(l==null)return 2;if(11>l.S){var f=l.f.RGBA;f.fb+=(l.height-1)*f.A,f.A=-f.A}else f=l.f.kb,l=l.height,f.O+=(l-1)*f.fa,f.fa=-f.fa,f.N+=(l-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(l-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(l-1)*f.lb,f.lb=-f.lb);return 0}function Va(l,f,v,w){if(w==null||0>=l||0>=f)return 2;if(v!=null){if(v.Da){var L=v.cd,D=v.bd,F=-2&v.v,B=-2&v.j;if(0>F||0>B||0>=L||0>=D||F+L>l||B+D>f)return 2;l=L,f=D}if(v.da){if(!Tt(l,f,L=[v.ib],D=[v.hb]))return 2;l=L[0],f=D[0]}}w.width=l,w.height=f;t:{var q=w.width,K=w.height;if(l=w.S,0>=q||0>=K||!(l>=lc&&13>l))l=2;else{if(0>=w.Rd&&w.sd==null){F=D=L=f=0;var ut=(B=q*w1[l])*K;if(11>l||(D=(K+1)/2*(f=(q+1)/2),l==12&&(F=(L=q)*K)),(K=s(ut+2*D+F))==null){l=1;break t}w.sd=K,11>l?((q=w.f.RGBA).eb=K,q.fb=0,q.A=B,q.size=ut):((q=w.f.kb).y=K,q.O=0,q.fa=B,q.Fd=ut,q.f=K,q.N=0+ut,q.Ab=f,q.Cd=D,q.ea=K,q.W=0+ut+D,q.Db=f,q.Ed=D,l==12&&(q.F=K,q.J=0+ut+2*D),q.Tc=F,q.lb=L)}if(f=1,L=w.S,D=w.width,F=w.height,L>=lc&&13>L)if(11>L)l=w.f.RGBA,f&=(B=Math.abs(l.A))*(F-1)+D<=l.size,f&=B>=D*w1[L],f&=l.eb!=null;else{l=w.f.kb,B=(D+1)/2,ut=(F+1)/2,q=Math.abs(l.fa),K=Math.abs(l.Ab);var Et=Math.abs(l.Db),St=Math.abs(l.lb),yt=St*(F-1)+D;f&=q*(F-1)+D<=l.Fd,f&=K*(ut-1)+B<=l.Cd,f=(f&=Et*(ut-1)+B<=l.Ed)&q>=D&K>=B&Et>=B,f&=l.y!=null,f&=l.f!=null,f&=l.ea!=null,L==12&&(f&=St>=D,f&=yt<=l.Tc,f&=l.F!=null)}else f=0;l=f?0:2}}return l!=0||v!=null&&v.fd&&(l=Ql(w)),l}var Qn=64,ja=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ba=24,qa=32,Yl=8,Cr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];wt("Predictor0","PredictorAdd0"),b.Predictor0=function(){return 4278190080},b.Predictor1=function(l){return l},b.Predictor2=function(l,f,v){return f[v+0]},b.Predictor3=function(l,f,v){return f[v+1]},b.Predictor4=function(l,f,v){return f[v-1]},b.Predictor5=function(l,f,v){return Dt(Dt(l,f[v+1]),f[v+0])},b.Predictor6=function(l,f,v){return Dt(l,f[v-1])},b.Predictor7=function(l,f,v){return Dt(l,f[v+0])},b.Predictor8=function(l,f,v){return Dt(f[v-1],f[v+0])},b.Predictor9=function(l,f,v){return Dt(f[v+0],f[v+1])},b.Predictor10=function(l,f,v){return Dt(Dt(l,f[v-1]),Dt(f[v+0],f[v+1]))},b.Predictor11=function(l,f,v){var w=f[v+0];return 0>=Ht(w>>24&255,l>>24&255,(f=f[v-1])>>24&255)+Ht(w>>16&255,l>>16&255,f>>16&255)+Ht(w>>8&255,l>>8&255,f>>8&255)+Ht(255&w,255&l,255&f)?w:l},b.Predictor12=function(l,f,v){var w=f[v+0];return(kt((l>>24&255)+(w>>24&255)-((f=f[v-1])>>24&255))<<24|kt((l>>16&255)+(w>>16&255)-(f>>16&255))<<16|kt((l>>8&255)+(w>>8&255)-(f>>8&255))<<8|kt((255&l)+(255&w)-(255&f)))>>>0},b.Predictor13=function(l,f,v){var w=f[v-1];return(Ut((l=Dt(l,f[v+0]))>>24&255,w>>24&255)<<24|Ut(l>>16&255,w>>16&255)<<16|Ut(l>>8&255,w>>8&255)<<8|Ut(l>>0&255,w>>0&255))>>>0};var ff=b.PredictorAdd0;b.PredictorAdd1=Wt,wt("Predictor2","PredictorAdd2"),wt("Predictor3","PredictorAdd3"),wt("Predictor4","PredictorAdd4"),wt("Predictor5","PredictorAdd5"),wt("Predictor6","PredictorAdd6"),wt("Predictor7","PredictorAdd7"),wt("Predictor8","PredictorAdd8"),wt("Predictor9","PredictorAdd9"),wt("Predictor10","PredictorAdd10"),wt("Predictor11","PredictorAdd11"),wt("Predictor12","PredictorAdd12"),wt("Predictor13","PredictorAdd13");var Jl=b.PredictorAdd2;se("ColorIndexInverseTransform","MapARGB","32b",function(l){return l>>8&255},function(l){return l}),se("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(l){return l},function(l){return l>>8&255});var nc,ri=b.ColorIndexInverseTransform,Ua=b.MapARGB,rc=b.VP8LColorIndexInverseTransformAlpha,ic=b.MapAlpha,io=b.VP8LPredictorsAdd=[];io.length=16,(b.VP8LPredictors=[]).length=16,(b.VP8LPredictorsAdd_C=[]).length=16,(b.VP8LPredictors_C=[]).length=16;var ra,Rr,Ar,so,ys,_s,za,bs,wn,Xl,Er,ii,$a,sc,Zl,ia,sa,oo,oa,Ha,aa,ao,tu,si,oi,rn,sn,An,Fn=s(511),ws=s(2041),eu=s(225),Wa=s(767),oc=0,df=ws,ac=eu,Hr=Wa,ai=Fn,lc=0,uc=1,c1=2,cc=3,hc=4,pf=5,h1=6,gf=7,mf=8,fc=9,vf=10,qv=[2,3,7],Uv=[3,3,11],f1=[280,256,256,256,40],zv=[0,1,1,1,0],$v=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Hv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Gv=8,yf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_f=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nu=null,Kv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],d1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Yv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Jv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],lo=[],wi=[],As=[],ty=1,p1=2,uo=[],li=[];Ct("UpsampleRgbLinePair",V,3),Ct("UpsampleBgrLinePair",gt,3),Ct("UpsampleRgbaLinePair",ve,4),Ct("UpsampleBgraLinePair",xe,4),Ct("UpsampleArgbLinePair",me,4),Ct("UpsampleRgba4444LinePair",qt,2),Ct("UpsampleRgb565LinePair",xt,2);var ey=b.UpsampleRgbLinePair,ny=b.UpsampleBgrLinePair,g1=b.UpsampleRgbaLinePair,m1=b.UpsampleBgraLinePair,v1=b.UpsampleArgbLinePair,y1=b.UpsampleRgba4444LinePair,ry=b.UpsampleRgb565LinePair,dc=16,pc=1<<dc-1,ru=-227,bf=482,iy=6,_1=0,sy=s(256),oy=s(256),ay=s(256),ly=s(256),uy=s(bf-ru),cy=s(bf-ru);Xe("YuvToRgbRow",V,3),Xe("YuvToBgrRow",gt,3),Xe("YuvToRgbaRow",ve,4),Xe("YuvToBgraRow",xe,4),Xe("YuvToArgbRow",me,4),Xe("YuvToRgba4444Row",qt,2),Xe("YuvToRgb565Row",xt,2);var b1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gc=[0,2,8],hy=[8,7,6,4,4,2,2,2,1,1,1,1],fy=1;this.WebPDecodeRGBA=function(l,f,v,w,L){var D=uc,F=new ms,B=new Wn;F.ba=B,B.S=D,B.width=[B.width],B.height=[B.height];var q=B.width,K=B.height,ut=new jr;if(ut==null||l==null)var Et=2;else t(ut!=null),Et=zi(l,f,v,ut.width,ut.height,ut.Pd,ut.Qd,ut.format,null);if(Et!=0?q=0:(q!=null&&(q[0]=ut.width[0]),K!=null&&(K[0]=ut.height[0]),q=1),q){B.width=B.width[0],B.height=B.height[0],w!=null&&(w[0]=B.width),L!=null&&(L[0]=B.height);t:{if(w=new cs,(L=new to).data=l,L.w=f,L.ha=v,L.kd=1,f=[0],t(L!=null),((l=zi(L.data,L.w,L.ha,null,null,null,f,null,L))==0||l==7)&&f[0]&&(l=4),(f=l)==0){if(t(F!=null),w.data=L.data,w.w=L.w+L.offset,w.ha=L.ha-L.offset,w.put=er,w.ac=Nn,w.bc=Br,w.ma=F,L.xa){if((l=bn())==null){F=1;break t}if(function(St,yt){var Mt=[0],Lt=[0],ct=[0];e:for(;;){if(St==null)return 0;if(yt==null)return St.a=2,0;if(St.l=yt,St.a=0,nt(St.m,yt.data,yt.w,yt.ha),!te(St.m,Mt,Lt,ct)){St.a=3;break e}if(St.xb=p1,yt.width=Mt[0],yt.height=Lt[0],!qr(Mt[0],Lt[0],1,St,null))break e;return 1}return t(St.a!=0),0}(l,w)){if(w=(f=Va(w.width,w.height,F.Oa,F.ba))==0){e:{w=l;n:for(;;){if(w==null){w=0;break e}if(t(w.s.yc!=null),t(w.s.Ya!=null),t(0<w.s.Wb),t((v=w.l)!=null),t((L=v.ma)!=null),w.xb!=0){if(w.ca=L.ba,w.tb=L.tb,t(w.ca!=null),!Kl(L.Oa,v,cc)){w.a=2;break n}if(!Ri(w,v.width)||v.da)break n;if((v.da||Pe(w.ca.S))&&vt(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&vt()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!rt(w.s.vb,w.s.Wa.Xa)){w.a=1;break n}w.xb=0}if(!_r(w,w.V,w.Ba,w.c,w.i,v.o,Bs))break n;L.Dc=w.Ma,w=1;break e}t(w.a!=0),w=0}w=!w}w&&(f=l.a)}else f=l.a}else{if((l=new $o)==null){F=1;break t}if(l.Fa=L.na,l.P=L.P,l.qc=L.Sa,Wo(l,w)){if((f=Va(w.width,w.height,F.Oa,F.ba))==0){if(l.Aa=0,v=F.Oa,t((L=l)!=null),v!=null){if(0<(q=0>(q=v.Md)?0:100<q?255:255*q/100)){for(K=ut=0;4>K;++K)12>(Et=L.pb[K]).lc&&(Et.ia=q*hy[0>Et.lc?0:Et.lc]>>3),ut|=Et.ia;ut&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=v.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}Ca(l,w)||(f=l.a)}}else f=l.a}f==0&&F.Oa!=null&&F.Oa.fd&&(f=Ql(F.ba))}F=f}D=F!=0?null:11>D?B.f.RGBA.eb:B.f.kb.y}else D=null;return D};var w1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(b,x){for(var U="",E=0;E<4;E++)U+=String.fromCharCode(b[x++]);return U}function d(b,x){return(b[x+0]<<0|b[x+1]<<8|b[x+2]<<16)>>>0}function g(b,x){return(b[x+0]<<0|b[x+1]<<8|b[x+2]<<16|b[x+3]<<24)>>>0}new u;var _=[0],m=[0],P=[],I=new u,M=e,C=function(b,x){var U={},E=0,S=!1,T=0,et=0;if(U.frames=[],!function(W,J,it,ht){for(var G=0;G<ht;G++)if(W[J+G]!=it.charCodeAt(G))return!0;return!1}(b,x,"RIFF",4)){for(g(b,x+=4),x+=8;x<b.length;){var pt=h(b,x),Q=g(b,x+=4);x+=4;var lt=Q+(1&Q);switch(pt){case"VP8 ":case"VP8L":U.frames[E]===void 0&&(U.frames[E]={}),(st=U.frames[E]).src_off=S?et:x-8,st.src_size=T+Q+8,E++,S&&(S=!1,T=0,et=0);break;case"VP8X":(st=U.header={}).feature_flags=b[x];var nt=x+4;st.canvas_width=1+d(b,nt),nt+=3,st.canvas_height=1+d(b,nt),nt+=3;break;case"ALPH":S=!0,T=lt+8,et=x-8;break;case"ANIM":(st=U.header).bgcolor=g(b,x),nt=x+4,st.loop_count=($t=b)[(R=nt)+0]<<0|$t[R+1]<<8,nt+=2;break;case"ANMF":var At,st;(st=U.frames[E]={}).offset_x=2*d(b,x),x+=3,st.offset_y=2*d(b,x),x+=3,st.width=1+d(b,x),x+=3,st.height=1+d(b,x),x+=3,st.duration=d(b,x),x+=3,At=b[x++],st.dispose=1&At,st.blend=At>>1&1}pt!="ANMF"&&(x+=lt)}var $t,R;return U}}(M,0);C.response=M,C.rgbaoutput=!0,C.dataurl=!1;var k=C.header?C.header:null,H=C.frames?C.frames:null;if(k){k.loop_counter=k.loop_count,_=[k.canvas_height],m=[k.canvas_width];for(var tt=0;tt<H.length&&H[tt].blend!=0;tt++);}var _t=H[0],Pt=I.WebPDecodeRGBA(M,_t.src_off,_t.src_size,m,_);_t.rgba=Pt,_t.imgwidth=m[0],_t.imgheight=_[0];for(var O=0;O<m[0]*_[0]*4;O++)P[O]=Pt[O];return this.width=m,this.height=_,this.data=P,this}(function(e){var t=function(){return typeof Xd=="function"},n=function(_,m,P,I){var M=4,C=o;switch(I){case e.image_compression.FAST:M=1,C=s;break;case e.image_compression.MEDIUM:M=6,C=a;break;case e.image_compression.SLOW:M=9,C=u}_=r(_,m,P,C);var k=Xd(_,{level:M});return e.__addimage__.arrayBufferToBinaryString(k)},r=function(_,m,P,I){for(var M,C,k,H=_.length/m,tt=new Uint8Array(_.length+H),_t=d(),Pt=0;Pt<H;Pt+=1){if(k=Pt*m,M=_.subarray(k,k+m),I)tt.set(I(M,P,C),k+Pt);else{for(var O,b=_t.length,x=[];O<b;O+=1)x[O]=_t[O](M,P,C);var U=g(x.concat());tt.set(x[U],k+Pt)}C=M}return tt},i=function(_){var m=Array.apply([],_);return m.unshift(0),m},s=function(_,m){var P,I=[],M=_.length;I[0]=1;for(var C=0;C<M;C+=1)P=_[C-m]||0,I[C+1]=_[C]-P+256&255;return I},o=function(_,m,P){var I,M=[],C=_.length;M[0]=2;for(var k=0;k<C;k+=1)I=P&&P[k]||0,M[k+1]=_[k]-I+256&255;return M},a=function(_,m,P){var I,M,C=[],k=_.length;C[0]=3;for(var H=0;H<k;H+=1)I=_[H-m]||0,M=P&&P[H]||0,C[H+1]=_[H]+256-(I+M>>>1)&255;return C},u=function(_,m,P){var I,M,C,k,H=[],tt=_.length;H[0]=4;for(var _t=0;_t<tt;_t+=1)I=_[_t-m]||0,M=P&&P[_t]||0,C=P&&P[_t-m]||0,k=h(I,M,C),H[_t+1]=_[_t]-k+256&255;return H},h=function(_,m,P){if(_===m&&m===P)return _;var I=Math.abs(m-P),M=Math.abs(_-P),C=Math.abs(_+m-P-P);return I<=M&&I<=C?_:M<=C?m:P},d=function(){return[i,s,o,a,u]},g=function(_){var m=_.map(function(P){return P.reduce(function(I,M){return I+Math.abs(M)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(_,m,P,I){var M,C,k,H,tt,_t,Pt,O,b,x,U,E,S,T,et,pt=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(_)&&(_=new Uint8Array(_)),this.__addimage__.isArrayBufferView(_)){if(_=(k=new _x(_)).imgData,C=k.bits,M=k.colorSpace,tt=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){b=(O=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,U=new Uint8Array(b*k.colors),x=new Uint8Array(b);var lt,nt=k.pixelBitlength-k.bits;for(T=0,et=0;T<b;T++){for(S=O[T],lt=0;lt<nt;)U[et++]=S>>>lt&255,lt+=k.bits;x[T]=S>>>lt&255}}if(k.bits===16){b=(O=new Uint32Array(k.decodePixels().buffer)).length,U=new Uint8Array(b*(32/k.pixelBitlength)*k.colors),x=new Uint8Array(b*(32/k.pixelBitlength)),E=k.colors>1,T=0,et=0;for(var At=0;T<b;)S=O[T++],U[et++]=S>>>0&255,E&&(U[et++]=S>>>16&255,S=O[T++],U[et++]=S>>>0&255),x[At++]=S>>>16&255;C=8}I!==e.image_compression.NONE&&t()?(_=n(U,k.width*k.colors,k.colors,I),Pt=n(x,k.width,1,I)):(_=U,Pt=x,pt=void 0)}if(k.colorType===3&&(M=this.color_spaces.INDEXED,_t=k.palette,k.transparency.indexed)){var st=k.transparency.indexed,$t=0;for(T=0,b=st.length;T<b;++T)$t+=st[T];if(($t/=255)===b-1&&st.indexOf(0)!==-1)H=[st.indexOf(0)];else if($t!==b){for(O=k.decodePixels(),x=new Uint8Array(O.length),T=0,b=O.length;T<b;T++)x[T]=st[O[T]];Pt=n(x,k.width,1)}}var R=function(W){var J;switch(W){case e.image_compression.FAST:J=11;break;case e.image_compression.MEDIUM:J=13;break;case e.image_compression.SLOW:J=14;break;default:J=12}return J}(I);return pt===this.decode.FLATE_DECODE&&(Q="/Predictor "+R+" "),Q+="/Colors "+tt+" /BitsPerComponent "+C+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),(Pt&&this.__addimage__.isArrayBuffer(Pt)||this.__addimage__.isArrayBufferView(Pt))&&(Pt=this.__addimage__.arrayBufferToBinaryString(Pt)),{alias:P,data:_,index:m,filter:pt,decodeParameters:Q,transparency:H,palette:_t,sMask:Pt,predictor:R,width:k.width,height:k.height,bitsPerComponent:C,colorSpace:M}}}})(ue.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new bx(t),o=s.width,a=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:o,height:a},d=new ad(100).encode(h,100);return e.processJPEG.call(this,d,n,r,i)},e.processGIF87A=e.processGIF89A}(ue.API),Si.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Si.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){tn.log("bit decode error:"+n)}},Si.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var u=this.palette[s>>7-a&1];this.data[o+4*a]=u.blue,this.data[o+4*a+1]=u.green,this.data[o+4*a+2]=u.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Si.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,u=15&s,h=this.palette[a];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[u],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Si.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Si.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,h=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=u,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=h}this.pos+=e}},Si.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,u=(o>>5&n)/n*255|0,h=(o>>11)/t*255|0,d=i*this.width*4+4*s;this.data[d]=h,this.data[d+1]=u,this.data[d+2]=a,this.data[d+3]=255}this.pos+=e}},Si.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Si.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Si.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Si(t,!1),o=s.width,a=s.height,u={data:s.getData(),width:o,height:a},h=new ad(100).encode(u,100);return e.processJPEG.call(this,h,n,r,i)}}(ue.API),a2.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new a2(t),o=s.width,a=s.height,u={data:s.getData(),width:o,height:a},h=new ad(100).encode(u,100);return e.processJPEG.call(this,h,n,r,i)}}(ue.API),ue.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,u=0,h=0;h<i;h+=4){var d=r[h],g=r[h+1],_=r[h+2],m=r[h+3];s[a++]=d,s[a++]=g,s[a++]=_,o[u++]=m}var P=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:P,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ue.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},tl=ue.API,Vc=tl.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,u=a.fof?a.fof:1,h=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,g=t.doKerning!==!1,_=0,m=e.length,P=0,I=a[0]||u,M=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?M.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(_=g&&Qe(h[r])==="object"&&!isNaN(parseInt(h[r][P],10))?h[r][P]/d:0,M.push((a[r]||I)/u+_)),P=r;return M},r2=tl.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return tl.processArabic&&(e=tl.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Vc.apply(this,arguments).reduce(function(s,o){return s+o},0)},i2=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var u=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(u,s)),a=0,u=s),a+=t[s],s++;return u!==s&&i.push(e.slice(u,s)),i},s2=function(e,t,n){n||(n={});var r,i,s,o,a,u,h,d=[],g=[d],_=n.textIndent||0,m=0,P=0,I=e.split(" "),M=Vc.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?I[0].length+2:n.lineIndent||0){var C=Array(u).join(" "),k=[];I.map(function(tt){(tt=tt.split(/\s*\n/)).length>1?k=k.concat(tt.map(function(_t,Pt){return(Pt&&_t.length?`
`:"")+_t})):k.push(tt[0])}),I=k,u=r2.apply(this,[C,n])}for(s=0,o=I.length;s<o;s++){var H=0;if(r=I[s],u&&r[0]==`
`&&(r=r.substr(1),H=1),_+m+(P=(i=Vc.apply(this,[r,n])).reduce(function(tt,_t){return tt+_t},0))>t||H){if(P>t){for(a=i2.apply(this,[r,i,t-(_+m),t]),d.push(a.shift()),d=[a.pop()];a.length;)g.push([a.shift()]);P=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(tt,_t){return tt+_t},0)}else d=[r];g.push(d),_=P+u,m=M}else d.push(r),_+=m+P,m=M}return h=u?function(tt,_t){return(_t?C:"")+tt.join(" ")}:function(tt){return tt.join(" ")},g.map(h)},tl.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var g=this.internal.getFont(d.fontName,d.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,u,h=[];for(a=0,u=r.length;a<u;a++)h=h.concat(s2.apply(this,[r[a],o,s]));return h},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var _,m,P,I,M=["{"];for(var C in g){if(_=g[C],isNaN(parseInt(C,10))?m="'"+C+"'":(C=parseInt(C,10),m=(m=s(C).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof _=="number")_<0?(P=s(_).slice(3),I="-"):(P=s(_).slice(2),I=""),P=I+P.slice(0,-1)+r[P.slice(-1)];else{if(Qe(_)!=="object")throw new Error("Don't know what to do with value type "+Qe(_)+".");P=o(_)}M.push(m+P)}return M.push("}"),M.join("")},a=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,m,P,I,M={},C=1,k=M,H=[],tt="",_t="",Pt=g.length-1,O=1;O<Pt;O+=1)(I=g[O])=="'"?_?(P=_.join(""),_=void 0):_=[]:_?_.push(I):I=="{"?(H.push([k,P]),k={},P=void 0):I=="}"?((m=H.pop())[0][m[1]]=k,P=void 0,k=m[0]):I=="-"?C=-1:P===void 0?n.hasOwnProperty(I)?(tt+=n[I],P=parseInt(tt,16)*C,C=1,tt=""):tt+=I:n.hasOwnProperty(I)?(_t+=n[I],k[P]=parseInt(_t,16)*C,C=1,P=void 0,_t=""):_t+=I;return M},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var _=g.font,m=d.Unicode[_.postScriptName];m&&(_.metadata.Unicode={},_.metadata.Unicode.widths=m.widths,_.metadata.Unicode.kerning=m.kerning);var P=h.Unicode[_.postScriptName];P&&(_.metadata.Unicode.encoding=P,_.encoding=P.codePages[0])}])}(ue.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Ru(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ue),function(e){function t(){return(ce.canvg?Promise.resolve(ce.canvg):Gd(()=>import("./index.es-BDWjUGhQ.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ue.API.addSvgAsImage=function(n,r,i,s,o,a,u,h){if(isNaN(r)||isNaN(i))throw tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var g=d.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,d.width,d.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(P){return P.fromString(g,n,_)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(P){return P.render(_)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),r,i,s,o,u,h)})}}(),ue.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},ue.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),u=[],h=0,d=0,g=0;function _(P,I){var M,C=!1;for(M=0;M<P.length;M+=1)P[M]===I&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=a.length;for(g=0;g<m;g+=1)n[a[g]].value=n[a[g]].defaultValue,n[a[g]].explicitSet=!1}if(Qe(e)==="object"){for(i in e)if(s=e[i],_(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&_(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")u.push(String(s[h]-1));else if(s[h].length>1){for(d=0;d<s[h].length;d+=1)typeof s[h][d]!="number"&&(r=!1);r===!0&&u.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,I=[];for(P in n)n[P].explicitSet===!0&&(n[P].type==="name"?I.push("/"+P+" /"+n[P].value):I.push("/"+P+" "+n[P].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+a.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ue.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,u=o.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],g=0,_=s.length;g<_;++g){if(a=o.metadata.characterToGlyph(s.charCodeAt(g)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(g),u.indexOf(a)==-1&&(u.push(a),u.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(h[4-a.length],a)}return d.join("")},r=function(s){var o,a,u,h,d,g,_;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,_=(a=Object.keys(s).sort(function(m,P){return m-P})).length;g<_;g++)o=a[g],u.length>=100&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+h+">"));return u.length&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,u=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var g=a.metadata.Unicode.widths,_=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",P=0;P<_.length;P++)m+=String.fromCharCode(_[P]);var I=h();d({data:m,addLength1:!0,objectId:I}),u("endobj");var M=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:M}),u("endobj");var C=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+ll(a.fontName)),u("/FontFile2 "+I+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),u("/Flags "+a.metadata.flags),u("/StemV "+a.metadata.stemV),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u(">>"),u("endobj");var k=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+ll(a.fontName)),u("/FontDescriptor "+C+" 0 R"),u("/W "+e.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+a.encoding+")"),u(">>"),u(">>"),u("endobj"),a.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+M+" 0 R"),u("/BaseFont /"+ll(a.fontName)),u("/Encoding /"+a.encoding),u("/DescendantFonts ["+k+" 0 R]"),u(">>"),u("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,u=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var g=a.metadata.rawData,_="",m=0;m<g.length;m++)_+=String.fromCharCode(g[m]);var P=h();d({data:_,addLength1:!0,objectId:P}),u("endobj");var I=h();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:I}),u("endobj");var M=h();u("<<"),u("/Descent "+a.metadata.decender),u("/CapHeight "+a.metadata.capHeight),u("/StemV "+a.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+P+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),u("/FontName /"+ll(a.fontName)),u("/ItalicAngle "+a.metadata.italicAngle),u("/Ascent "+a.metadata.ascender),u(">>"),u("endobj"),a.objectNumber=h();for(var C=0;C<a.metadata.hmtx.widths.length;C++)a.metadata.hmtx.widths[C]=parseInt(a.metadata.hmtx.widths[C]*(1e3/a.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+ll(a.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),u("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",u=s.x,h=s.y,d=s.options||{},g=s.mutex||{},_=g.pdfEscape,m=g.activeFontKey,P=g.fonts,I=m,M="",C=0,k="",H=P[I].encoding;if(P[I].encoding!=="Identity-H")return{text:a,x:u,y:h,options:d,mutex:g};for(k=a,I=m,Array.isArray(a)&&(k=a[0]),C=0;C<k.length;C+=1)P[I].metadata.hasOwnProperty("cmap")&&(o=P[I].metadata.cmap.unicode.codeMap[k[C].charCodeAt(0)]),o||k[C].charCodeAt(0)<256&&P[I].metadata.hasOwnProperty("Unicode")?M+=k[C]:M+="";var tt="";return parseInt(I.slice(1))<14||H==="WinAnsiEncoding"?tt=_(M,I).split("").map(function(_t){return _t.charCodeAt(0).toString(16)}).join(""):H==="Identity-H"&&(tt=n(M,P[I])),g.isHex=!0,{text:tt,x:u,y:h,options:d,mutex:g}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?a.push([i(Object.assign({},u,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(i(Object.assign({},u,{text:o[h]})).text);s.text=a}else s.text=i(Object.assign({},u,{text:o})).text}])}(ue),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ue.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,u,h,d,g=t,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,H=0;this.__bidiEngine__={};var tt=function(E){var S=E.charCodeAt(),T=S>>8,et=I[T];return et!==void 0?g[256*et+(255&S)]:T===252||T===253?"AL":C.test(T)?"L":T===8?"R":"N"},_t=function(E){for(var S,T=0;T<E.length;T++){if((S=tt(E.charAt(T)))==="L")return!1;if(S==="R")return!0}return!1},Pt=function(E,S,T,et){var pt,Q,lt,nt,At=S[et];switch(At){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(At="AN");break;case"AL":k=!0,At="R";break;case"WS":At="N";break;case"CS":et<1||et+1>=S.length||(pt=T[et-1])!=="EN"&&pt!=="AN"||(Q=S[et+1])!=="EN"&&Q!=="AN"?At="N":k&&(Q="AN"),At=Q===pt?Q:"N";break;case"ES":At=(pt=et>0?T[et-1]:"B")==="EN"&&et+1<S.length&&S[et+1]==="EN"?"EN":"N";break;case"ET":if(et>0&&T[et-1]==="EN"){At="EN";break}if(k){At="N";break}for(lt=et+1,nt=S.length;lt<nt&&S[lt]==="ET";)lt++;At=lt<nt&&S[lt]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(nt=S.length,lt=et+1;lt<nt&&S[lt]==="NSM";)lt++;if(lt<nt){var st=E[et],$t=st>=1425&&st<=2303||st===64286;if(pt=S[lt],$t&&(pt==="R"||pt==="AL")){At="R";break}}}At=et<1||(pt=S[et-1])==="B"?"N":T[et-1];break;case"B":k=!1,i=!0,At=H;break;case"S":s=!0,At="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":At="N"}return At},O=function(E,S,T){var et=E.split("");return T&&b(et,T,{hiLevel:H}),et.reverse(),S&&S.reverse(),et.join("")},b=function(E,S,T){var et,pt,Q,lt,nt,At=-1,st=E.length,$t=0,R=[],W=H?m:_,J=[];for(k=!1,i=!1,s=!1,pt=0;pt<st;pt++)J[pt]=tt(E[pt]);for(Q=0;Q<st;Q++){if(nt=$t,R[Q]=Pt(E,J,R,Q),et=240&($t=W[nt][P[R[Q]]]),$t&=15,S[Q]=lt=W[$t][5],et>0)if(et===16){for(pt=At;pt<Q;pt++)S[pt]=1;At=-1}else At=-1;if(W[$t][6])At===-1&&(At=Q);else if(At>-1){for(pt=At;pt<Q;pt++)S[pt]=lt;At=-1}J[Q]==="B"&&(S[Q]=0),T.hiLevel|=lt}s&&function(it,ht,G){for(var ot=0;ot<G;ot++)if(it[ot]==="S"){ht[ot]=H;for(var X=ot-1;X>=0&&it[X]==="WS";X--)ht[X]=H}}(J,S,st)},x=function(E,S,T,et,pt){if(!(pt.hiLevel<E)){if(E===1&&H===1&&!i)return S.reverse(),void(T&&T.reverse());for(var Q,lt,nt,At,st=S.length,$t=0;$t<st;){if(et[$t]>=E){for(nt=$t+1;nt<st&&et[nt]>=E;)nt++;for(At=$t,lt=nt-1;At<lt;At++,lt--)Q=S[At],S[At]=S[lt],S[lt]=Q,T&&(Q=T[At],T[At]=T[lt],T[lt]=Q);$t=nt}$t++}}},U=function(E,S,T){var et=E.split(""),pt={hiLevel:H};return T||(T=[]),b(et,T,pt),function(Q,lt,nt){if(nt.hiLevel!==0&&d)for(var At,st=0;st<Q.length;st++)lt[st]===1&&(At=M.indexOf(Q[st]))>=0&&(Q[st]=M[At+1])}(et,T,pt),x(2,et,S,T,pt),x(1,et,S,T,pt),et.join("")};return this.__bidiEngine__.doBidiReorder=function(E,S,T){if(function(pt,Q){if(Q)for(var lt=0;lt<pt.length;lt++)Q[lt]=lt;a===void 0&&(a=_t(pt)),h===void 0&&(h=_t(pt))}(E,S),o||!u||h)if(o&&u&&a^h)H=a?1:0,E=O(E,S,T);else if(!o&&u&&h)H=a?1:0,E=U(E,S,T),E=O(E,S);else if(!o||a||u||h){if(o&&!u&&a^h)E=O(E,S),a?(H=0,E=U(E,S,T)):(H=1,E=U(E,S,T),E=O(E,S));else if(o&&a&&!u&&h)H=1,E=U(E,S,T),E=O(E,S);else if(!o&&!u&&a^h){var et=d;a?(H=1,E=U(E,S,T),H=0,d=!1,E=U(E,S,T),d=et):(H=0,E=U(E,S,T),E=O(E,S),H=1,d=!1,E=U(E,S,T),d=et,E=O(E,S))}}else H=0,E=U(E,S,T);else H=a?1:0,E=U(E,S,T);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,u=E.isOutputVisual,a=E.isInputRtl,h=E.isOutputRtl,d=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ue),ue.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Vo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Ox(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new wx(this.contents),this.head=new Ex(this),this.name=new Px(this),this.cmap=new Vv(this),this.toUnicode={},this.hhea=new Sx(this),this.maxp=new Nx(this),this.hmtx=new Lx(this),this.post=new Ix(this),this.os2=new xx(this),this.loca=new Dx(this),this.glyf=new Cx(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,u,h;for(h=[],o=0,a=(u=this.bbox).length;o<a;o++)t=u[o],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Li,Vo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,u;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^u)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+u},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),wx=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,u,h,d,g,_,m,P,I;for(I in m=Object.keys(n).length,u=Math.log(2),g=16*Math.floor(Math.log(m)/u),o=Math.floor(g/u),d=16*m-g,(i=new Vo).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(o),i.writeShort(d),s=16*m,h=i.pos+s,a=null,P=[],n)for(_=n[I],i.writeString(I),i.writeInt(e(_)),i.writeInt(h),i.writeInt(_.length),P=P.concat(_),I==="head"&&(a=h),h+=_.length;h%4;)P.push(0),h++;return i.write(P),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=jv.call(n);n.length%4;)n.push(0);for(s=new Vo(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),Ax={}.hasOwnProperty,os=function(e,t){for(var n in t)Ax.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Li=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Ex=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Vo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),l2=function(){function e(t,n){var r,i,s,o,a,u,h,d,g,_,m,P,I,M,C,k,H;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(m=t.readUInt16(),_=m/2,t.pos+=6,s=function(){var tt,_t;for(_t=[],u=tt=0;0<=_?tt<_:tt>_;u=0<=_?++tt:--tt)_t.push(t.readUInt16());return _t}(),t.pos+=2,I=function(){var tt,_t;for(_t=[],u=tt=0;0<=_?tt<_:tt>_;u=0<=_?++tt:--tt)_t.push(t.readUInt16());return _t}(),h=function(){var tt,_t;for(_t=[],u=tt=0;0<=_?tt<_:tt>_;u=0<=_?++tt:--tt)_t.push(t.readUInt16());return _t}(),d=function(){var tt,_t;for(_t=[],u=tt=0;0<=_?tt<_:tt>_;u=0<=_?++tt:--tt)_t.push(t.readUInt16());return _t}(),i=(this.length-t.pos+this.offset)/2,a=function(){var tt,_t;for(_t=[],u=tt=0;0<=i?tt<i:tt>i;u=0<=i?++tt:--tt)_t.push(t.readUInt16());return _t}(),u=C=0,H=s.length;C<H;u=++C)for(M=s[u],r=k=P=I[u];P<=M?k<=M:k>=M;r=P<=M?++k:--k)d[u]===0?o=r+h[u]:(o=a[d[u]/2+(r-P)-(_-u)]||0)!==0&&(o+=h[u]),this.codeMap[r]=65535&o}t.pos=g}return e.encode=function(t,n){var r,i,s,o,a,u,h,d,g,_,m,P,I,M,C,k,H,tt,_t,Pt,O,b,x,U,E,S,T,et,pt,Q,lt,nt,At,st,$t,R,W,J,it,ht,G,ot,X,It,Rt,$;switch(et=new Vo,o=Object.keys(t).sort(function(z,rt){return z-rt}),n){case"macroman":for(I=0,M=function(){var z=[];for(P=0;P<256;++P)z.push(0);return z}(),k={0:0},s={},pt=0,At=o.length;pt<At;pt++)k[X=t[i=o[pt]]]==null&&(k[X]=++I),s[i]={old:t[i],new:k[t[i]]},M[i]=k[t[i]];return et.writeUInt16(1),et.writeUInt16(0),et.writeUInt32(12),et.writeUInt16(0),et.writeUInt16(262),et.writeUInt16(0),et.write(M),{charMap:s,subtable:et.data,maxGlyphID:I+1};case"unicode":for(S=[],g=[],H=0,k={},r={},C=h=null,Q=0,st=o.length;Q<st;Q++)k[_t=t[i=o[Q]]]==null&&(k[_t]=++H),r[i]={old:_t,new:k[_t]},a=k[_t]-i,C!=null&&a===h||(C&&g.push(C),S.push(i),h=a),C=i;for(C&&g.push(C),g.push(65535),S.push(65535),U=2*(x=S.length),b=2*Math.pow(Math.log(x)/Math.LN2,2),_=Math.log(b/2)/Math.LN2,O=2*x-b,u=[],Pt=[],m=[],P=lt=0,$t=S.length;lt<$t;P=++lt){if(E=S[P],d=g[P],E===65535){u.push(0),Pt.push(0);break}if(E-(T=r[E].new)>=32768)for(u.push(0),Pt.push(2*(m.length+x-P)),i=nt=E;E<=d?nt<=d:nt>=d;i=E<=d?++nt:--nt)m.push(r[i].new);else u.push(T-E),Pt.push(0)}for(et.writeUInt16(3),et.writeUInt16(1),et.writeUInt32(12),et.writeUInt16(4),et.writeUInt16(16+8*x+2*m.length),et.writeUInt16(0),et.writeUInt16(U),et.writeUInt16(b),et.writeUInt16(_),et.writeUInt16(O),G=0,R=g.length;G<R;G++)i=g[G],et.writeUInt16(i);for(et.writeUInt16(0),ot=0,W=S.length;ot<W;ot++)i=S[ot],et.writeUInt16(i);for(It=0,J=u.length;It<J;It++)a=u[It],et.writeUInt16(a);for(Rt=0,it=Pt.length;Rt<it;Rt++)tt=Pt[Rt],et.writeUInt16(tt);for($=0,ht=m.length;$<ht;$++)I=m[$],et.writeUInt16(I);return{charMap:r,subtable:et.data,maxGlyphID:H+1}}},e}(),Vv=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new l2(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=l2.encode(n,r),(s=new Vo).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),Sx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),xx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),Ix=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,u,h;for(h=[],o=a=0,u=this.file.maxp.numGlyphs;0<=u?a<u:a>u;o=0<=u?++a:--a)h.push(n.readUInt32());return h}).call(this)}},t}(),Tx=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Px=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,u,h,d,g,_,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),u=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(h={},o=g=0,_=i.length;g<_;o=++g)s=i[o],n.pos=s.offset,d=n.readString(s.length),a=new Tx(d,s),h[m=s.nameID]==null&&(h[m]=[]),h[s.nameID].push(a);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t}(),Nx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),Lx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,u,h;for(n.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,g;for(g=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)g.push(n.readInt16());return g}(),this.widths=(function(){var d,g,_,m;for(m=[],d=0,g=(_=this.metrics).length;d<g;d++)o=_[d],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],h=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)h.push(this.widths.push(i));return h},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),jv=[].slice,Cx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,u,h,d,g,_;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(u=new Vo(r.read(s))).readShort(),d=u.readShort(),_=u.readShort(),h=u.readShort(),g=u.readShort(),this.cache[n]=a===-1?new kx(u,d,_,h,g):new Rx(u,a,d,_,h,g),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,u,h;for(a=[],o=[],u=0,h=r.length;u<h;u++)s=n[r[u]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),Rx=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),kx=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Vo(jv.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Dx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return os(t,Li),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var u=this.offsets[a],h=this.offsets[a+1]-u;h>0&&(s+=h)}for(var d=new Array(4*i.length),g=0;g<i.length;++g)d[4*g+3]=255&i[g],d[4*g+2]=(65280&i[g])>>8,d[4*g+1]=(16711680&i[g])>>16,d[4*g]=(4278190080&i[g])>>24;return d},t}(),Ox=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,u;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in u=this.glyphsFor(n))r=u[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,u,h,d,g,_,m,P,I,M,C;for(i in r=Vv.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},C=r.charMap)m[(u=C[i]).old]=u.new;for(P in _=r.maxGlyphID,o)P in m||(m[P]=_++);return d=function(k){var H,tt;for(H in tt={},k)tt[k[H]]=H;return tt}(m),g=Object.keys(d).sort(function(k,H){return k-H}),I=function(){var k,H,tt;for(tt=[],k=0,H=g.length;k<H;k++)a=g[k],tt.push(d[a]);return tt}(),s=this.font.glyf.encode(o,I,m),h=this.font.loca.encode(s.offsets,I),M={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},e}();ue.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,u,h;for(h=[],a=0,u=n.length;a<u;a++)r=n[a],h.push(t.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();const Fx={key:0,class:"modal-overlay"},Mx={class:"modal-content"},Vx={class:"container"},jx={class:"box"},Bx={id:"lista-clientes"},qx=["value"],Ux={id:"lista-productos"},zx=["value"],$x=["disabled"],Hx=["value"],Wx=["value"],Gx={class:"box2"},Kx={style:{"background-color":"transparent"}},Qx={border:"1",style:{"margin-top":"10px","text-align":"center"}},Yx={class:"border px-1 py-0"},Jx={class:"border px-1 py-0"},Xx={class:"border px-1 py-0"},Zx={class:"border px-1 py-0"},tI={class:"border px-1 py-0"},eI={class:"border px-1 py-0"},nI={class:"border px-1 py-0"},rI={style:{border:"0px"}},iI={class:"p-4"},sI={class:"min-w-full table-auto border-collapse border border-gray-300"},oI={class:"border p-2"},aI={class:"border p-2"},lI={class:"border p-2"},uI={class:"border p-2"},cI={class:"border p-2 flex gap-2 justify-center"},hI=["onClick"],fI=["onClick"],dI=["onClick"],pI={class:"mt-4 flex justify-center gap-1 flex-wrap"},gI=["disabled"],mI=["onClick"],vI=["disabled"],ld=10,yI={__name:"NotaPedido",setup(e){const t=Ve(!1),n=Ve(""),r=Ve(""),i=Ve(1),s=Ve(0),o=Ve(null),a=Ve(null),u=Ve([]),h=Ve([]),d=Ve([]),g=Ve([]),_=Ve([]),m=Ve([]),P=async()=>{const pt=await Ns(Qr(fn,"clientes"));u.value=pt.docs.map(nt=>({id:nt.id,...nt.data()})),h.value=u.value;const Q=await Ns(Qr(fn,"productos"));d.value=Q.docs.map(nt=>({id:nt.id,...nt.data()})),g.value=d.value;const lt=await Ns(Qr(fn,"nota","realizadas","notas"));m.value=lt.docs.map(nt=>{var st;const At=nt.data();return{id:nt.id,cliente:((st=At.cliente)==null?void 0:st.nombre)||"CONSUMIDOR FINAL",total:At.total||0,fecha:At.fecha||null}})},I=Tn(()=>_.value.reduce((pt,Q)=>pt+Q.precio*(Q.modo===1?Q.peso:Q.cantidad)*(1-(Q.descuento||0)/100),0)),M=Ve(1),C=Tn(()=>Math.ceil(m.value.length/ld)),k=Tn(()=>{const pt=(M.value-1)*ld;return m.value.slice(pt,pt+ld)}),H=Tn(()=>{const Q=C.value;let lt=1,nt=Q;Q>20&&(lt=Math.max(M.value-Math.floor(20/2),1),nt=lt+20-1,nt>Q&&(nt=Q,lt=nt-20+1));const At=[];for(let st=lt;st<=nt;st++)At.push(st);return At});function tt(){const pt=n.value.toLowerCase();h.value=u.value.filter(Q=>Q.nombre.toLowerCase().includes(pt)||Q.identificador.toLowerCase().includes(pt))}function _t(){const pt=r.value.toLowerCase();g.value=d.value.filter(Q=>Q.descripcion.toLowerCase().includes(pt)||Q.codigo.toLowerCase().includes(pt))}async function Pt(){if(a.value){_.value.push({id:a.value.id,codigo:a.value.codigo,descripcion:a.value.descripcion,cantidad:i.value,peso:s.value,modo:a.value.modo,descuento:a.value.descuento,precio:a.value.precioUnitario,existencias:a.value.existencias});try{const pt={codigo:a.value.codigo,descripcion:a.value.descripcion,cantidad:i.value,peso:s.value,precio:a.value.precioUnitario,descuento:a.value.descuento,total:(a.value.precioUnitario*(a.value.modo===1?s.value:i.value)*(1-(a.value.descuento||0)/100)).toFixed(2)},Q=await Th(Qr(fn,"nota","auxiliar","productos"),pt);console.log("Producto agregado a Firebase:",Q.id)}catch(pt){console.error("Error al agregar producto a Firebase:",pt)}i.value=1,s.value=0,a.value=null,r.value=""}}function O(){const pt=r.value,Q=d.value.find(lt=>`${lt.codigo} - ${lt.descripcion}`===pt);a.value=Q||null}function b(){const pt=n.value,Q=u.value.find(lt=>`${lt.identificador} - ${lt.nombre}`===pt);o.value=Q||null}async function x(){try{const pt=await Ns(Qr(fn,"nota","auxiliar","productos"));for(const lt of pt.docs)await Ao(lt.ref),console.log(`Producto eliminado de Firebase: ${lt.id}`);const Q=await Ns(Qr(fn,"nota","auxiliar","clientes"));for(const lt of Q.docs)await Ao(lt.ref),console.log(`Cliente eliminado de Firebase: ${lt.id}`);_.value=[],n.value="",r.value="",o.value=null,console.log("Colecciones auxiliares vaciadas correctamente.")}catch(pt){console.error("Error al vaciar la coleccin auxiliar:",pt)}}function U(){const pt=new Date,Q=new Date(pt.getTime()-3*60*60*1e3),lt=Q.getFullYear(),nt=String(Q.getMonth()+1).padStart(2,"0");return`${String(Q.getDate()).padStart(2,"0")}/${nt}/${lt}`}const E=async()=>{try{if(!o.value||_.value.length===0){alert("Faltan datos: cliente o productos.");return}const pt=U();for(const lt of _.value){if(!lt.id){console.alert(`El producto "${lt.descripcion}" no tiene ID vlido.`);return}const nt=Fr(fn,"productos",lt.id),At=await Xa(nt);if(!At.exists()){console.alert(`Producto no encontrado: ${lt.descripcion}`);return}const st=At.data().existencias||0;if(st<lt.cantidad){console.alert(`Stock insuficiente para "${lt.descripcion}". Actual: ${st}, requerido: ${lt.cantidad}`);return}}const Q={cliente:o.value,productos:_.value,total:I.value,fecha:pt};await Th(Qr(fn,"nota","realizadas","notas"),Q);for(const lt of _.value){const nt=Fr(fn,"productos",lt.id),At=await Xa(nt);if(At.exists()){const st=At.data().existencias||0,$t=Math.max(st-lt.cantidad,0);await Al(nt,{existencias:$t})}}o.value.id&&await Ao(Fr(fn,"nota","auxiliar","clientes",o.value.id)),x(),o.value=null,_.value=[],I.value=0,console.log("Nota generada con xito."),t.value=!1,await P(),M.value=1}catch(pt){console.error("Error al generar la nota:",pt)}};async function S(pt){if(confirm("Ests seguro de que deseas eliminar esta nota de pedido?"))try{const Q=Fr(fn,"nota","realizadas","notas",pt),lt=await Xa(Q);if(!lt.exists()){alert("Nota no encontrada.");return}const At=lt.data().productos||[];for(const R of At){if(!R.id)continue;const W=Fr(fn,"productos",R.id),J=await Xa(W);if(J.exists()){const ht=(J.data().existencias||0)+R.cantidad;await Al(W,{existencias:ht})}}const st=await Ns(Qr(Q,"productos"));for(const R of st.docs)await Ao(R.ref);const $t=await Ns(Qr(Q,"clientes"));for(const R of $t.docs)await Ao(R.ref);await Ao(Q),m.value=m.value.filter(R=>R.id!==pt),console.log(`Nota realizada ${pt} eliminada correctamente y stock devuelto.`)}catch(Q){console.error("Error al eliminar la nota realizada:",Q)}}async function T(pt){try{const Q=Fr(fn,"nota","realizadas","notas",pt),lt=await Xa(Q);if(!lt.exists()){console.error("Nota no encontrada");return}const At=lt.data().productos,st=new ue({orientation:"portrait",unit:"mm",format:[120,170]});st.setFont("helvetica","bold"),st.setLineWidth(.5),st.rect(7,10,106,30),st.rect(7,10,106,11),st.rect(7,10,68,11),st.rect(75,10,10,8),st.rect(85,10,28,8),st.setFontSize(18),st.text("X",78,16),st.setFontSize(11),st.text("NOTA DE",90,14),st.text("PEDIDO",91,17),st.setFontSize(5),st.text("DOCUMENTO NO VALIDO COMO FACTURA",75.5,20),st.rect(7,21,76,19),st.rect(83,21,30,7),st.rect(83,28,30,4),st.setFontSize(10),st.text("FECHA",92,31.5),st.save(`nota_${pt}.pdf`)}catch(Q){console.error("Error al imprimir nota:",Q)}}async function et(pt){var Q,lt,nt,At,st,$t,R,W,J;try{const it=Fr(fn,"nota","realizadas","notas",pt),ht=await Xa(it);if(!ht.exists()){console.error("Nota no encontrada");return}const G=ht.data(),ot=G.productos,X=new ue({orientation:"portrait",unit:"mm",format:"a4"});X.setFont("courier","bold"),X.setFontSize(10);const It=20,Rt=It+60;X.text("NOTA de PEDIDO",10,10),X.setFont("courier","normal"),X.text(pt,160,10),X.text(G.fecha,160,14),X.text(`${((Q=G.cliente)==null?void 0:Q.nombre)+"("+((lt=G.cliente)==null?void 0:lt.identificador)+")"||"CONSUMIDOR FINAL"}`,It,18),X.text(((nt=G.cliente)==null?void 0:nt.direccion)||"",It,22),X.text(`${(At=G.cliente)==null?void 0:At.codigoPostal}-${(st=G.cliente)==null?void 0:st.localidad}`,It,26),X.text((($t=G.cliente)==null?void 0:$t.provincia)||"",Rt,26),X.text(`Cta. Cte. Vto.: ${(R=G.cliente)==null?void 0:R.cuentaCorriente}`,It,30),X.text(`Tel:${(W=G.cliente)==null?void 0:W.telefono}`||"Tel:",Rt,30),X.text("Monotributo",It,38),X.text(((J=G.cliente)==null?void 0:J.cuit)||"",Rt,38);let z=42+6,rt=0,Z=0;ot.forEach(mt=>{X.text(mt.codigo||"",23,z,{align:"right"}),X.text(mt.descripcion||"",30,z),X.text(String(mt.cantidad||""),112,z,{align:"right"}),X.text(String(mt.peso.toFixed(2)||""),136,z,{align:"right"}),X.text(`${Number(mt.precio).toFixed(2)}`,160,z,{align:"right"}),X.text(`${mt.descuento.toFixed(2)||"0.00"}`,177,z,{align:"right"});let wt=mt.precio*(mt.modo===1?mt.peso:mt.cantidad);rt=rt+wt,Z=Z+mt.peso,X.text(`${Number(wt).toFixed(2)}`,201,z,{align:"right"}),z+=4}),z=130,X.text("Total Kg.:",112,z,{align:"right"}),X.text(Number(Z).toFixed(2),136,z,{align:"right"}),z+=4,X.text(`TOTAL Sin Dto.: $${Number(rt).toFixed(2)}`,20,z);let j=Math.abs(rt-G.total),Tt=(rt+G.total)/2,Nt=j/Tt*100;X.text(`${Number(Nt).toFixed(2)}%`,80,z),X.text("TOTAL:",136,z,{align:"right"}),X.text(`$${Number(G.total).toFixed(2)}`,201,z,{align:"right"}),X.save(`nota_${pt}.pdf`)}catch(it){console.error("Error al imprimir nota:",it)}}return Bh(P),(pt,Q)=>{var lt,nt,At;return Le(),Je(Mn,null,[ft("div",null,[ft("button",{onClick:Q[0]||(Q[0]=st=>t.value=!0)},"Nueva Nota"),(Le(),ul(du,{to:"body"},[t.value?(Le(),Je("div",Fx,[ft("div",Mx,[ft("div",Vx,[ft("div",jx,[ft("button",{class:"close-btn",onClick:Q[1]||(Q[1]=st=>{x(),t.value=!1})},"X"),ft("div",null,[Q[9]||(Q[9]=ft("label",{for:"cliente"},"Cliente",-1)),Q[10]||(Q[10]=ft("br",null,null,-1)),Oe(ft("input",{id:"cliente","onUpdate:modelValue":Q[2]||(Q[2]=st=>n.value=st),onInput:tt,onChange:b,list:"lista-clientes",placeholder:"Buscar cliente..."},null,544),[[Me,n.value]]),ft("datalist",Bx,[Q[8]||(Q[8]=ft("option",{value:"CONSUMIDOR FINAL"},"CONSUMIDOR FINAL",-1)),(Le(!0),Je(Mn,null,Rs(h.value,st=>(Le(),Je("option",{key:st.id,value:st.identificador+" - "+st.nombre},null,8,qx))),128))])]),ft("div",null,[Q[11]||(Q[11]=ft("label",null,"Producto",-1)),Q[12]||(Q[12]=ft("br",null,null,-1)),Oe(ft("input",{"onUpdate:modelValue":Q[3]||(Q[3]=st=>r.value=st),onChange:O,onInput:_t,list:"lista-productos",placeholder:"Buscar producto por cdigo o descripcin"},null,544),[[Me,r.value]]),ft("datalist",Ux,[(Le(!0),Je(Mn,null,Rs(g.value,st=>(Le(),Je("option",{key:st.id,value:st.codigo+" - "+st.descripcion},null,8,zx))),128))])]),ft("div",null,[Q[13]||(Q[13]=ft("label",null,"Cantidad",-1)),Q[14]||(Q[14]=ft("br",null,null,-1)),Oe(ft("input",{"onUpdate:modelValue":Q[4]||(Q[4]=st=>i.value=st),type:"number"},null,512),[[Me,i.value,void 0,{number:!0}]]),Q[15]||(Q[15]=ft("br",null,null,-1)),Q[16]||(Q[16]=ft("label",null,"Peso",-1)),Q[17]||(Q[17]=ft("br",null,null,-1)),Oe(ft("input",{"onUpdate:modelValue":Q[5]||(Q[5]=st=>s.value=st),type:"number",disabled:((lt=a.value)==null?void 0:lt.modo)===0},null,8,$x),[[Me,s.value,void 0,{number:!0}]]),Q[18]||(Q[18]=ft("br",null,null,-1)),Q[19]||(Q[19]=ft("label",null,"Precio",-1)),Q[20]||(Q[20]=ft("br",null,null,-1)),ft("input",{value:((nt=a.value)==null?void 0:nt.precioUnitario)||"",disabled:""},null,8,Hx),Q[21]||(Q[21]=ft("br",null,null,-1)),Q[22]||(Q[22]=ft("label",null,"Stock",-1)),Q[23]||(Q[23]=ft("br",null,null,-1)),ft("input",{value:((At=a.value)==null?void 0:At.existencias)||"",disabled:""},null,8,Wx),Q[24]||(Q[24]=ft("br",null,null,-1)),Q[25]||(Q[25]=ft("br",null,null,-1)),ft("button",{onClick:Pt},"Agregar")])]),ft("div",Gx,[ft("div",Kx,[ft("table",Qx,[Q[32]||(Q[32]=ft("thead",null,[ft("tr",null,[ft("th",{class:"border px-4 py-2"},"Cdigo"),ft("th",{class:"border px-4 py-2"},"Descripcin"),ft("th",{class:"border px-4 py-2"},"Unidades"),ft("th",{class:"border px-4 py-2"},"Peso(g)"),ft("th",{class:"border px-4 py-2"},"Precio($)"),ft("th",{class:"border px-4 py-2"},"Dto"),ft("th",{class:"border px-4 py-2"},"Total")])],-1)),ft("tbody",null,[(Le(!0),Je(Mn,null,Rs(_.value,(st,$t)=>(Le(),Je("tr",{key:$t},[ft("td",Yx,$e(st.codigo),1),ft("td",Jx,$e(st.descripcion),1),ft("td",Xx,$e(st.cantidad),1),ft("td",Zx,$e(st.peso),1),ft("td",tI,$e(st.precio),1),ft("td",eI,$e(st.descuento)+"%",1),ft("td",nI,$e((st.precio*(st.modo===1?st.peso:st.cantidad)).toFixed(2)),1)]))),128)),ft("tr",rI,[Q[26]||(Q[26]=ft("td",null,null,-1)),Q[27]||(Q[27]=ft("td",null,null,-1)),Q[28]||(Q[28]=ft("td",null,null,-1)),Q[29]||(Q[29]=ft("td",null,null,-1)),Q[30]||(Q[30]=ft("td",null,null,-1)),Q[31]||(Q[31]=ft("td",null,"TOTAL",-1)),ft("td",null,"$"+$e(I.value.toFixed(2)),1)])])])])])]),ft("button",{onClick:E},"Generar")])])):cl("",!0)]))]),ft("div",iI,[ft("table",sI,[Q[33]||(Q[33]=ft("thead",null,[ft("tr",{class:"bg-gray-200"},[ft("th",{class:"border p-2"},"ID"),ft("th",{class:"border p-2"},"Fecha"),ft("th",{class:"border p-2"},"Cliente"),ft("th",{class:"border p-2"},"Monto Total"),ft("th",{class:"border p-2"},"Accin")])],-1)),ft("tbody",null,[(Le(!0),Je(Mn,null,Rs(k.value,st=>(Le(),Je("tr",{key:st.id,class:"hover:bg-gray-100"},[ft("td",oI,$e(st.id),1),ft("td",aI,$e(st.fecha),1),ft("td",lI,$e(st.cliente),1),ft("td",uI,"$ "+$e(st.total.toFixed(2)),1),ft("td",cI,[ft("button",{onClick:$t=>et(st.id),class:"bg-green-500 text-white px-3 py-1 rounded"},"Nota",8,hI),ft("button",{onClick:$t=>T(st.id),class:"bg-green-500 text-white px-3 py-1 rounded"},"Talonario",8,fI),ft("button",{onClick:$t=>S(st.id),class:"bg-red-500 text-white px-3 py-1 rounded"},"Eliminar",8,dI)])]))),128))])])]),ft("div",pI,[ft("button",{disabled:M.value===1,onClick:Q[6]||(Q[6]=st=>M.value--),class:"px-3 py-1 border rounded disabled:opacity-50"}," < ",8,gI),(Le(!0),Je(Mn,null,Rs(H.value,st=>(Le(),Je("button",{key:st,onClick:$t=>M.value=st,class:Ml(["px-3 py-1 border rounded",{"bg-blue-500 text-white":M.value===st}])},$e(st),11,mI))),128)),ft("button",{disabled:M.value===C.value,onClick:Q[7]||(Q[7]=st=>M.value++),class:"px-3 py-1 border rounded disabled:opacity-50"}," > ",8,vI)])],64)}}},_I=[{path:"/",name:"Stock",component:uS},{path:"/clientes",name:"Clientes",component:FS},{path:"/nota-pedido",name:"NotaPedido",component:yI}],bI=Jw({history:Iw(),routes:_I}),Bv=zb(Qb);Bv.use(bI);Bv.mount("#app");export{Qe as _};
